<app-knowledge-header  *ngIf="hasKnowledge && !loading"></app-knowledge-header>



<p-progressBar
*ngIf="loading"
mode="indeterminate"
[style]="{ height: '4px' }"
styleClass=""
></p-progressBar>

<!-- Loading state - full page loader -->
<div *ngIf="loading" class="text-center py-10 bg-light rounded mb-5 border border-1 border-light">
    <div class="my-5">
        <div class="spinner-border text-primary mb-4" role="status" style="width: 3rem; height: 3rem;">
            <span class="visually-hidden">Loading...</span>
        </div>
        <h3 class="fw-bold text-gray-800 mb-2">Loading Knowledge</h3>
        <p class="text-gray-600 fs-6 px-3">Please wait while we fetch your knowledge...</p>
    </div>
</div>

<!-- Show router outlet when user has knowledge -->
<ng-container *ngIf="hasKnowledge && !loading">
  <router-outlet></router-outlet>
</ng-container>

<!-- Show empty state when user has no knowledge -->
<div class="card min-vh-50" *ngIf="!hasKnowledge && !loading">
  <div class="card-body d-flex flex-column align-items-center justify-content-center py-15">
    <!-- Empty state illustration -->
    <div class="text-center">
      <img src="assets/media/illustrations/misc/upload_knowledge.svg" width="350" height="350" alt="{{ 'KNOWLEDGE.UPLOAD_ILLUSTRATION_ALT' | translate }}">
    </div>
    
    <!-- Message -->
    <h1 class="text-dark mb-3 fs-2">{{ 'KNOWLEDGE.NO_ITEMS_YET' | translate }}</h1>
    <p class="text-muted fs-5 text-center mb-10 max-w-500px">{{ 'KNOWLEDGE.START_CREATING' | translate }}</p>
    
    <!-- Add Knowledge button -->
    <a [routerLink]="['/app/add-knowledge']" class="btn btn-primary btn-lg px-8">
      <i class="ki-duotone ki-plus-square fs-2 me-2">
        <span class="path1"></span>
        <span class="path2"></span>
        <span class="path3"></span>
      </i>
      {{ 'KNOWLEDGE.ADD_KNOWLEDGE' | translate }}
    </a>
  </div>
</div>
