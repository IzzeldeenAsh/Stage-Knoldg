<div class="container">
   <div class="py-lg-10">
    <div class="description-box p-3 bg-none rounded mb-3">
      <!-- <p class="lead" [innerHTML]="knowledge.description"></p> -->
       <p class="lead ">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        <br><br>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
       </p>
      
    </div>
    <div class="w-100 h-75px bg-light d-flex align-items-center justify-content-start px-5 ">
        <div class="d-flex align-items-center gap-3"> 
          <div class="star">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none" viewBox="0 0 64 64" role="presentation" aria-hidden="true" focusable="false" class="hs fi">
              <path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg>
          </div>
          <span class="text-dark fs-4 fw-bold">
            {{ (lang === 'ar' ? "عدة مستندات؟ يمكنك الاختيار وتنزيلها بشكل منفصل." : 'Multiple files? You can select and download separately') }}
          </span>
        </div>
    </div>
    <div class="documents-container">
        <div
          class="document-card d-flex flex-row align-items-center p-10 cursor-pointer position-relative"
          *ngFor="let doc of documentsDummy"
          [ngClass]="{ 'active': activeDocumentId === doc.id }"
          (mouseenter)="onDocumentMouseEnter(doc.id)"
          (mouseleave)="onDocumentMouseLeave(doc.id)"
          (click)="toggleCollapse(doc.id, $event)"
         
        >
        <!--  [attr.data-label]="doc.highlighted ? 'Best Match' : ''" -->
          <!-- Icon -->
          <div class="file-icon me-3">
            <img
              [src]="getFileIconByExtension(doc.file_extension)"
              alt="file icon" 
              width="40"
              height="40"
              [ngClass]="{'animate__animated animate__pulse': activeDocumentId === doc.id}"
            />
            
          </div>
      
          <!-- Main Info -->
          <div class="flex-grow-1">
            <div class="d-flex justify-content-between align-items-center">
              <span *ngIf="doc.highlighted" class="badge bg-info text-white position-absolute top-0 left-10px translate-middle-y me-3 animate__animated animate__fadeInRight">
                <i class="bi bi-star-fill me-1 text-white"></i> Best Match
              </span>
              <div>
                <h5 class="mb-1" [ngClass]="{'text-info fw-bold': activeDocumentId === doc.id}">{{ doc.file_name }}</h5>
                <small class="text-muted">{{ doc.file_size | fileSize }} bytes</small>
              </div>
              <div>
                <span class="badge me-2 px-2 py-1" 
                  [ngClass]="{'bg-info text-white fs-4' : activeDocumentId === doc.id, 'bg-secondary fs-6': activeDocumentId !== doc.id}">
                  {{ doc.price | currency }}
                </span>
             
                <!-- Expand/Collapse Arrow -->
                <button
                  class="btn btn-sm btn-link p-0"
                  (click)="toggleCollapse(doc.id, $event)"
                  [ngClass]="{'text-info': activeDocumentId === doc.id}"
                >
                  <i class="bi" [ngClass]="activeDocumentId === doc.id ? 'bi-caret-up-fill' : 'bi-caret-down-fill'"></i>
                </button>
              </div>
            </div>
      
            <!-- Collapsible section -->
            <div
              class="collapse-content mt-3"
              [ngClass]="{ 'collapse': activeDocumentId !== doc.id }"
            >
              <!-- Description -->
              <div *ngIf="doc.description">
                <p>{{doc.description}}</p>
              </div>
              <div *ngIf="!doc.description">
                <strong [ngClass]="{'text-info': activeDocumentId === doc.id}">Description:</strong>
                <p class="text-muted">No description provided.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
   </div>
</div> 