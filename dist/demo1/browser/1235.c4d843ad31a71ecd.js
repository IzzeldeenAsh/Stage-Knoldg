"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[1235],{1235:(Q,B,d)=>{d.r(B),d.d(B,{AccountsModule:()=>Ke});var h=d(177),i=d(2791),e=d(4438),w=d(9998);let O=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275cmp=e.VBU({type:a,selectors:[["app-accounts"]],decls:2,vars:0,template:function(n,s){1&n&&e.nrm(0,"p-toast")(1,"router-outlet")},dependencies:[i.n3,w.y8]})}return a})();var k=d(5779),A=d(8032),P=d.n(A),T=d(1626),$=d(4412),G=d(8810),y=d(6354),b=d(9437),v=d(980),u=d(779);let D=(()=>{class a{http;translationService;apiUrl="https://api.foresighta.co/api/admin/account/staff/list";createApi="https://api.foresighta.co/api/admin/account/staff";updateDeleteApi="https://api.foresighta.co/api/admin/account/staff";isLoadingSubject=new $.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.translationService.onLanguageChange().subscribe(s=>{this.currentLang=s||"en"})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){let n=[];if(t.error.errors){const s=t.error.errors;for(const r in s)s.hasOwnProperty(r)&&s[r].forEach(f=>{n.push({severity:"error",summary:"Validation Error",detail:f})})}return(0,G.$)(()=>({validationMessages:n}))}getStaffList(){const t=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(this.apiUrl,{headers:t}).pipe((0,y.T)(n=>n.data),(0,b.W)(n=>this.handleError(n)),(0,v.j)(()=>this.setLoading(!1)))}createStaff(t){const n=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.createApi,t,{headers:n}).pipe((0,y.T)(s=>s),(0,b.W)(s=>this.handleError(s)),(0,v.j)(()=>this.setLoading(!1)))}updateStaff(t,n){const s=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.updateDeleteApi}/${t}`,n,{headers:s}).pipe((0,y.T)(r=>r),(0,b.W)(r=>this.handleError(r)),(0,v.j)(()=>this.setLoading(!1)))}deleteStaff(t){const n=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.delete(`${this.updateDeleteApi}/${t}`,{headers:n}).pipe((0,y.T)(s=>s),(0,b.W)(s=>this.handleError(s)),(0,v.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||a)(e.KVO(T.Qq),e.KVO(u.L))};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var S=d(4127),L=d(7684);let R=(()=>{class a{http;translationService;apiUrl="https://api.foresighta.co/api/admin/account/role/list";userRoleUrl="https://api.foresighta.co/api/admin/account/role/user";rolePermissionsApi="https://api.foresighta.co/api/admin/account/permission/role";syncRolePermissionsApi="https://api.foresighta.co/api/admin/account/permission/role/sync";isLoadingSubject=new $.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.translationService.onLanguageChange().subscribe(s=>{this.currentLang=s||"en"})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){return console.error("Error from service",t),(0,G.$)(()=>t)}getRoles(){const t=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(this.apiUrl,{headers:t}).pipe((0,y.T)(n=>n.data),(0,b.W)(n=>this.handleError(n)),(0,v.j)(()=>this.setLoading(!1)))}getRolePermissions(t){const n=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.rolePermissionsApi}/${t}`,{headers:n}).pipe((0,y.T)(s=>s.data),(0,b.W)(s=>this.handleError(s)),(0,v.j)(()=>this.setLoading(!1)))}updateRolePermissions(t,n){const s=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.syncRolePermissionsApi}/${t}`,n,{headers:s}).pipe((0,y.T)(r=>r),(0,b.W)(r=>this.handleError(r)),(0,v.j)(()=>this.setLoading(!1)))}getRolesByUserId(t){const n=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.userRoleUrl}/${t}`,{headers:n}).pipe((0,y.T)(s=>s.data),(0,b.W)(s=>this.handleError(s)),(0,v.j)(()=>this.setLoading(!1)))}syncRolesForUser(t,n){const s=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`https://api.foresighta.co/api/admin/account/role/user/sync/${t}`,{roles:n},{headers:s}).pipe((0,b.W)(o=>this.handleError(o)),(0,v.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||a)(e.KVO(T.Qq),e.KVO(u.L))};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var m=d(5430),F=d(2609),c=d(9417),C=d(4582),j=d(6781),E=d(1579),V=d(2242),U=d(8833),J=d(8542);const K=["dt"],z=()=>({width:"50%"}),X=()=>({height:"4px"}),Z=()=>({width:"40rem"}),p=()=>["name","email"];function x(a,g){1&a&&e.nrm(0,"p-progressBar",8),2&a&&e.Aen(e.lJ4(2,X))}function l(a,g){if(1&a){const t=e.RV6();e.j41(0,"p-messages",4),e.mxI("valueChange",function(s){e.eBV(t);const r=e.XpG(2);return e.DH7(r.messages,s)||(r.messages=s),e.Njj(s)}),e.k0s()}if(2&a){const t=e.XpG(2);e.R50("value",t.messages),e.Y8G("enableService",!1)}}function _(a,g){if(1&a){const t=e.RV6();e.j41(0,"p-messages",4),e.mxI("valueChange",function(s){e.eBV(t);const r=e.XpG(2);return e.DH7(r.messages,s)||(r.messages=s),e.Njj(s)}),e.k0s()}if(2&a){const t=e.XpG(2);e.R50("value",t.messages),e.Y8G("enableService",!1)}}function I(a,g){1&a&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Name"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Email"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Roles"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Action"),e.k0s()())}function M(a,g){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"a",49),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.editRoles(s))}),e.EFF(9,"Edit Role"),e.k0s(),e.j41(10,"a",50),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.editStaff(s))}),e.j41(11,"i",51),e.nrm(12,"span",52)(13,"span",53),e.k0s()(),e.j41(14,"a",54),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.deleteStaff(s.id))}),e.j41(15,"i",55),e.nrm(16,"span",52)(17,"span",53)(18,"span",56)(19,"span",57)(20,"span",58),e.k0s()()()()}if(2&a){const t=g.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.roles.join(", "))}}function Y(a,g){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h1",13),e.EFF(6," Staff "),e.k0s(),e.j41(7,"div",14),e.EFF(8),e.k0s()(),e.j41(9,"div",15)(10,"a",16),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.showDialog())}),e.nrm(11,"i",17),e.EFF(12," Create "),e.k0s(),e.j41(13,"p-dialog",18),e.mxI("visibleChange",function(s){e.eBV(t);const r=e.XpG();return e.DH7(r.visible,s)||(r.visible=s),e.Njj(s)}),e.DNE(14,l,1,2,"p-messages",19),e.j41(15,"span",20),e.EFF(16),e.k0s(),e.j41(17,"div",21)(18,"label",22),e.EFF(19,"Name"),e.k0s(),e.j41(20,"div",23)(21,"input",24),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG();return e.DH7(r.newStaffName,s)||(r.newStaffName=s),e.Njj(s)}),e.k0s()()(),e.j41(22,"div",21)(23,"label",25),e.EFF(24,"Email"),e.k0s(),e.j41(25,"div",23)(26,"input",26),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG();return e.DH7(r.newStaffEmail,s)||(r.newStaffEmail=s),e.Njj(s)}),e.k0s()()(),e.j41(27,"div",21)(28,"label",27),e.EFF(29,"Department"),e.k0s(),e.j41(30,"div",23)(31,"p-dropdown",28),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG();return e.DH7(r.newDepartmentId,s)||(r.newDepartmentId=s),e.Njj(s)}),e.k0s()()(),e.j41(32,"div",21)(33,"label",29),e.EFF(34,"Position"),e.k0s(),e.j41(35,"div",23)(36,"p-dropdown",30),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG();return e.DH7(r.newPositionId,s)||(r.newPositionId=s),e.Njj(s)}),e.k0s()()(),e.j41(37,"div",31)(38,"button",6),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.submit())}),e.EFF(39," Save "),e.k0s(),e.j41(40,"button",7),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.visible=!1)}),e.EFF(41," Cancel "),e.k0s()()()()()()(),e.j41(42,"div",32)(43,"div",33)(44,"div",34)(45,"div",35)(46,"div",36)(47,"div",37),e.nrm(48,"i",38),e.j41(49,"input",39),e.bIt("input",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.applyFilter(s))}),e.k0s()()(),e.j41(50,"div",40)(51,"div",41)(52,"div",42),e.nrm(53,"span",43),e.EFF(54," Selected "),e.k0s(),e.j41(55,"button",44),e.EFF(56," Delete Selected "),e.k0s()()()(),e.j41(57,"div",45),e.DNE(58,_,1,2,"p-messages",19),e.j41(59,"p-table",46,0),e.DNE(61,I,9,0,"ng-template",47)(62,M,21,3,"ng-template",48),e.k0s()()()()(),e.bVm()}if(2&a){const t=e.XpG();e.R7$(8),e.SpI("",t.listOfStaff.length," Staff Members"),e.R7$(5),e.Aen(e.lJ4(20,Z)),e.Y8G("header",t.isEditMode?"Edit Staff":"Add Staff")("modal",!0),e.R50("visible",t.visible),e.R7$(),e.Y8G("ngIf",t.hasErrorMessage),e.R7$(2),e.SpI("",t.isEditMode?"Edit Staff Details":"Add Staff Details","."),e.R7$(5),e.R50("ngModel",t.newStaffName),e.R7$(5),e.R50("ngModel",t.newStaffEmail),e.R7$(5),e.Y8G("options",t.listOfDepartments),e.R50("ngModel",t.newDepartmentId),e.R7$(5),e.Y8G("options",t.listOfPositions),e.R50("ngModel",t.newPositionId),e.R7$(2),e.Y8G("disabled",!t.newPositionId||!t.newStaffEmail||!t.newStaffName),e.R7$(20),e.Y8G("ngIf",t.hasSuccessMessage),e.R7$(),e.Y8G("value",t.listOfStaff)("paginator",!1)("rows",10)("globalFilterFields",e.lJ4(21,p))}}function ae(a,g){1&a&&e.nrm(0,"p-progressBar",8),2&a&&e.Aen(e.lJ4(2,X))}function re(a,g){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"p-checkbox",61),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG(2);return e.DH7(r.userRoles,s)||(r.userRoles=s),e.Njj(s)}),e.k0s()(),e.j41(3,"td",62),e.EFF(4),e.k0s()()}if(2&a){const t=g.$implicit,n=e.XpG(2);e.R7$(2),e.Mz_("name","role",t.id,""),e.FS9("label",t.display_name),e.FS9("inputId","role"+t.id),e.Y8G("value",t.id),e.R50("ngModel",n.userRoles),e.R7$(2),e.JRh(t.description)}}function oe(a,g){if(1&a&&(e.j41(0,"div")(1,"table",59)(2,"thead")(3,"tr")(4,"th"),e.EFF(5,"Role"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Description"),e.k0s()()(),e.j41(8,"tbody"),e.DNE(9,re,5,7,"tr",60),e.k0s()()()),2&a){const t=e.XpG();e.R7$(9),e.Y8G("ngForOf",t.listOfRoles)}}function le(a,g){1&a&&(e.qex(0),e.j41(1,"span",63),e.EFF(2,"Save"),e.k0s(),e.bVm())}function ce(a,g){1&a&&(e.qex(0),e.j41(1,"span",64),e.EFF(2," Please wait "),e.nrm(3,"span",65),e.k0s(),e.bVm())}let pe=(()=>{class a{staffService;departmentsService;positionsService;rolesService;messageService;cdr;messages=[];unsubscribe=[];listOfStaff=[];listOfDepartments=[];listOfPositions=[];isEditMode=!1;isLoading$;selectedStaffId=null;visible=!1;newStaffName="";newStaffEmail="";newDepartmentId=null;newPositionId=null;rolesDialogVisible=!1;listOfRoles=[];userRoles=[];table;paginator={page:1,pageSize:10,pageSizes:[10,20,30,50,100],total:0};constructor(t,n,s,r,o,f){this.staffService=t,this.departmentsService=n,this.positionsService=s,this.rolesService=r,this.messageService=o,this.cdr=f,this.isLoading$=this.staffService.isLoading$}ngOnInit(){this.getStaffList(),this.getDepartmentsList(),this.getPositionsList()}showDialog(){this.visible=!0,this.newStaffName="",this.newStaffEmail="",this.newDepartmentId=null,this.newPositionId=null,this.selectedStaffId=null,this.isEditMode=!1}editStaff(t){this.visible=!0,this.newStaffName=t.name,this.newStaffEmail=t.email,this.newDepartmentId=t.department?.id||null,this.newPositionId=t.position?.id||null,this.selectedStaffId=t.id,this.isEditMode=!0}editRoles(t){this.selectedStaffId=t.id,this.rolesDialogVisible=!0,this.userRoles=[],this.getAllRoles(),this.getUserRoles(t.id)}handleServerErrors(t){if(this.messages=[],this.messageService.clear(),t?.error?.errors){const n=t.error.errors;for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&n[s].forEach(o=>this.messageService.add({severity:"error",summary:"Error",detail:o}))}else this.messageService.add({severity:"error",summary:"Error",detail:"An unexpected error occurred."})}getStaffList(){const t=this.staffService.getStaffList().subscribe({next:n=>{this.listOfStaff=n,this.cdr.detectChanges()},error:n=>{this.handleServerErrors(n)}});this.unsubscribe.push(t)}getDepartmentsList(){const t=this.departmentsService.getDepartments().subscribe({next:n=>{this.listOfDepartments=n,this.cdr.detectChanges()},error:n=>{console.error("Failed to fetch departments",n)}});this.unsubscribe.push(t)}getPositionsList(){const t=this.positionsService.getPositions(this.paginator.page,this.paginator.pageSize).subscribe({next:n=>{this.listOfPositions=n.data,this.paginator.total=n.meta.total,this.cdr.detectChanges()},error:n=>{console.error("Failed to fetch positions",n)}});this.unsubscribe.push(t)}applyFilter(t){const n=t.target.value.trim().toLowerCase();this.table.filterGlobal(n,"contains")}get hasSuccessMessage(){return this.messages.some(t=>"success"===t.severity)}get hasErrorMessage(){return this.messages.some(t=>"error"===t.severity)}submit(){this.messages=[];const t={name:this.newStaffName,email:this.newStaffEmail,department_id:this.newDepartmentId?.toString(),position_id:this.newPositionId?.toString()},s=(this.selectedStaffId?this.staffService.updateStaff(this.selectedStaffId,t):this.staffService.createStaff(t)).subscribe({next:r=>{this.messages.push({severity:"success",summary:"Success",detail:`Staff ${this.selectedStaffId?"updated":"created"} successfully.`}),this.getStaffList(),this.visible=!1},error:r=>{this.handleServerErrors(r)}});this.unsubscribe.push(s)}deleteStaff(t){this.messages=[],P().fire({title:"Are you sure?",text:"Do you want to delete this staff? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(n=>{if(n.isConfirmed){const s=this.staffService.deleteStaff(t).subscribe({next:r=>{this.messages.push({severity:"success",summary:"Success",detail:"Staff deleted successfully."}),this.getStaffList()},error:r=>{this.handleServerErrors(r)}});this.unsubscribe.push(s)}})}getAllRoles(){const t=this.rolesService.getRoles().subscribe({next:n=>{this.listOfRoles=n,this.cdr.detectChanges()},error:n=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to fetch roles."}),console.error("Error fetching roles",n)}});this.unsubscribe.push(t)}getUserRoles(t){const n=this.rolesService.getRolesByUserId(t).subscribe({next:s=>{this.userRoles=s.map(r=>r.id),this.cdr.detectChanges()},error:s=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to fetch user roles."}),console.error("Error fetching user roles",s)}});this.unsubscribe.push(n)}submitRoles(){if(null!==this.selectedStaffId){this.messageService.clear();const t=this.rolesService.syncRolesForUser(this.selectedStaffId,this.userRoles).subscribe({next:n=>{this.messages.push({severity:"success",summary:"Success",detail:"Roles updated successfully."}),this.rolesDialogVisible=!1,this.getStaffList()},error:n=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to update roles."}),console.error("Error updating roles",n)}});this.unsubscribe.push(t)}}pageChange(t){this.paginator.page=t,this.getPositionsList()}pageSizeChange(t){const n=t.target;if(n){const s=parseInt(n.value,10);this.paginator.pageSize=s,this.paginator.page=1,this.getPositionsList()}}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}static \u0275fac=function(n){return new(n||a)(e.rXU(D),e.rXU(S.f),e.rXU(L.c),e.rXU(R),e.rXU(k.bg),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:a,selectors:[["app-staff"]],viewQuery:function(n,s){if(1&n&&e.GBs(K,5),2&n){let r;e.mGM(r=e.lsd())&&(s.table=r.first)}},features:[e.Jv_([k.bg])],decls:18,vars:26,consts:[["dt",""],["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["header","Edit Roles",3,"visibleChange","visible","modal"],[3,"valueChange","value","enableService"],[1,"d-flex","justify-content-end","gap-2","mt-3"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["mode","indeterminate"],["id","kt_app_toolbar",1,"app-toolbar","pt-10","mb-0"],["id","kt_app_toolbar_container",1,"app-container","container-fluid","d-flex","align-items-stretch"],[1,"app-toolbar-wrapper","d-flex","flex-stack","flex-wrap","gap-4","w-100"],[1,"page-title","d-flex","flex-column","justify-content-center","gap-1","me-3"],[1,"page-heading","d-flex","flex-column","justify-content-center","text-gray-900","fw-bold","fs-3","m-0"],[1,"fw-semibold","fs-7","my-0","text-muted"],[1,"d-flex","align-items-center","gap-2","gap-lg-3"],[1,"btn","btn-sm","btn-flex","btn-primary",3,"click"],[1,"ki-outline","ki-plus","text-white","fs-4"],["appendTo","body",3,"visibleChange","header","modal","visible"],[3,"value","enableService","valueChange",4,"ngIf"],[1,"text-muted","mb-3","d-block"],[1,"mb-3","row"],["for","staffName",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["pInputText","","id","staffName","name","staffName","autocomplete","off",1,"w-100",3,"ngModelChange","ngModel"],["for","staffEmail",1,"col-sm-3","col-form-label"],["pInputText","","id","staffEmail","name","staffEmail","autocomplete","off",1,"w-100",3,"ngModelChange","ngModel"],["for","department",1,"col-sm-3","col-form-label"],["appendTo","body","id","department","optionLabel","name","optionValue","id","placeholder","Select Department",1,"w-100","overflow-visible",3,"ngModelChange","options","ngModel"],["for","position",1,"col-sm-3","col-form-label"],["appendTo","body","id","position","optionLabel","name","optionValue","id","placeholder","Select Position",1,"w-100","overflow-visible",3,"ngModelChange","options","ngModel"],[1,"d-flex","justify-content-end","gap-2"],["id","kt_app_content",1,"app-content","flex-column-fluid"],["id","kt_app_content_container",1,"app-container","container-fluid"],[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"pi","pi-search","fs-3","position-absolute","ms-5"],["type","text","pInputText","","placeholder","Search Staff",1,"form-control","form-control-solid","w-250px","ps-12",3,"input"],[1,"card-toolbar"],["data-kt-customer-table-toolbar","selected",1,"d-flex","justify-content-end","align-items-center","d-none"],[1,"fw-bold","me-5"],["data-kt-customer-table-select","selected_count",1,"me-2"],["type","button","data-kt-customer-table-select","delete_selected",1,"btn","btn-danger"],[1,"card-body","pt-0"],[1,"table-p",3,"value","paginator","rows","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["pTooltip","Edit Roles",1,"mx-1","btn","btn-sm","btn-light","bg-hover-primary",3,"click"],["pTooltip","Edit Staff","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],[1,"path1"],[1,"path2"],["pTooltip","Delete Staff","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"],[1,"table"],[4,"ngFor","ngForOf"],[3,"ngModelChange","name","value","label","ngModel","inputId"],[1,"text-muted"],[1,"indicator-label"],[1,"indicator-progress",2,"display","block"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(n,s){1&n&&(e.DNE(0,x,1,3,"p-progressBar",1),e.nI1(1,"async"),e.DNE(2,Y,63,22,"ng-container",2),e.nI1(3,"async"),e.j41(4,"p-dialog",3),e.mxI("visibleChange",function(o){return e.DH7(s.rolesDialogVisible,o)||(s.rolesDialogVisible=o),o}),e.DNE(5,ae,1,3,"p-progressBar",1),e.nI1(6,"async"),e.j41(7,"p-messages",4),e.mxI("valueChange",function(o){return e.DH7(s.messages,o)||(s.messages=o),o}),e.k0s(),e.DNE(8,oe,10,1,"div",2),e.j41(9,"div",5)(10,"button",6),e.nI1(11,"async"),e.bIt("click",function(){return s.submitRoles()}),e.DNE(12,le,3,0,"ng-container",2),e.nI1(13,"async"),e.DNE(14,ce,4,0,"ng-container",2),e.nI1(15,"async"),e.k0s(),e.j41(16,"button",7),e.bIt("click",function(){return s.rolesDialogVisible=!1}),e.EFF(17," Cancel "),e.k0s()()()),2&n&&(e.Y8G("ngIf",e.bMT(1,13,s.isLoading$)),e.R7$(2),e.Y8G("ngIf",!1===e.bMT(3,15,s.isLoading$)),e.R7$(2),e.Aen(e.lJ4(25,z)),e.R50("visible",s.rolesDialogVisible),e.Y8G("modal",!0),e.R7$(),e.Y8G("ngIf",e.bMT(6,17,s.isLoading$)),e.R7$(2),e.R50("value",s.messages),e.Y8G("enableService",!1),e.R7$(),e.Y8G("ngIf",s.listOfRoles&&s.userRoles),e.R7$(2),e.Y8G("disabled",e.bMT(11,19,s.isLoading$)),e.R7$(2),e.Y8G("ngIf",!e.bMT(13,21,s.isLoading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(15,23,s.isLoading$)))},dependencies:[h.Sq,h.bT,m.Sc,k.Ei,F.B,c.me,c.BC,C.XI,j.l,E.z,V.S,c.vS,U.ms,J.m,h.Jj]})}return a})(),se=(()=>{class a{http;translationService;apiUrl="https://api.foresighta.co/api/admin/account/permission/list";isLoadingSubject=new $.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.translationService.onLanguageChange().subscribe(s=>{this.currentLang=s||"en"})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){return console.error("Error from service",t),(0,G.$)(()=>t)}getPermissions(){const t=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(this.apiUrl,{headers:t}).pipe((0,y.T)(n=>n.data),(0,b.W)(n=>this.handleError(n)),(0,v.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||a)(e.KVO(T.Qq),e.KVO(u.L))};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var H=d(2100);const de=()=>({height:"4px"});function me(a,g){1&a&&e.nrm(0,"p-progressBar",2),2&a&&e.Aen(e.lJ4(2,de))}function ge(a,g){if(1&a){const t=e.RV6();e.j41(0,"p-checkbox",8),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG(2);return e.DH7(r.selectedPermissions,s)||(r.selectedPermissions=s),e.Njj(s)}),e.k0s()}if(2&a){const t=g.$implicit,n=e.XpG(2);e.FS9("label",t.display_name),e.Y8G("name","permission"+t.id)("value",t.id),e.R50("ngModel",n.selectedPermissions)}}function ue(a,g){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"h3"),e.EFF(2),e.k0s(),e.j41(3,"p"),e.EFF(4,"Select permissions for this role:"),e.k0s(),e.j41(5,"div",3),e.DNE(6,ge,1,4,"p-checkbox",4),e.k0s(),e.j41(7,"div",5)(8,"button",6),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.save())}),e.EFF(9," Save "),e.k0s(),e.j41(10,"button",7),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.cancel())}),e.EFF(11," Cancel "),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(t.roleName),e.R7$(4),e.Y8G("ngForOf",t.permissions),e.R7$(2),e.Y8G("disabled",t.isLoading)}}let he=(()=>{class a{permissionsService;rolesService;config;ref;messageService;roleId;roleName;permissions=[];selectedPermissions=[];isLoading=!1;constructor(t,n,s,r,o){this.permissionsService=t,this.rolesService=n,this.config=s,this.ref=r,this.messageService=o,this.roleId=this.config.data.roleId,this.roleName=this.config.data.roleName}ngOnInit(){this.loadPermissions()}loadPermissions(){this.isLoading=!0,this.permissionsService.getPermissions().subscribe({next:t=>{this.permissions=t,this.rolesService.getRolePermissions(this.roleId).subscribe({next:n=>{this.selectedPermissions=n.map(s=>s.id),this.isLoading=!1},error:()=>{this.isLoading=!1}})},error:()=>{this.isLoading=!1}})}save(){this.isLoading=!0,this.rolesService.updateRolePermissions(this.roleId,{permissions:this.selectedPermissions}).subscribe({next:()=>{this.isLoading=!1,this.ref.close(!0)},error:()=>{this.isLoading=!1}})}cancel(){this.ref.close()}static \u0275fac=function(n){return new(n||a)(e.rXU(se),e.rXU(R),e.rXU(H.sb),e.rXU(H.Pw),e.rXU(k.bg))};static \u0275cmp=e.VBU({type:a,selectors:[["app-edit-permissions-dialog"]],decls:2,vars:2,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],[1,"permissions-list"],["class","pt-2",3,"name","value","label","ngModel","ngModelChange",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","gap-2","mt-3"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"pt-2",3,"ngModelChange","name","value","label","ngModel"]],template:function(n,s){1&n&&e.DNE(0,me,1,3,"p-progressBar",0)(1,ue,12,3,"div",1),2&n&&(e.Y8G("ngIf",s.isLoading),e.R7$(),e.Y8G("ngIf",!s.isLoading))},dependencies:[h.Sq,h.bT,m.Sc,c.BC,E.z,c.vS],styles:[".permissions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:400px;overflow-y:auto}"]})}return a})(),fe=(()=>{class a{http;translationService;apiUrl="https://api.foresighta.co/api/admin/account/role/list";createApi="https://api.foresighta.co/api/admin/account/role";updateDeleteApi="https://api.foresighta.co/api/admin/account/role";isLoadingSubject=new $.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.translationService.onLanguageChange().subscribe(s=>{this.currentLang=s||"en"})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){return(0,G.$)(t)}getRoles(){const t=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(this.apiUrl,{headers:t}).pipe((0,y.T)(n=>n.data),(0,b.W)(n=>this.handleError(n)),(0,v.j)(()=>this.setLoading(!1)))}createRole(t){const n=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.createApi,t,{headers:n}).pipe((0,y.T)(s=>s),(0,b.W)(s=>this.handleError(s)),(0,v.j)(()=>this.setLoading(!1)))}updateRole(t,n){const s=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.updateDeleteApi}/${t}`,n,{headers:s}).pipe((0,y.T)(r=>r),(0,b.W)(r=>this.handleError(r)),(0,v.j)(()=>this.setLoading(!1)))}deleteRole(t){const n=new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.delete(`${this.updateDeleteApi}/${t}`,{headers:n}).pipe((0,y.T)(s=>s),(0,b.W)(s=>this.handleError(s)),(0,v.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||a)(e.KVO(T.Qq),e.KVO(u.L))};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var ne=d(4827);const _e=()=>({height:"4px"});function be(a,g){1&a&&e.nrm(0,"p-progressBar",10),2&a&&e.Aen(e.lJ4(2,_e))}function ve(a,g){1&a&&e.nrm(0,"p-chip",34),2&a&&e.Y8G("label",g.$implicit.name)}function ye(a,g){if(1&a&&(e.j41(0,"div",30)(1,"div",31),e.EFF(2,"Permissions"),e.k0s(),e.j41(3,"div",32),e.DNE(4,ve,1,1,"p-chip",33),e.k0s()()),2&a){const t=e.XpG().$implicit;e.R7$(4),e.Y8G("ngForOf",t.permissions)}}function Ce(a,g){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"div",18)(7,"div",19)(8,"span",20),e.nrm(9,"img",21),e.k0s()(),e.j41(10,"div",22)(11,"div",23),e.EFF(12),e.k0s(),e.j41(13,"span",24),e.EFF(14),e.k0s()()()()(),e.DNE(15,ye,5,1,"div",25),e.k0s(),e.j41(16,"div",26),e.nrm(17,"hr",27),e.j41(18,"div",28)(19,"a",29),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.openEditPermissionsDialog(s))}),e.EFF(20,"Sync"),e.k0s()()()()(),e.bVm()}if(2&a){const t=g.$implicit;e.R7$(12),e.SpI(" ",t.display_name," "),e.R7$(2),e.JRh(t.description),e.R7$(),e.Y8G("ngIf",t.permissions&&t.permissions.length>0)}}function Te(a,g){if(1&a&&(e.qex(0),e.j41(1,"div",11),e.DNE(2,Ce,21,3,"ng-container",12),e.k0s(),e.bVm()),2&a){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.roles)}}let Se=(()=>{class a{rolesService;fb;messageService;dialogService;roles=[];isLoading$;unsubscribe=[];roleForm;messages=[];isEditMode=!1;selectedRoleId=null;visible=!1;constructor(t,n,s,r){this.rolesService=t,this.fb=n,this.messageService=s,this.dialogService=r,this.isLoading$=this.rolesService.isLoading$}ngOnInit(){this.initializeForm(),this.getRolesList()}initializeForm(){this.roleForm=this.fb.group({displayName:["",c.k0.required],description:["",c.k0.required]})}openEditPermissionsDialog(t){this.dialogService.open(he,{header:"Edit Permissions",width:"50%",data:{roleId:t.id,roleName:t.display_name}}).onClose.subscribe(s=>{s&&(this.messageService.add({severity:"success",summary:"Success",detail:"Permissions updated successfully."}),this.getRolesList())})}getRolesList(){const t=this.rolesService.getRoles().subscribe({next:n=>{this.roles=n},error:n=>{this.handleServerErrors(n)}});this.unsubscribe.push(t)}showDialog(){this.visible=!0,this.selectedRoleId=null,this.isEditMode=!1,this.roleForm.reset()}editRole(t){this.visible=!0,this.selectedRoleId=t.id,this.isEditMode=!0,this.roleForm.patchValue({displayName:t.display_name,description:t.description})}submit(){if(this.messages=[],this.roleForm.invalid)return void this.roleForm.markAllAsTouched();const t=this.roleForm.value;if(this.selectedRoleId){const n=this.rolesService.updateRole(this.selectedRoleId,{display_name:t.displayName,description:t.description}).subscribe({next:s=>{this.messageService.add({severity:"success",summary:"Success",detail:"Role updated successfully."}),this.getRolesList(),this.visible=!1,this.roleForm.reset()},error:s=>{this.handleServerErrors(s)}});this.unsubscribe.push(n)}else{const n=this.rolesService.createRole({display_name:t.displayName,description:t.description}).subscribe({next:s=>{this.messageService.add({severity:"success",summary:"Success",detail:"Role created successfully."}),this.getRolesList(),this.visible=!1,this.roleForm.reset()},error:s=>{this.handleServerErrors(s)}});this.unsubscribe.push(n)}}deleteRole(t){P().fire({title:"Are you sure?",text:"Do you want to delete this role? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(n=>{if(n.isConfirmed){const s=this.rolesService.deleteRole(t).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Success",detail:"Role deleted successfully."}),this.getRolesList()},error:r=>{this.handleServerErrors(r)}});this.unsubscribe.push(s)}})}handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors,s={display_name:"displayName",description:"description"};for(const r in n)if(n.hasOwnProperty(r)){const o=n[r],f=s[r];if(f){const N=this.roleForm.get(f);N&&(N.setErrors({serverError:o[0]}),N.markAsTouched())}else this.messages.push({severity:"error",summary:"",detail:o.join(", ")})}}else this.messages.push({severity:"error",summary:"Error",detail:"An unexpected error occurred."})}onCancel(){this.visible=!1,this.roleForm.reset()}get displayName(){return this.roleForm.get("displayName")}get description(){return this.roleForm.get("description")}get hasSuccessMessage(){return this.messages.some(t=>"success"===t.severity)}get hasErrorMessage(){return this.messages.some(t=>"error"===t.severity)}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}static \u0275fac=function(n){return new(n||a)(e.rXU(fe),e.rXU(c.ok),e.rXU(k.bg),e.rXU(H.o3))};static \u0275cmp=e.VBU({type:a,selectors:[["app-roles"]],decls:14,vars:7,consts:[["mode","indeterminate",3,"style",4,"ngIf"],["id","kt_app_toolbar",1,"app-toolbar","pt-10","mb-0"],["id","kt_app_toolbar_container",1,"app-container","container-fluid","d-flex","align-items-stretch"],[1,"app-toolbar-wrapper","d-flex","flex-stack","flex-wrap","gap-4","w-100"],[1,"page-title","d-flex","flex-column","justify-content-center","gap-1","me-3"],[1,"page-heading","d-flex","flex-column","justify-content-center","text-gray-900","fw-bold","fs-3","m-0"],[1,"fw-semibold","fs-7","my-0","text-muted"],["id","kt_app_content",1,"app-content","flex-column-fluid"],["id","kt_app_content_container",1,"app-container","container-fluid"],[4,"ngIf"],["mode","indeterminate"],[1,"row","g-5","g-xl-8"],[4,"ngFor","ngForOf"],[1,"col-lg-6","col-xl-4"],[1,"card","h-100","d-flex","flex-column"],[1,"card-body","d-flex","flex-column","flex-grow-1"],[1,"d-flex","flex-stack"],[1,"d-flex","align-items-center","justify-content-between","w-100"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-60px","me-5"],[1,"symbol-label","bg-danger-light"],["src","./assets/media/icons/duotune/general/role.png","alt","",1,"h-50","align-self-center"],[1,"d-flex","flex-column","flex-grow-1","my-lg-0","my-2","pr-3"],[1,"text-gray-900","fw-bold","text-hover-primary","fs-5"],[1,"text-muted","fw-bold"],["class","d-flex flex-column mt-10 flex-grow-1",4,"ngIf"],[1,"bottom","mt-auto","pb-4"],[1,"text-gray-400"],[1,"text-center"],[1,"btn","btn-sm","btn-light","bg-hover-primary",3,"click"],[1,"d-flex","flex-column","mt-10","flex-grow-1"],[1,"text-gray-900","me-2","fw-bold","pb-4"],[1,"d-flex","flex-wrap","gap-2"],[3,"label",4,"ngFor","ngForOf"],[3,"label"]],template:function(n,s){1&n&&(e.DNE(0,be,1,3,"p-progressBar",0),e.nI1(1,"async"),e.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),e.EFF(7," Roles List "),e.k0s(),e.j41(8,"div",6),e.EFF(9),e.k0s()()()()(),e.j41(10,"div",7)(11,"div",8),e.DNE(12,Te,3,1,"ng-container",9),e.nI1(13,"async"),e.k0s()()),2&n&&(e.Y8G("ngIf",e.bMT(1,3,s.isLoading$)),e.R7$(9),e.SpI(" ",s.roles.length," Roles "),e.R7$(3),e.Y8G("ngIf",!1===e.bMT(13,5,s.isLoading$)))},dependencies:[h.Sq,h.bT,ne.v,E.z,h.Jj],styles:[".p-30px[_ngcontent-%COMP%]{padding:30px}.element[_ngcontent-%COMP%]{width:200px;max-width:200px}"]})}return a})();const Ee=()=>({height:"4px"});function je(a,g){1&a&&e.nrm(0,"p-progressBar",2),2&a&&e.Aen(e.lJ4(2,Ee))}function xe(a,g){if(1&a&&(e.j41(0,"div",12)(1,"div",13)(2,"div",14)(3,"span",15),e.EFF(4),e.k0s()()(),e.j41(5,"div")(6,"span",16),e.EFF(7),e.k0s()()()),2&a){const t=g.$implicit;e.R7$(4),e.JRh(t.display_name),e.R7$(3),e.JRh(t.description)}}function Ie(a,g){if(1&a&&(e.qex(0),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3",6)(5,"span",7),e.EFF(6,"Permissions List"),e.k0s(),e.j41(7,"span",8),e.EFF(8),e.k0s()()(),e.j41(9,"div",9)(10,"div",10),e.DNE(11,xe,8,2,"div",11),e.k0s()()()(),e.bVm()),2&a){const t=e.XpG();e.R7$(8),e.SpI("",t.permissions.length," Permissions"),e.R7$(3),e.Y8G("ngForOf",t.permissions)}}let Fe=(()=>{class a{permissionsService;permissions=[];isLoading$;unsubscribe=[];constructor(t){this.permissionsService=t,this.isLoading$=this.permissionsService.isLoading$}ngOnInit(){this.getPermissionsList()}getPermissionsList(){const t=this.permissionsService.getPermissions().subscribe({next:n=>{this.permissions=n},error:n=>{console.error("Failed to fetch permissions",n)}});this.unsubscribe.push(t)}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}static \u0275fac=function(n){return new(n||a)(e.rXU(se))};static \u0275cmp=e.VBU({type:a,selectors:[["app-permissions"]],decls:4,vars:6,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],[1,"p-30px"],[1,"card","card-flush","h-xl-100"],[1,"card-header","pt-7"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bold","text-gray-900"],[1,"text-gray-500","mt-1","fw-semibold","fs-6"],[1,"card-body"],[1,"hover-scroll-overlay-y","pe-6","me-n6","d-flex","flex-wrap","gap-5"],["class","border element border-dashed border-gray-300 rounded px-7 py-3 mb-6",4,"ngFor","ngForOf"],[1,"border","element","border-dashed","border-gray-300","rounded","px-7","py-3","mb-6"],[1,"d-flex","flex-stack","mb-3"],[1,"me-3"],[1,"text-gray-800","text-hover-primary","fw-bold"],[1,"text-gray-500"]],template:function(n,s){1&n&&(e.DNE(0,je,1,3,"p-progressBar",0),e.nI1(1,"async"),e.DNE(2,Ie,12,2,"ng-container",1),e.nI1(3,"async")),2&n&&(e.Y8G("ngIf",e.bMT(1,2,s.isLoading$)),e.R7$(2),e.Y8G("ngIf",!1===e.bMT(3,4,s.isLoading$)))},dependencies:[h.Sq,h.bT,E.z,h.Jj],styles:[".p-30px[_ngcontent-%COMP%]{padding:30px}.element[_ngcontent-%COMP%]{width:200px;max-width:200px}"]})}return a})();var W=d(467);let ke=(()=>{class a{http;translationService;apiUrl="https://api.foresighta.co/api/admin/account";isLoadingSubject=new $.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.currentLang=this.translationService.getSelectedLanguage()||"en",this.translationService.onLanguageChange().subscribe(s=>{this.currentLang=s||"en"})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){return console.error("An error occurred:",t),(0,G.$)(()=>t)}getHeaders(){return new T.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang})}getClients(){return this.setLoading(!0),this.http.get(`${this.apiUrl}/client/list`,{headers:this.getHeaders()}).pipe((0,y.T)(n=>n.data),(0,b.W)(n=>this.handleError(n)),(0,v.j)(()=>this.setLoading(!1)))}deactivateAndDeleteClient(t,n){return this.setLoading(!0),this.http.post(`${this.apiUrl}/client/deactivate-delete/${t}`,{staff_notes:n},{headers:this.getHeaders()}).pipe((0,y.T)(o=>o),(0,b.W)(o=>this.handleError(o)),(0,v.j)(()=>this.setLoading(!1)))}getInsighters(){return this.setLoading(!0),this.http.get(`${this.apiUrl}/insighter/list`,{headers:this.getHeaders()}).pipe((0,y.T)(n=>n.data),(0,b.W)(n=>this.handleError(n)),(0,v.j)(()=>this.setLoading(!1)))}activateInsighter(t,n){return this.setLoading(!0),this.http.post(`${this.apiUrl}/insighter/activate/${t}`,{staff_notes:n},{headers:this.getHeaders()}).pipe((0,y.T)(o=>o),(0,b.W)(o=>this.handleError(o)),(0,v.j)(()=>this.setLoading(!1)))}deactivateInsighter(t,n){return this.setLoading(!0),this.http.post(`${this.apiUrl}/insighter/deactivate/${t}`,{staff_notes:n},{headers:this.getHeaders()}).pipe((0,y.T)(o=>o),(0,b.W)(o=>this.handleError(o)),(0,v.j)(()=>this.setLoading(!1)))}deactivateInsighterWithDataDelete(t,n){return this.setLoading(!0),this.http.post(`${this.apiUrl}/insighter/deactivate-delete/${t}`,{staff_notes:n},{headers:this.getHeaders()}).pipe((0,y.T)(o=>o),(0,b.W)(o=>this.handleError(o)),(0,v.j)(()=>this.setLoading(!1)))}getCompanyInsighters(){return this.setLoading(!0),this.http.get(`${this.apiUrl}/company/list`,{headers:this.getHeaders()}).pipe((0,y.T)(n=>n.data),(0,b.W)(n=>this.handleError(n)),(0,v.j)(()=>this.setLoading(!1)))}activateCompanyInsighter(t,n){return this.setLoading(!0),this.http.post(`${this.apiUrl}/company/activate/${t}`,{staff_notes:n},{headers:this.getHeaders()}).pipe((0,y.T)(o=>o),(0,b.W)(o=>this.handleError(o)),(0,v.j)(()=>this.setLoading(!1)))}deactivateCompanyInsighter(t,n){return this.setLoading(!0),this.http.post(`${this.apiUrl}/company/deactivate/${t}`,{staff_notes:n},{headers:this.getHeaders()}).pipe((0,y.T)(o=>o),(0,b.W)(o=>this.handleError(o)),(0,v.j)(()=>this.setLoading(!1)))}deactivateCompanyWithDataDelete(t,n){return this.setLoading(!0),this.http.post(`${this.apiUrl}/company/deactivate-delete/${t}`,{staff_notes:n},{headers:this.getHeaders()}).pipe((0,y.T)(o=>o),(0,b.W)(o=>this.handleError(o)),(0,v.j)(()=>this.setLoading(!1)))}verifyCompany(t,n){return this.setLoading(!0),this.http.put(`${this.apiUrl}/company/verify/${t}`,{status:n},{headers:this.getHeaders()}).pipe((0,y.T)(o=>o),(0,b.W)(o=>this.handleError(o)),(0,v.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||a)(e.KVO(T.Qq),e.KVO(u.L))};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var q=d(4945);const Re=["clientsTable"],Me=["insightersTable"],Le=["companiesTable"],ee=()=>["name","email","country"],we=()=>({height:"3px"});function De(a,g){1&a&&e.nrm(0,"p-progressBar",21),2&a&&e.Aen(e.lJ4(2,we))}function $e(a,g){1&a&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Name"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Email"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Country"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Status"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Verified"),e.k0s(),e.j41(11,"th",22),e.EFF(12,"Actions"),e.k0s()())}function Ge(a,g){if(1&a&&(e.j41(0,"div",27),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.roles.join(", "))}}function Pe(a,g){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",23),e.EFF(3),e.k0s(),e.DNE(4,Ge,2,1,"div",24),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"span",25),e.EFF(11),e.k0s()(),e.j41(12,"td")(13,"span",25),e.EFF(14),e.k0s()(),e.j41(15,"td",22)(16,"button",26),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.deactivateClient(s))}),e.EFF(17," Deactivate & Delete "),e.k0s()()()}if(2&a){const t=g.$implicit;e.R7$(3),e.JRh(t.name||"-"),e.R7$(),e.Y8G("ngIf",null==t.roles?null:t.roles.length),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.country||"-"),e.R7$(2),e.AVh("status-active","active"===t.status)("status-inactive","active"!==t.status),e.R7$(),e.SpI(" ",t.status||"unknown"," "),e.R7$(2),e.AVh("status-active",t.verified)("status-inactive",!t.verified),e.R7$(),e.SpI(" ",t.verified?"Verified":"Not verified"," ")}}function Be(a,g){1&a&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Name"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Email"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Country"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Industries"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Status"),e.k0s(),e.j41(11,"th",22),e.EFF(12,"Actions"),e.k0s()())}function Oe(a,g){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",23),e.EFF(3),e.k0s(),e.j41(4,"div",27),e.EFF(5),e.k0s()(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"span",28),e.EFF(12),e.k0s()(),e.j41(13,"td")(14,"div",29)(15,"span",25),e.EFF(16),e.k0s(),e.j41(17,"span",25),e.EFF(18),e.k0s()()(),e.j41(19,"td",30)(20,"button",31),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.handleInsighterAction(s,"activate"))}),e.EFF(21," Activate "),e.k0s(),e.j41(22,"button",32),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.handleInsighterAction(s,"deactivate"))}),e.EFF(23," Deactivate "),e.k0s(),e.j41(24,"button",26),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.handleInsighterAction(s,"deactivate-delete"))}),e.EFF(25," Deactivate & Delete "),e.k0s()()()}if(2&a){const t=g.$implicit,n=e.XpG();e.R7$(3),e.JRh(t.name||"-"),e.R7$(2),e.JRh((null==t.roles?null:t.roles.join(", "))||"insighter"),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.country||"-"),e.R7$(3),e.SpI(" ",n.formatNames(t.industries)," "),e.R7$(3),e.AVh("status-active","active"===t.client_status)("status-inactive","active"!==t.client_status),e.R7$(),e.SpI(" Client: ",t.client_status||"unknown"," "),e.R7$(),e.AVh("status-active","active"===t.insighter_status)("status-inactive","active"!==t.insighter_status),e.R7$(),e.SpI(" Insighter: ",t.insighter_status||"unknown"," "),e.R7$(2),e.Y8G("disabled","active"===t.insighter_status),e.R7$(2),e.Y8G("disabled","inactive"===t.insighter_status)}}function Ae(a,g){1&a&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Contact"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Email"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Company"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Status"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Country"),e.k0s(),e.j41(11,"th",22),e.EFF(12,"Actions"),e.k0s()())}function Ve(a,g){if(1&a&&(e.j41(0,"div",27),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.JRh(null==t.company?null:t.company.website)}}function Ne(a,g){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",23),e.EFF(3),e.k0s(),e.j41(4,"div",27),e.EFF(5),e.k0s()(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"div",23),e.EFF(10),e.k0s(),e.DNE(11,Ve,2,1,"div",24),e.k0s(),e.j41(12,"td")(13,"div",29)(14,"span",25),e.EFF(15),e.k0s(),e.j41(16,"span",25),e.EFF(17),e.k0s()()(),e.j41(18,"td"),e.EFF(19),e.k0s(),e.j41(20,"td",30)(21,"button",31),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.handleCompanyAction(s,"activate"))}),e.EFF(22," Activate "),e.k0s(),e.j41(23,"button",32),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.handleCompanyAction(s,"deactivate"))}),e.EFF(24," Deactivate "),e.k0s(),e.j41(25,"button",26),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.handleCompanyAction(s,"deactivate-delete"))}),e.EFF(26," Deactivate & Delete "),e.k0s()()()}if(2&a){const t=g.$implicit;e.R7$(3),e.JRh(t.name||"-"),e.R7$(2),e.JRh((null==t.roles?null:t.roles.join(", "))||"company"),e.R7$(2),e.JRh(t.email),e.R7$(3),e.JRh((null==t.company?null:t.company.legal_name)||"-"),e.R7$(),e.Y8G("ngIf",null==t.company?null:t.company.website),e.R7$(3),e.AVh("status-active","active"===(null==t.company?null:t.company.status))("status-inactive","active"!==(null==t.company?null:t.company.status)),e.R7$(),e.SpI(" Company: ",(null==t.company?null:t.company.status)||"unknown"," "),e.R7$(),e.AVh("status-active",null==t.company?null:t.company.verified)("status-inactive",!(null!=t.company&&t.company.verified)),e.R7$(),e.SpI(" Verified: ",null!=t.company&&t.company.verified?"Yes":"No"," "),e.R7$(2),e.JRh(t.country||"-"),e.R7$(2),e.Y8G("disabled","active"===(null==t.company?null:t.company.status)),e.R7$(2),e.Y8G("disabled","inactive"===(null==t.company?null:t.company.status))}}const Ue=[{path:"",redirectTo:"main-accounts",pathMatch:"full"},{path:"main-accounts",component:O,children:[{path:"",redirectTo:"users",pathMatch:"full"},{path:"users",component:(()=>{class a{usersListService;messageService;clientsTable;insightersTable;companiesTable;clients=[];insighters=[];companies=[];activeTab=0;searchValue="";subscriptions=[];loaded={clients:!1,insighters:!1,companies:!1};get isLoading$(){return this.usersListService.isLoading$}get totalClients(){return this.clients.length}get totalInsighters(){return this.insighters.length}get totalCompanies(){return this.companies.length}constructor(t,n){this.usersListService=t,this.messageService=n}ngOnInit(){this.loadClients()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}onTabChange(t){this.activeTab=t,this.resetSearch(),this.clientsTable?.clear(),this.insightersTable?.clear(),this.companiesTable?.clear(),0===t?this.loadClients():1===t?this.loadInsighters():this.loadCompanies()}applyFilter(t,n){const s=t?.trim().toLowerCase()??"";"clients"===n&&this.clientsTable&&this.clientsTable.filterGlobal(s,"contains"),"insighters"===n&&this.insightersTable&&this.insightersTable.filterGlobal(s,"contains"),"companies"===n&&this.companiesTable&&this.companiesTable.filterGlobal(s,"contains")}clearFilters(){this.resetSearch(),this.clientsTable?.clear(),this.insightersTable?.clear(),this.companiesTable?.clear()}loadClients(t=!1){if(!t&&this.loaded.clients)return;const n=this.usersListService.getClients().subscribe({next:s=>{this.clients=s||[],this.loaded.clients=!0,this.clientsTable?.clear()},error:s=>{this.showError(this.extractErrorMessage(s,"Could not load clients. Please try again."))}});this.subscriptions.push(n)}loadInsighters(t=!1){if(!t&&this.loaded.insighters)return;const n=this.usersListService.getInsighters().subscribe({next:s=>{this.insighters=s||[],this.loaded.insighters=!0,this.insightersTable?.clear()},error:s=>{this.showError(this.extractErrorMessage(s,"Could not load insighters. Please try again."))}});this.subscriptions.push(n)}loadCompanies(t=!1){if(!t&&this.loaded.companies)return;const n=this.usersListService.getCompanyInsighters().subscribe({next:s=>{this.companies=s||[],this.loaded.companies=!0,this.companiesTable?.clear()},error:s=>{this.showError(this.extractErrorMessage(s,"Could not load companies. Please try again."))}});this.subscriptions.push(n)}deactivateClient(t){var n=this;return(0,W.A)(function*(){const s=yield n.promptForNotes("Deactivate & Delete Client","Provide notes for this action");if(!s)return;const r=n.usersListService.deactivateAndDeleteClient(t.id,s).subscribe({next:()=>{n.showSuccess(`Client ${t.name} removed successfully.`),n.loadClients(!0)},error:o=>{n.showError(n.extractErrorMessage(o,"Could not process the request. Please try again."))}});n.subscriptions.push(r)})()}handleInsighterAction(t,n){var s=this;return(0,W.A)(function*(){const o=yield s.promptForNotes({activate:"Activate Insighter",deactivate:"Deactivate Insighter","deactivate-delete":"Deactivate & Delete Insighter"}[n],"Staff notes are required for this action");if(!o)return;let f;f="activate"===n?s.usersListService.activateInsighter(t.id,o):"deactivate"===n?s.usersListService.deactivateInsighter(t.id,o):s.usersListService.deactivateInsighterWithDataDelete(t.id,o);const N=f.subscribe({next:()=>{s.showSuccess(`Action completed for ${t.name}.`),s.loadInsighters(!0)},error:te=>{s.showError(s.extractErrorMessage(te,"Could not process the request. Please try again."))}});s.subscriptions.push(N)})()}handleCompanyAction(t,n){var s=this;return(0,W.A)(function*(){const o=yield s.promptForNotes({activate:"Activate Company",deactivate:"Deactivate Company","deactivate-delete":"Deactivate & Delete Company"}[n],"Staff notes are required for this action");if(!o)return;let f;f="activate"===n?s.usersListService.activateCompanyInsighter(t.id,o):"deactivate"===n?s.usersListService.deactivateCompanyInsighter(t.id,o):s.usersListService.deactivateCompanyWithDataDelete(t.id,o);const N=f.subscribe({next:()=>{s.showSuccess(`Action completed for ${t.name}.`),s.loadCompanies(!0)},error:te=>{s.showError(s.extractErrorMessage(te,"Could not process the request. Please try again."))}});s.subscriptions.push(N)})()}promptForNotes(t,n){return(0,W.A)(function*(){const s=yield P().fire({title:t,input:"textarea",inputLabel:"Staff notes",inputPlaceholder:n,inputAttributes:{"aria-label":"Staff notes"},inputValidator:r=>r&&r.trim()?null:"Staff notes are required.",showCancelButton:!0,confirmButtonText:"Submit",cancelButtonText:"Cancel",confirmButtonColor:"#1b84ff",cancelButtonColor:"#a1a5b7"});return s.isConfirmed&&s.value?s.value.trim():null})()}showSuccess(t){this.messageService.add({severity:"success",summary:"Success",detail:t})}showError(t){this.messageService.add({severity:"error",summary:"Error",detail:t})}resetSearch(){this.searchValue=""}extractErrorMessage(t,n){return t?.error?.message||t?.message||n}formatNames(t){if(!Array.isArray(t)||!t.length)return"-";const n=t.map(s=>"string"==typeof s?s:s?.name??"").map(s=>s.trim()).filter(s=>s.length>0);return n.length?n.join(", "):"-"}static \u0275fac=function(n){return new(n||a)(e.rXU(ke),e.rXU(k.bg))};static \u0275cmp=e.VBU({type:a,selectors:[["app-users"]],viewQuery:function(n,s){if(1&n&&(e.GBs(Re,5),e.GBs(Me,5),e.GBs(Le,5)),2&n){let r;e.mGM(r=e.lsd())&&(s.clientsTable=r.first),e.mGM(r=e.lsd())&&(s.insightersTable=r.first),e.mGM(r=e.lsd())&&(s.companiesTable=r.first)}},features:[e.Jv_([k.bg])],decls:43,vars:22,consts:[["clientsTable",""],["insightersTable",""],["companiesTable",""],["mode","indeterminate",3,"style",4,"ngIf"],[1,"users-page","p-10"],[3,"activeIndexChange","onChange","activeIndex"],["header","Clients"],[1,"tab-header"],[1,"tab-title"],[1,"tab-summary"],[1,"tab-actions"],["type","text","placeholder","Search clients",1,"form-control","form-control-solid",3,"ngModelChange","input","ngModel"],["dataKey","id","emptyMessage","No clients found",1,"users-table",3,"value","globalFilterFields","responsiveLayout"],["pTemplate","header"],["pTemplate","body"],["header","Insighters"],["type","text","placeholder","Search insighters",1,"form-control","form-control-solid",3,"ngModelChange","input","ngModel"],["dataKey","id","emptyMessage","No insighters found",1,"users-table",3,"value","globalFilterFields","responsiveLayout"],["header","Company"],["type","text","placeholder","Search companies",1,"form-control","form-control-solid",3,"ngModelChange","input","ngModel"],["dataKey","id","emptyMessage","No companies found",1,"users-table",3,"value","globalFilterFields","responsiveLayout"],["mode","indeterminate"],[1,"action-col"],[1,"cell-main"],["class","cell-sub",4,"ngIf"],[1,"status"],["type","button",1,"btn","btn-sm","btn-light-danger",3,"click"],[1,"cell-sub"],[1,"cell-multi"],[1,"status-stack"],[1,"action-col","action-stack"],["type","button",1,"btn","btn-sm","btn-light-primary",3,"click","disabled"],["type","button",1,"btn","btn-sm","btn-light-warning",3,"click","disabled"]],template:function(n,s){if(1&n){const r=e.RV6();e.DNE(0,De,1,3,"p-progressBar",3),e.nI1(1,"async"),e.j41(2,"div",4)(3,"p-tabView",5),e.mxI("activeIndexChange",function(f){return e.eBV(r),e.DH7(s.activeTab,f)||(s.activeTab=f),e.Njj(f)}),e.bIt("onChange",function(f){return e.eBV(r),e.Njj(s.onTabChange(f.index))}),e.j41(4,"p-tabPanel",6)(5,"div",7)(6,"div")(7,"h2",8),e.EFF(8,"Clients"),e.k0s(),e.j41(9,"p",9),e.EFF(10),e.k0s()(),e.j41(11,"div",10)(12,"input",11),e.mxI("ngModelChange",function(f){return e.eBV(r),e.DH7(s.searchValue,f)||(s.searchValue=f),e.Njj(f)}),e.bIt("input",function(){return e.eBV(r),e.Njj(s.applyFilter(s.searchValue,"clients"))}),e.k0s()()(),e.j41(13,"p-table",12,0),e.DNE(15,$e,13,0,"ng-template",13)(16,Pe,18,14,"ng-template",14),e.k0s()(),e.j41(17,"p-tabPanel",15)(18,"div",7)(19,"div")(20,"h2",8),e.EFF(21,"Insighters"),e.k0s(),e.j41(22,"p",9),e.EFF(23),e.k0s()(),e.j41(24,"div",10)(25,"input",16),e.mxI("ngModelChange",function(f){return e.eBV(r),e.DH7(s.searchValue,f)||(s.searchValue=f),e.Njj(f)}),e.bIt("input",function(){return e.eBV(r),e.Njj(s.applyFilter(s.searchValue,"insighters"))}),e.k0s()()(),e.j41(26,"p-table",17,1),e.DNE(28,Be,13,0,"ng-template",13)(29,Oe,26,17,"ng-template",14),e.k0s()(),e.j41(30,"p-tabPanel",18)(31,"div",7)(32,"div")(33,"h2",8),e.EFF(34,"Company"),e.k0s(),e.j41(35,"p",9),e.EFF(36),e.k0s()(),e.j41(37,"div",10)(38,"input",19),e.mxI("ngModelChange",function(f){return e.eBV(r),e.DH7(s.searchValue,f)||(s.searchValue=f),e.Njj(f)}),e.bIt("input",function(){return e.eBV(r),e.Njj(s.applyFilter(s.searchValue,"companies"))}),e.k0s()()(),e.j41(39,"p-table",20,2),e.DNE(41,Ae,13,0,"ng-template",13)(42,Ne,27,18,"ng-template",14),e.k0s()()()()}2&n&&(e.Y8G("ngIf",e.bMT(1,17,s.isLoading$)),e.R7$(3),e.R50("activeIndex",s.activeTab),e.R7$(7),e.SpI("",s.totalClients," client accounts"),e.R7$(2),e.R50("ngModel",s.searchValue),e.R7$(),e.Y8G("value",s.clients)("globalFilterFields",e.lJ4(19,ee))("responsiveLayout","scroll"),e.R7$(10),e.SpI("",s.totalInsighters," insighter accounts"),e.R7$(2),e.R50("ngModel",s.searchValue),e.R7$(),e.Y8G("value",s.insighters)("globalFilterFields",e.lJ4(20,ee))("responsiveLayout","scroll"),e.R7$(10),e.SpI("",s.totalCompanies," company accounts"),e.R7$(2),e.R50("ngModel",s.searchValue),e.R7$(),e.Y8G("value",s.companies)("globalFilterFields",e.lJ4(21,ee))("responsiveLayout","scroll"))},dependencies:[h.bT,k.Ei,c.me,c.BC,C.XI,E.z,c.vS,q.JQ,q.Kp,h.Jj],styles:[".users-page[_ngcontent-%COMP%]{padding:0 1rem 2rem;display:flex;flex-direction:column;gap:1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1.5rem;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin:0;color:#1b1b28}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.25rem 0 0;color:#7e8299;font-size:.95rem}.page-header[_ngcontent-%COMP%]   .counts[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;color:#5e6278;font-size:.95rem}.page-header[_ngcontent-%COMP%]   .counts[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1b1b28;font-weight:600}[_nghost-%COMP%]     .p-tabview-nav{border:none;margin-bottom:1rem}[_nghost-%COMP%]     .p-tabview-nav li .p-tabview-nav-link{border:none;background:transparent;color:#7e8299;padding:.75rem 1.25rem;font-weight:500}[_nghost-%COMP%]     .p-tabview-nav li.p-highlight .p-tabview-nav-link{color:#1b1b28;border-bottom:2px solid #1b84ff;border-radius:0}.tab-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap;margin-bottom:1rem}.tab-header[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#1b1b28}.tab-header[_ngcontent-%COMP%]   .tab-summary[_ngcontent-%COMP%]{margin:.25rem 0 0;color:#7e8299;font-size:.9rem}.tab-header[_ngcontent-%COMP%]   .tab-actions[_ngcontent-%COMP%]{min-width:220px}.users-table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .users-table .p-datatable-thead>tr>th{border:none;background:#f9f9fb;font-weight:600;color:#5e6278}[_nghost-%COMP%]     .users-table .p-datatable-tbody>tr>td{border:none;border-bottom:1px solid #f1f1f4;vertical-align:top;color:#3f4254;font-size:.95rem}.cell-main[_ngcontent-%COMP%]{font-weight:600;color:#1b1b28;margin-bottom:.15rem}.cell-sub[_ngcontent-%COMP%]{color:#7e8299;font-size:.85rem}.cell-multi[_ngcontent-%COMP%]{display:inline-block;max-width:320px;color:#3f4254}.status[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:.5rem;font-size:.8rem;text-transform:capitalize;background:#f5f8fa;color:#5e6278}.status.status-active[_ngcontent-%COMP%]{background:#1b84ff1f;color:#1b84ff}.status.status-inactive[_ngcontent-%COMP%]{background:#ff56301f;color:#ff5630}.status-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem}.action-col[_ngcontent-%COMP%]{width:220px;text-align:right}.action-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem;align-items:flex-end}@media (max-width: 768px){.action-col[_ngcontent-%COMP%]{width:auto}.action-stack[_ngcontent-%COMP%]{align-items:stretch}}"]})}return a})()},{path:"staff",component:pe},{path:"roles",component:Se},{path:"permissions",component:Fe}]}];let Xe=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[i.iI.forChild(Ue),i.iI]})}return a})();var ie=d(1141);let Qe=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[h.MD,k.Gg,k.Gg]})}return a})();var Je=d(5144);let Ke=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({providers:[H.o3],imports:[h.MD,Xe,m.q4,ne.P,F.h,w.MB,c.X1,C.bG,j.P,ie.tm,E.d,V.u,c.YN,U.kr,q.fd,ie.tm,Qe,Je.Mk]})}return a})()},4827:(Q,B,d)=>{d.d(B,{P:()=>R,v:()=>L});var h=d(177),i=d(4438),e=d(5779),w=d(2816);const O=["*"];function k(m,F){if(1&m){const c=i.RV6();i.j41(0,"img",6),i.bIt("error",function(j){i.eBV(c);const E=i.XpG(2);return i.Njj(E.imageError(j))}),i.k0s()}if(2&m){const c=i.XpG(2);i.Y8G("src",c.image,i.B4B)("alt",c.alt)}}function A(m,F){if(1&m&&i.nrm(0,"span",8),2&m){const c=i.XpG(3);i.HbH(c.icon),i.Y8G("ngClass","p-chip-icon"),i.BMQ("data-pc-section","icon")}}function P(m,F){if(1&m&&i.DNE(0,A,1,4,"span",7),2&m){const c=i.XpG(2);i.Y8G("ngIf",c.icon)}}function T(m,F){if(1&m&&(i.j41(0,"div",9),i.EFF(1),i.k0s()),2&m){const c=i.XpG(2);i.BMQ("data-pc-section","label"),i.R7$(),i.JRh(c.label)}}function $(m,F){if(1&m){const c=i.RV6();i.j41(0,"span",13),i.bIt("click",function(j){i.eBV(c);const E=i.XpG(4);return i.Njj(E.close(j))})("keydown",function(j){i.eBV(c);const E=i.XpG(4);return i.Njj(E.onKeydown(j))}),i.k0s()}if(2&m){const c=i.XpG(4);i.HbH(c.removeIcon),i.Y8G("ngClass","pi-chip-remove-icon"),i.BMQ("data-pc-section","removeicon")("aria-label",c.removeAriaLabel)}}function G(m,F){if(1&m){const c=i.RV6();i.j41(0,"TimesCircleIcon",14),i.bIt("click",function(j){i.eBV(c);const E=i.XpG(4);return i.Njj(E.close(j))})("keydown",function(j){i.eBV(c);const E=i.XpG(4);return i.Njj(E.onKeydown(j))}),i.k0s()}if(2&m){const c=i.XpG(4);i.HbH("pi-chip-remove-icon"),i.BMQ("data-pc-section","removeicon")("aria-label",c.removeAriaLabel)}}function y(m,F){if(1&m&&(i.qex(0),i.DNE(1,$,1,5,"span",11)(2,G,1,4,"TimesCircleIcon",12),i.bVm()),2&m){const c=i.XpG(3);i.R7$(),i.Y8G("ngIf",c.removeIcon),i.R7$(),i.Y8G("ngIf",!c.removeIcon)}}function b(m,F){}function v(m,F){1&m&&i.DNE(0,b,0,0,"ng-template")}function u(m,F){if(1&m){const c=i.RV6();i.j41(0,"span",15),i.bIt("click",function(j){i.eBV(c);const E=i.XpG(3);return i.Njj(E.close(j))})("keydown",function(j){i.eBV(c);const E=i.XpG(3);return i.Njj(E.onKeydown(j))}),i.DNE(1,v,1,0,null,16),i.k0s()}if(2&m){const c=i.XpG(3);i.BMQ("data-pc-section","removeicon")("aria-label",c.removeAriaLabel),i.R7$(),i.Y8G("ngTemplateOutlet",c.removeIconTemplate)}}function D(m,F){if(1&m&&(i.qex(0),i.DNE(1,y,3,2,"ng-container",5)(2,u,2,3,"span",10),i.bVm()),2&m){const c=i.XpG(2);i.R7$(),i.Y8G("ngIf",!c.removeIconTemplate),i.R7$(),i.Y8G("ngIf",c.removeIconTemplate)}}function S(m,F){if(1&m&&(i.j41(0,"div",2),i.SdG(1),i.DNE(2,k,1,2,"img",3)(3,P,1,1,"ng-template",null,0,i.C5r)(5,T,2,2,"div",4)(6,D,3,2,"ng-container",5),i.k0s()),2&m){const c=i.sdS(4),C=i.XpG();i.HbH(C.styleClass),i.Y8G("ngClass",C.containerClass())("ngStyle",C.style),i.BMQ("data-pc-name","chip")("aria-label",C.label)("data-pc-section","root"),i.R7$(2),i.Y8G("ngIf",C.image)("ngIfElse",c),i.R7$(3),i.Y8G("ngIf",C.label),i.R7$(),i.Y8G("ngIf",C.removable)}}let L=(()=>{class m{label;icon;image;alt;style;styleClass;removable=!1;removeIcon;onRemove=new i.bkB;onImageError=new i.bkB;config=(0,i.WQX)(e.r1);visible=!0;removeIconTemplate;get removeAriaLabel(){return this.config.getTranslation(e.Yj.ARIA).removeLabel}templates;ngAfterContentInit(){this.templates.forEach(c=>{c.getType(),this.removeIconTemplate=c.template})}containerClass(){return{"p-chip p-component":!0,"p-chip-image":null!=this.image}}close(c){this.visible=!1,this.onRemove.emit(c)}onKeydown(c){("Enter"===c.key||"Backspace"===c.key)&&this.close(c)}imageError(c){this.onImageError.emit(c)}static \u0275fac=function(C){return new(C||m)};static \u0275cmp=i.VBU({type:m,selectors:[["p-chip"]],contentQueries:function(C,j,E){if(1&C&&i.wni(E,e.Ei,4),2&C){let V;i.mGM(V=i.lsd())&&(j.templates=V)}},hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",alt:"alt",style:"style",styleClass:"styleClass",removable:[i.Mj6.HasDecoratorInputTransform,"removable","removable",i.L39],removeIcon:"removeIcon"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},features:[i.GFd],ngContentSelectors:O,decls:1,vars:1,consts:[["iconTemplate",""],[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"src","alt","error",4,"ngIf","ngIfElse"],["class","p-chip-text",4,"ngIf"],[4,"ngIf"],[3,"error","src","alt"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-text"],["tabindex","0","class","pi-chip-remove-icon","role","button",3,"click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","ngClass","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"click","keydown","ngClass"],["tabindex","0","role","button",3,"click","keydown"],["tabindex","0","role","button",1,"pi-chip-remove-icon",3,"click","keydown"],[4,"ngTemplateOutlet"]],template:function(C,j){1&C&&(i.NAR(),i.DNE(0,S,7,11,"div",1)),2&C&&i.Y8G("ngIf",j.visible)},dependencies:()=>[h.YU,h.bT,h.T3,h.B3,w.I],styles:["@layer primeng{.p-chip{display:inline-flex;align-items:center}.p-chip-text,.p-chip-icon.pi,.pi-chip-remove-icon.pi{line-height:1.5}.pi-chip-remove-icon{cursor:pointer}.p-chip img{border-radius:50%}}\n"],encapsulation:2,changeDetection:0})}return m})(),R=(()=>{class m{static \u0275fac=function(C){return new(C||m)};static \u0275mod=i.$C({type:m});static \u0275inj=i.G2t({imports:[h.MD,w.I,e.Gg,e.Gg]})}return m})()},2609:(Q,B,d)=>{d.d(B,{B:()=>X,h:()=>Z});var h=d(9969),i=d(177),e=d(4438),w=d(5779),O=d(3306),k=d(9329),A=d(1962),P=d(1512),T=d(2816),$=d(563),G=d(1584);const y=(p,x)=>({showTransitionParams:p,hideTransitionParams:x}),b=p=>({value:"visible",params:p});function v(p,x){if(1&p&&e.nrm(0,"span"),2&p){const l=e.XpG().$implicit;e.HbH("p-message-icon pi "+l.icon),e.BMQ("data-pc-section","icon")}}function u(p,x){1&p&&e.nrm(0,"CheckIcon"),2&p&&e.BMQ("data-pc-section","icon")}function D(p,x){1&p&&e.nrm(0,"InfoCircleIcon"),2&p&&e.BMQ("data-pc-section","icon")}function S(p,x){1&p&&e.nrm(0,"TimesCircleIcon"),2&p&&e.BMQ("data-pc-section","icon")}function L(p,x){1&p&&e.nrm(0,"ExclamationTriangleIcon"),2&p&&e.BMQ("data-pc-section","icon")}function R(p,x){if(1&p&&(e.j41(0,"span",10),e.qex(1),e.DNE(2,u,1,1,"CheckIcon",11)(3,D,1,1,"InfoCircleIcon",11)(4,S,1,1,"TimesCircleIcon",11)(5,L,1,1,"ExclamationTriangleIcon",11),e.bVm(),e.k0s()),2&p){const l=e.XpG().$implicit;e.R7$(2),e.Y8G("ngIf","success"===l.severity),e.R7$(),e.Y8G("ngIf","info"===l.severity),e.R7$(),e.Y8G("ngIf","error"===l.severity),e.R7$(),e.Y8G("ngIf","warn"===l.severity)}}function m(p,x){if(1&p&&e.nrm(0,"span",14),2&p){const l=e.XpG(2).$implicit;e.Y8G("innerHTML",l.summary,e.npT),e.BMQ("data-pc-section","summary")}}function F(p,x){if(1&p&&e.nrm(0,"span",15),2&p){const l=e.XpG(2).$implicit;e.Y8G("innerHTML",l.detail,e.npT),e.BMQ("data-pc-section","detail")}}function c(p,x){if(1&p&&(e.qex(0),e.DNE(1,m,1,2,"span",12)(2,F,1,2,"span",13),e.bVm()),2&p){const l=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",l.summary),e.R7$(),e.Y8G("ngIf",l.detail)}}function C(p,x){if(1&p&&(e.j41(0,"span",18),e.EFF(1),e.k0s()),2&p){const l=e.XpG(2).$implicit;e.BMQ("data-pc-section","summary"),e.R7$(),e.JRh(l.summary)}}function j(p,x){if(1&p&&(e.j41(0,"span",19),e.EFF(1),e.k0s()),2&p){const l=e.XpG(2).$implicit;e.BMQ("data-pc-section","detail"),e.R7$(),e.JRh(l.detail)}}function E(p,x){if(1&p&&e.DNE(0,C,2,2,"span",16)(1,j,2,2,"span",17),2&p){const l=e.XpG().$implicit;e.Y8G("ngIf",l.summary),e.R7$(),e.Y8G("ngIf",l.detail)}}function V(p,x){if(1&p){const l=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(l);const I=e.XpG().index,M=e.XpG(2);return e.Njj(M.removeMessage(I))}),e.nrm(1,"TimesIcon",21),e.k0s()}if(2&p){const l=e.XpG(3);e.BMQ("aria-label",l.closeAriaLabel)("data-pc-section","closebutton"),e.R7$(),e.Y8G("styleClass","p-message-close-icon"),e.BMQ("data-pc-section","closeicon")}}function U(p,x){if(1&p&&(e.j41(0,"div",5)(1,"div",6),e.DNE(2,v,1,3,"span",7)(3,R,6,4,"span",8)(4,c,3,2,"ng-container",3)(5,E,2,2,"ng-template",null,1,e.C5r)(7,V,2,4,"button",9),e.k0s()()),2&p){let l;const _=x.$implicit,I=e.sdS(6),M=e.XpG(2);e.HbH("p-message p-message-"+_.severity),e.Y8G("@messageAnimation",e.eq3(13,b,e.l_i(10,y,M.showTransitionOptions,M.hideTransitionOptions))),e.R7$(),e.BMQ("data-pc-section","wrapper")("id",_.id||null),e.R7$(),e.Y8G("ngIf",_.icon),e.R7$(),e.Y8G("ngIf",!_.icon),e.R7$(),e.Y8G("ngIf",!M.escape)("ngIfElse",I),e.R7$(3),e.Y8G("ngIf",M.closable&&(null===(l=_.closable)||void 0===l||l))}}function J(p,x){if(1&p&&(e.qex(0),e.DNE(1,U,8,15,"div",4),e.bVm()),2&p){const l=e.XpG();e.R7$(),e.Y8G("ngForOf",l.messages)}}function K(p,x){1&p&&e.eu8(0)}function z(p,x){if(1&p&&(e.j41(0,"div",22)(1,"div",6),e.DNE(2,K,1,0,"ng-container",23),e.k0s()()),2&p){const l=e.XpG();e.Y8G("ngClass","p-message p-message-"+l.severity),e.R7$(2),e.Y8G("ngTemplateOutlet",l.contentTemplate)}}let X=(()=>{class p{messageService;el;cd;config;set value(l){this.messages=l,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new e.bkB;onClose=new e.bkB;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(l,_,I,M){this.messageService=l,this.el=_,this.cd=I,this.config=M}ngAfterContentInit(){this.templates?.forEach(l=>{l.getType(),this.contentTemplate=l.template}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(l=>{if(l){Array.isArray(l)||(l=[l]);const _=l.filter(I=>this.key===I.key);this.messages=this.messages?[...this.messages,..._]:[..._],this.startMessageLifes(_),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(l=>{l?this.key===l&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let l=this.el.nativeElement.parentElement;return!(!l||!l.offsetParent)&&(null!=this.contentTemplate||this.messages&&this.messages.length>0)}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(l){const _=this.messages[l];this.messages=this.messages?.filter((I,M)=>M!==l),_&&this.onClose.emit(_),this.valueChange.emit(this.messages)}get icon(){const l=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(l){case"success":return"pi-check";case"info":default:return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(l=>l.unsubscribe())}startMessageLifes(l){l?.forEach(_=>_.life&&this.startMessageLife(_))}startMessageLife(l){const _=(0,G.O)(l.life).subscribe(()=>{this.messages=this.messages?.filter(I=>I!==l),this.timerSubscriptions=this.timerSubscriptions?.filter(I=>I!==_),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(_)}static \u0275fac=function(_){return new(_||p)(e.rXU(w.bg,8),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(w.r1))};static \u0275cmp=e.VBU({type:p,selectors:[["p-messages"]],contentQueries:function(_,I,M){if(1&_&&e.wni(M,w.Ei,4),2&_){let Y;e.mGM(Y=e.lsd())&&(I.templates=Y)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[e.Mj6.HasDecoratorInputTransform,"closable","closable",e.L39],style:"style",styleClass:"styleClass",enableService:[e.Mj6.HasDecoratorInputTransform,"enableService","enableService",e.L39],key:"key",escape:[e.Mj6.HasDecoratorInputTransform,"escape","escape",e.L39],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[e.GFd],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(_,I){if(1&_&&(e.j41(0,"div",2),e.DNE(1,J,2,1,"ng-container",3)(2,z,3,2,"ng-template",null,0,e.C5r),e.k0s()),2&_){const M=e.sdS(3);e.HbH(I.styleClass),e.Y8G("ngStyle",I.style),e.BMQ("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),e.R7$(),e.Y8G("ngIf",!I.contentTemplate)("ngIfElse",M)}},dependencies:()=>[i.YU,i.Sq,i.bT,i.T3,i.B3,$.n,O.S,A.e,T.I,k.P,P.A],styles:["@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}\n"],encapsulation:2,data:{animation:[(0,h.hZ)("messageAnimation",[(0,h.kY)(":enter",[(0,h.iF)({opacity:0,transform:"translateY(-25%)"}),(0,h.i0)("{{showTransitionParams}}")]),(0,h.kY)(":leave",[(0,h.i0)("{{hideTransitionParams}}",(0,h.iF)({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return p})(),Z=(()=>{class p{static \u0275fac=function(_){return new(_||p)};static \u0275mod=e.$C({type:p});static \u0275inj=e.G2t({imports:[i.MD,$.Z,O.S,A.e,T.I,k.P,P.A,w.Gg,w.Gg]})}return p})()},1579:(Q,B,d)=>{d.d(B,{d:()=>v,z:()=>b});var h=d(177),i=d(4438),e=d(5779);const w=(u,D)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":u,"p-progressbar-indeterminate":D}),O=(u,D)=>({width:u,display:"flex",background:D}),k=u=>({$implicit:u}),A=u=>({display:u}),P=u=>({background:u});function T(u,D){if(1&u&&(i.j41(0,"div",7),i.EFF(1),i.k0s()),2&u){const S=i.XpG(2);i.Y8G("ngStyle",i.eq3(4,A,null!=S.value&&0!==S.value?"flex":"none")),i.BMQ("data-pc-section","label"),i.R7$(),i.Lme(" ",S.value,"",S.unit," ")}}function $(u,D){1&u&&i.eu8(0)}function G(u,D){if(1&u&&(i.j41(0,"div",3)(1,"div",4),i.DNE(2,T,2,6,"div",5)(3,$,1,0,"ng-container",6),i.k0s()()),2&u){const S=i.XpG();i.Y8G("ngStyle",i.l_i(5,O,S.value+"%",S.color)),i.BMQ("data-pc-section","value"),i.R7$(2),i.Y8G("ngIf",S.showValue&&!S.contentTemplate),i.R7$(),i.Y8G("ngTemplateOutlet",S.contentTemplate)("ngTemplateOutletContext",i.eq3(8,k,S.value))}}function y(u,D){if(1&u&&(i.j41(0,"div",8),i.nrm(1,"div",3),i.k0s()),2&u){const S=i.XpG();i.BMQ("data-pc-section","container"),i.R7$(),i.Y8G("ngStyle",i.eq3(3,P,S.color)),i.BMQ("data-pc-section","value")}}let b=(()=>{class u{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(S=>{S.getType(),this.contentTemplate=S.template})}static \u0275fac=function(L){return new(L||u)};static \u0275cmp=i.VBU({type:u,selectors:[["p-progressBar"]],contentQueries:function(L,R,m){if(1&L&&i.wni(m,e.Ei,4),2&L){let F;i.mGM(F=i.lsd())&&(R.templates=F)}},hostAttrs:[1,"p-element"],inputs:{value:[i.Mj6.HasDecoratorInputTransform,"value","value",i.Udg],showValue:[i.Mj6.HasDecoratorInputTransform,"showValue","showValue",i.L39],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[i.GFd],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(L,R){1&L&&(i.j41(0,"div",0),i.DNE(1,G,4,10,"div",1)(2,y,2,5,"div",2),i.k0s()),2&L&&(i.HbH(R.styleClass),i.Y8G("ngStyle",R.style)("ngClass",i.l_i(11,w,"determinate"===R.mode,"indeterminate"===R.mode)),i.BMQ("aria-valuemin",0)("aria-valuenow",R.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),i.R7$(),i.Y8G("ngIf","determinate"===R.mode),i.R7$(),i.Y8G("ngIf","indeterminate"===R.mode))},dependencies:[h.YU,h.bT,h.T3,h.B3],styles:['@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})}return u})(),v=(()=>{class u{static \u0275fac=function(L){return new(L||u)};static \u0275mod=i.$C({type:u});static \u0275inj=i.G2t({imports:[h.MD]})}return u})()}}]);