"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[9071],{2768:(D,x,d)=>{d.d(x,{g:()=>T});var e=d(1626),y=d(4412),L=d(8810),g=d(6354),h=d(9437),_=d(980),v=d(4438),j=d(4133);let T=(()=>{class O{http;translationService;insightaHost="https://api.foresighta.co";apiUrl=`${this.insightaHost}/api/insighter/library/knowledge`;suggestTopicUrl=`${this.insightaHost}/api/insighter/topic/suggest`;isLoadingSubject=new y.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(c,n){this.http=c,this.translationService=n,this.currentLang=this.translationService.getSelectedLanguage(),this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i||"en"})}setLoading(c){this.isLoadingSubject.next(c)}handleError(c){return(0,L.$)(c)}step1HandleKnowledgeType(c){const n=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(`${this.apiUrl}/type`,{type:c},{headers:n}).pipe((0,g.T)(i=>i),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}updateKnowledgeType(c,n){const i=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.apiUrl}/type/${c}`,{type:n},{headers:i}).pipe((0,g.T)(r=>r),(0,h.W)(r=>this.handleError(r)),(0,_.j)(()=>this.setLoading(!1)))}step2CreateKnowledge(c){const n=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.apiUrl,c,{headers:n}).pipe((0,g.T)(i=>i),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}step2UpdateKnowledge(c,n){const i=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.apiUrl}/${c}`,n,{headers:i}).pipe((0,g.T)(r=>r),(0,h.W)(r=>this.handleError(r)),(0,_.j)(()=>this.setLoading(!1)))}createSuggestTopic(c,n){const i=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":n});return this.setLoading(!0),this.http.post(this.suggestTopicUrl,c,{headers:i}).pipe((0,g.T)(r=>r),(0,h.W)(r=>this.handleError(r)),(0,_.j)(()=>this.setLoading(!1)))}uploadKnowledgeDocument(c,n){const i=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(`${this.apiUrl}/document/upload/${c}`,n,{headers:i}).pipe((0,g.T)(r=>r),(0,h.W)(r=>this.handleError(r)),(0,_.j)(()=>this.setLoading(!1)))}uploadKnowledgeDocumentWithProgress(c,n){const i=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(`${this.apiUrl}/document/upload/${c}`,n,{headers:i,reportProgress:!0,observe:"events"}).pipe((0,g.T)(r=>{switch(r.type){case e.hv.UploadProgress:return{type:"progress",progress:r.total?Math.round(100*r.loaded/r.total):0};case e.hv.Response:return{type:"response",response:r.body};default:return{type:"other"}}}),(0,h.W)(r=>this.handleError(r)),(0,_.j)(()=>this.setLoading(!1)))}updateKnowledgeDocumentDetails(c,n){const i=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.apiUrl}/document/details/set/${c}`,{documents:n},{headers:i}).pipe((0,g.T)(r=>r),(0,h.W)(r=>this.handleError(r)),(0,_.j)(()=>this.setLoading(!1)))}step3AddKnowledgeDocument(c,n,i=!1){const r=new FormData;r.append("file_name",n.file_name),r.append("price",n.price),n.file&&r.append("file",n.file),r.append("status",n.status||"active"),n.description&&r.append("description",n.description),n.table_of_content&&n.table_of_content.forEach((E,I)=>{r.append(`table_of_content[${I}][chapter][title]`,E.chapter.title)}),i&&r.append("_method","PUT");const P=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(i?`${this.apiUrl}/document/${c}`:`${this.apiUrl}/document/upload/${c}`,r,{headers:P}).pipe((0,g.T)(E=>E),(0,h.W)(E=>this.handleError(E)),(0,_.j)(()=>this.setLoading(!1)))}getListDocumentsInfo(c){const n=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.apiUrl}/document/list/${c}`,{headers:n}).pipe((0,g.T)(i=>({data:i.data.map(r=>({...r,table_of_content:this.parseTableOfContent(r.table_of_content)}))})),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}getListDocumentsInfoParsed(c){const n=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.apiUrl}/document/list/${c}`,{headers:n}).pipe((0,g.T)(i=>({data:i.data.map(r=>({...r,table_of_content:this.parseTableOfContent(r.table_of_content)}))})),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}parseTableOfContent(c){try{if(Array.isArray(c)&&c.every(n=>n.chapter?.title))return c;if("string"==typeof c){const n=JSON.parse(c);if(Array.isArray(n))return n}return console.warn("Invalid table of content format:",c),[]}catch(n){return console.error("Error parsing table of content:",n),[]}}getDocumentUrl(c){const n=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.apiUrl}/document/download/${c}`,{headers:n}).pipe((0,g.T)(i=>i),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}getDocumentSummary(c){const n=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.insightaHost}/api/insighter/library/knowledge/document/parser/${c}`,{headers:n}).pipe((0,g.T)(i=>i),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}runDocumentParser(c){const n=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(`${this.insightaHost}/api/insighter/library/knowledge/document/parser/${c}`,{},{headers:n}).pipe((0,g.T)(i=>i),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}getKnowledgeParserData(c){const n=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.insightaHost}/api/insighter/library/knowledge/parser/${c}`,{headers:n}).pipe((0,g.T)(i=>i),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}deleteKnowledgeDocument(c){const n=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.delete(`${this.apiUrl}/document/${c}`,{headers:n}).pipe((0,g.T)(i=>i),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}syncTagsKeywords(c,n){const i=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.apiUrl}/tag-keyword/sync/${c}`,n,{headers:i}).pipe((0,g.T)(r=>r),(0,h.W)(r=>this.handleError(r)),(0,_.j)(()=>this.setLoading(!1)))}publishKnowledge(c,n){const i=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.apiUrl}/status/${c}`,n,{headers:i}).pipe((0,g.T)(r=>r),(0,h.W)(r=>this.handleError(r)),(0,_.j)(()=>this.setLoading(!1)))}updateKnowledgeAbstracts(c,n){const i=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`https://api.foresighta.co/api/insighter/library/knowledge/abstract/document/${c}`,n,{headers:i}).pipe((0,g.T)(r=>r),(0,h.W)(r=>this.handleError(r)),(0,_.j)(()=>this.setLoading(!1)))}updateKnowledgeDetails(c,n){const i=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.apiUrl}/details/${c}`,n,{headers:i}).pipe((0,g.T)(r=>r),(0,h.W)(r=>this.handleError(r)),(0,_.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||O)(v.KVO(e.Qq),v.KVO(j.L))};static \u0275prov=v.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},4392:(D,x,d)=>{d.d(x,{I:()=>T});var e=d(1626),y=d(4412),L=d(8810),g=d(6354),h=d(9437),_=d(980),v=d(4438),j=d(4133);let T=(()=>{class O{http;translationService;baseUrl="https://api.foresighta.co";apiUrl=`${this.baseUrl}/api/insighter/library/knowledge`;isLoadingSubject=new y.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(c,n){this.http=c,this.translationService=n,this.currentLang=this.translationService.getSelectedLanguage(),this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i||"en"})}setLoading(c){this.isLoadingSubject.next(c)}handleError(c){return(0,L.$)(c)}getKnowledgeById(c){const n=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.baseUrl}/api/insighter/library/knowledge/${c}`,{headers:n}).pipe((0,g.T)(i=>i),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}getPaginatedKnowledges(c=1,n,i,r){const P=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});let R=`${this.baseUrl}/api/insighter/library/knowledge?page=${c}`;return n&&(R+=`&status=${n}`),i&&(R+=`&keyword=${encodeURIComponent(i)}`),r&&(R+=`&type=${encodeURIComponent(r)}`),this.setLoading(!0),this.http.get(R,{headers:P}).pipe((0,g.T)(E=>E),(0,h.W)(E=>this.handleError(E)),(0,_.j)(()=>this.setLoading(!1)))}getListKnowledge(){const c=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.baseUrl}/api/insighter/library/knowledge/list`,{headers:c}).pipe((0,g.T)(n=>n),(0,h.W)(n=>this.handleError(n)),(0,_.j)(()=>this.setLoading(!1)))}getKnowledgeStatistics(){return this.getListKnowledge().pipe((0,g.T)(c=>{const n=c.data;return{published:n.filter(i=>"published"===i.status).length,scheduled:n.filter(i=>"scheduled"===i.status).length,draft:n.filter(i=>"unpublished"===i.status).length,total:n.length}}))}getKnowledgeTypeStatistics(){const c=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.baseUrl}/api/insighter/library/knowledge/statistics`,{headers:c}).pipe((0,g.T)(n=>n),(0,h.W)(n=>this.handleError(n)),(0,_.j)(()=>this.setLoading(!1)))}deleteKnowledge(c){const n=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.delete(`${this.baseUrl}/api/insighter/library/knowledge/${c}`,{headers:n}).pipe((0,g.T)(i=>i),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}setKnowledgeStatus(c,n,i){const r=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang}),P={status:n,published_at:i};return this.setLoading(!0),this.http.put(`${this.baseUrl}/api/insighter/library/knowledge/status/${c}`,P,{headers:r}).pipe((0,g.T)(R=>R),(0,h.W)(R=>this.handleError(R)),(0,_.j)(()=>this.setLoading(!1)))}publishAs(c,n){const i=new e.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang}),r={publish_as:n};return this.setLoading(!0),this.http.put(`${this.baseUrl}/api/insighter/library/knowledge/publish-as/${c}`,r,{headers:i}).pipe((0,g.T)(P=>P),(0,h.W)(P=>this.handleError(P)),(0,_.j)(()=>this.setLoading(!1)))}getListDocumentsInfo(c){const n=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.apiUrl}/document/list/${c}`,{headers:n}).pipe((0,g.T)(i=>({data:i.data.map(r=>({...r,table_of_content:this.parseTableOfContent(r.table_of_content)}))})),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}parseTableOfContent(c){try{if(Array.isArray(c)&&c.every(n=>n.chapter?.title))return c;if("string"==typeof c){const n=JSON.parse(c);if(Array.isArray(n))return n}return console.warn("Invalid table of content format:",c),[]}catch(n){return console.error("Error parsing table of content:",n),[]}}getDocumentUrl(c){const n=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.apiUrl}/document/download/${c}`,{headers:n}).pipe((0,g.T)(i=>i),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}getReviewDocumentsList(c){const n=new e.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(`${this.baseUrl}/api/company/library/knowledge/documents/${c}`,{headers:n}).pipe((0,g.T)(i=>({data:i.data.map(r=>({...r,table_of_content:this.parseTableOfContent(r.table_of_content)}))})),(0,h.W)(i=>this.handleError(i)),(0,_.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||O)(v.KVO(e.Qq),v.KVO(j.L))};static \u0275prov=v.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},6559:(D,x,d)=>{d.d(x,{s:()=>y});var e=d(4438);let y=(()=>{class L{transform(h){if(0===h)return"0 Bytes";const j=Math.floor(Math.log(h)/Math.log(1024));return parseFloat((h/Math.pow(1024,j)).toFixed(2))+" "+["Bytes","KB","MB","GB"][j]}static \u0275fac=function(_){return new(_||L)};static \u0275pipe=e.EJ8({name:"fileSize",type:L,pure:!0,standalone:!0})}return L})()},5135:(D,x,d)=>{d.d(x,{G:()=>$});var e=d(4438),y=d(177),L=d(6781),g=d(9417),h=d(2242),_=d(4133),v=d(4827),j=d(4496),T=d(3955),O=d(5779);const A=()=>({width:"70vw",maxWidth:"1000px"}),c=()=>({"960px":"90vw","640px":"100vw"});function n(C,S){if(1&C){const a=e.RV6();e.j41(0,"p-chip",16),e.bIt("onRemove",function(){const u=e.eBV(a).$implicit,M=e.XpG(2);return e.Njj(M.removeItem(u))})("click",function(u){return e.eBV(a),e.Njj(u.stopPropagation())}),e.k0s()}2&C&&e.Y8G("label",S.$implicit)("removable",!0)}function i(C,S){if(1&C){const a=e.RV6();e.qex(0),e.j41(1,"div",13),e.bIt("click",function(u){return e.eBV(a),e.Njj(u.stopPropagation())}),e.DNE(2,n,1,2,"p-chip",14),e.j41(3,"span",15),e.bIt("click",function(){e.eBV(a);const u=e.XpG();return e.Njj(u.showDialog())}),e.EFF(4," Add "),e.k0s()(),e.bVm()}if(2&C){const a=e.XpG();e.R7$(2),e.Y8G("ngForOf",a.getSelectedDisplayItems())}}function r(C,S){if(1&C&&(e.j41(0,"div",17)(1,"span")(2,"i",18),e.nrm(3,"span",19)(4,"span",20),e.k0s()(),e.EFF(5),e.k0s()),2&C){const a=e.XpG();e.R7$(5),e.SpI("",a.placeholder," ")}}function P(C,S){if(1&C){const a=e.RV6();e.j41(0,"div",21)(1,"button",22),e.bIt("click",function(){e.eBV(a);const u=e.XpG();return e.Njj(u.clearAllSelections())}),e.j41(2,"span")(3,"i",23),e.nrm(4,"span",19)(5,"span",20)(6,"span",24)(7,"span",25)(8,"span",26),e.k0s()(),e.EFF(9),e.nI1(10,"translate"),e.k0s()()}2&C&&(e.R7$(9),e.SpI(" ",e.bMT(10,1,"CLEAR_ALL")," "))}function R(C,S){1&C&&(e.j41(0,"div",33)(1,"span")(2,"i",34),e.nrm(3,"span",19)(4,"span",20),e.k0s()()())}function E(C,S){if(1&C){const a=e.RV6();e.j41(0,"div",27),e.bIt("click",function(){const u=e.eBV(a).$implicit,M=e.XpG();return e.Njj(M.toggleBlockSelection(u))}),e.j41(1,"div",28)(2,"div",29),e.nrm(3,"input",30),e.j41(4,"label",31),e.EFF(5),e.k0s()(),e.DNE(6,R,5,0,"div",32),e.k0s()()}if(2&C){const a=S.$implicit,f=e.XpG();e.AVh("selected",f.isBlockSelected(a)),e.R7$(3),e.Mz_("id","select-block-",a.id,""),e.Y8G("checked",f.isBlockSelected(a)),e.R7$(),e.Mz_("for","select-block-",a.id,""),e.R7$(),e.SpI(" ",a.name," "),e.R7$(),e.Y8G("ngIf",f.isBlockSelected(a))}}function I(C,S){if(1&C){const a=e.RV6();e.j41(0,"div",35)(1,"button",36),e.bIt("click",function(){e.eBV(a);const u=e.XpG();return e.Njj(u.dialogVisible=!1)}),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",37),e.bIt("click",function(){e.eBV(a);const u=e.XpG();return e.Njj(u.onConfirm())}),e.j41(5,"span")(6,"i",38),e.nrm(7,"span",19)(8,"span",20),e.k0s()(),e.EFF(9),e.nI1(10,"translate"),e.k0s()()}if(2&C){const a=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"CANCEL")," "),e.R7$(2),e.Y8G("disabled",!a.hasSelections()),e.R7$(5),e.SpI(" ",e.bMT(10,5,"CONFIRM")," ")}}let $=(()=>{class C{economicBlockService;placeholder="Select Economic Block...";title="Select Economic Blocks";blocksSelected=new e.bkB;selectedBlockIds=[];dialogVisible=!1;economicBlocks=[];filteredBlocks=[];selectedBlocks=[];displayValue="";searchQuery="";constructor(a){this.economicBlockService=a}ngOnInit(){this.loadEconomicBlocks()}ngOnChanges(a){a.selectedBlockIds&&this.economicBlocks.length>0&&this.updateSelectedBlocks()}loadEconomicBlocks(){this.economicBlockService.getEconomicBlocs().subscribe({next:a=>{this.economicBlocks=a,this.filteredBlocks=[...this.economicBlocks],this.updateSelectedBlocks()},error:a=>{console.error("Error loading economic blocks:",a)}})}updateSelectedBlocks(){this.selectedBlockIds&&this.selectedBlockIds.length>0&&this.economicBlocks.length>0?(this.selectedBlocks=this.economicBlocks.filter(a=>{const f=Number(a.id);return this.selectedBlockIds.some(M=>Number(M)===f)}),this.updateDisplayValue()):(this.selectedBlocks=[],this.updateDisplayValue())}showDialog(){this.dialogVisible=!0,this.searchQuery="",this.filteredBlocks=[...this.economicBlocks]}isBlockSelected(a){return this.selectedBlocks.some(f=>f.id===a.id)}toggleSelectBlock(a,f){f.target.checked?this.selectedBlocks.some(M=>M.id===a.id)||this.selectedBlocks.push(a):this.selectedBlocks=this.selectedBlocks.filter(M=>M.id!==a.id),this.updateDisplayValue()}toggleBlockSelection(a){this.isBlockSelected(a)?this.selectedBlocks=this.selectedBlocks.filter(u=>u.id!==a.id):this.selectedBlocks.some(u=>u.id===a.id)||this.selectedBlocks.push(a),this.updateDisplayValue(),this.blocksSelected.emit(this.selectedBlocks)}updateDisplayValue(){this.displayValue=this.selectedBlocks.map(a=>a.name).join(", ")}filterBlocks(){if(!this.searchQuery||""===this.searchQuery.trim())return void(this.filteredBlocks=[...this.economicBlocks]);const a=this.searchQuery.toLowerCase().trim();this.filteredBlocks=this.economicBlocks.filter(f=>f.name.toLowerCase().includes(a))}clearAllSelections(){this.selectedBlocks=[],this.updateDisplayValue(),this.blocksSelected.emit(this.selectedBlocks)}removeItem(a){const f=this.economicBlocks.find(u=>u.name===a);f&&(this.selectedBlocks=this.selectedBlocks.filter(u=>u.id!==f.id),this.updateDisplayValue(),this.blocksSelected.emit(this.selectedBlocks))}onConfirm(){this.selectedBlocks&&this.selectedBlocks.length>0&&this.blocksSelected.emit(this.selectedBlocks),this.dialogVisible=!1}hasSelections(){return this.selectedBlocks&&this.selectedBlocks.length>0}getSelectedDisplayItems(){return this.selectedBlocks.map(a=>a.name)}static \u0275fac=function(f){return new(f||C)(e.rXU(j.o))};static \u0275cmp=e.VBU({type:C,selectors:[["app-select-economic-block"]],inputs:{placeholder:"placeholder",title:"title",selectedBlockIds:"selectedBlockIds"},outputs:{blocksSelected:"blocksSelected"},standalone:!0,features:[e.OA$,e.aNF],decls:15,vars:18,consts:[["placeholderTpl",""],[1,"economic-block-selector",3,"click"],[1,"chips-container"],[4,"ngIf","ngIfElse"],["appendTo","body","styleClass","p-fluid",1,"select-economic-block-dialog",3,"visibleChange","header","visible","modal","breakpoints","draggable","resizable"],[1,"economic-block-dialog"],[1,"search-container","mb-4"],[1,"p-input-icon-left","w-100"],["type","text","pInputText","",1,"w-100","search-input",3,"ngModelChange","input","ngModel","placeholder"],["class","selected-count mb-4",4,"ngIf"],[1,"blocks-cards"],["class","block-card","style","cursor: pointer;",3,"selected","click",4,"ngFor","ngForOf"],["pTemplate","footer"],[1,"selected-items",3,"click"],[3,"label","removable","onRemove","click",4,"ngFor","ngForOf"],[1,"add-button","text-info","fw-bold","ms-2",2,"cursor","pointer","font-size","14px",3,"click"],[3,"onRemove","click","label","removable"],[1,"placeholder-text"],[1,"ki-duotone","ki-abstract-21","me-2"],[1,"path1"],[1,"path2"],[1,"selected-count","mb-4"],[1,"btn","btn-link","btn-sm","text-danger",3,"click"],[1,"ki-duotone","ki-trash","me-1"],[1,"path3"],[1,"path4"],[1,"path5"],[1,"block-card",2,"cursor","pointer",3,"click"],[1,"block-card-content"],[1,"form-check"],["type","checkbox","readonly","",1,"form-check-input",3,"checked","id"],[1,"form-check-label","fw-bold",3,"for"],["class","block-card-icon",4,"ngIf"],[1,"block-card-icon"],[1,"ki-duotone","ki-check-circle","text-success"],[1,"dialog-footer"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[1,"ki-duotone","ki-check","me-1"]],template:function(f,u){if(1&f){const M=e.RV6();e.j41(0,"div",1),e.bIt("click",function(){return e.eBV(M),e.Njj(u.showDialog())}),e.j41(1,"div",2),e.DNE(2,i,5,1,"ng-container",3)(3,r,6,1,"ng-template",null,0,e.C5r),e.k0s()(),e.j41(5,"p-dialog",4),e.mxI("visibleChange",function(B){return e.eBV(M),e.DH7(u.dialogVisible,B)||(u.dialogVisible=B),e.Njj(B)}),e.j41(6,"div",5)(7,"div",6)(8,"span",7)(9,"input",8),e.nI1(10,"translate"),e.mxI("ngModelChange",function(B){return e.eBV(M),e.DH7(u.searchQuery,B)||(u.searchQuery=B),e.Njj(B)}),e.bIt("input",function(){return e.eBV(M),e.Njj(u.filterBlocks())}),e.k0s()()(),e.DNE(11,P,11,3,"div",9),e.j41(12,"div",10),e.DNE(13,E,7,9,"div",11),e.k0s()(),e.DNE(14,I,11,7,"ng-template",12),e.k0s()}if(2&f){const M=e.sdS(4);e.R7$(2),e.Y8G("ngIf",u.hasSelections())("ngIfElse",M),e.R7$(3),e.Aen(e.lJ4(16,A)),e.Y8G("header",u.title),e.R50("visible",u.dialogVisible),e.Y8G("modal",!0)("breakpoints",e.lJ4(17,c))("draggable",!1)("resizable",!1),e.R7$(4),e.FS9("placeholder",e.bMT(10,14,"SEARCH_ECONOMIC_BLOCK")),e.R50("ngModel",u.searchQuery),e.R7$(2),e.Y8G("ngIf",u.hasSelections()),e.R7$(2),e.Y8G("ngForOf",u.filteredBlocks)}},dependencies:[y.MD,y.Sq,y.bT,_.E,T.D9,L.P,L.l,O.Ei,g.YN,g.me,g.BC,g.vS,h.u,h.S,v.P,v.v],styles:['.economic-block-selector[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #e4e6ef;border-radius:.475rem;padding:.75rem 1rem;width:100%;transition:border-color .15s ease;background-color:#fff}.economic-block-selector[_ngcontent-%COMP%]:hover{border-color:#b5b5c3}.chips-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;min-height:24px}.placeholder-text[_ngcontent-%COMP%]{color:#a1a5b7;display:flex;align-items:center;-webkit-user-select:none;user-select:none;padding-top:2px;padding-inline-start:3px;font-size:1.05rem}[_nghost-%COMP%]     .select-economic-block-dialog .p-dialog-content{padding:1.5rem}[_nghost-%COMP%]     .p-chip{border-radius:16px;padding:0 12px;background-color:#f5f5f5;margin:3px}[_nghost-%COMP%]     .p-chip .p-chip-text{padding:0 .5rem}[_nghost-%COMP%]     .p-chip .p-chip-remove-icon{margin-left:.25rem}.economic-block-dialog[_ngcontent-%COMP%]{min-height:200px}.search-container[_ngcontent-%COMP%]{margin-bottom:1rem}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 10px 10px 36px;border-radius:6px;transition:border-color .2s,box-shadow .2s}.selected-count[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.5rem 0}.blocks-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1rem;margin-top:1rem}.blocks-cards[_ngcontent-%COMP%]   .block-card[_ngcontent-%COMP%]{border:1px solid #e4e6ef;border-radius:.75rem;padding:1rem;cursor:pointer;transition:all .2s ease;background-color:#fff;box-shadow:0 .1rem .7rem #00000008;position:relative;overflow:hidden}.blocks-cards[_ngcontent-%COMP%]   .block-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#7239ea08;opacity:0;transition:opacity .2s ease;pointer-events:none;z-index:1}.blocks-cards[_ngcontent-%COMP%]   .block-card[_ngcontent-%COMP%]:hover{border-color:#397aea;transform:translateY(-2px);box-shadow:0 .3rem 1rem #7239ea26}.blocks-cards[_ngcontent-%COMP%]   .block-card[_ngcontent-%COMP%]:hover:after{opacity:1}.blocks-cards[_ngcontent-%COMP%]   .block-card[_ngcontent-%COMP%]:active{transform:translateY(0);transition:transform .1s ease}.blocks-cards[_ngcontent-%COMP%]   .block-card.selected[_ngcontent-%COMP%]{border-color:#50cd89;background-color:#50cd890d}.blocks-cards[_ngcontent-%COMP%]   .block-card.selected[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background-color:#50cd89;border-top-left-radius:.75rem;border-bottom-left-radius:.75rem}.blocks-cards[_ngcontent-%COMP%]   .block-card[_ngcontent-%COMP%]   .block-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.blocks-cards[_ngcontent-%COMP%]   .block-card[_ngcontent-%COMP%]   .block-card-content[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-size:1rem;color:#181c32;cursor:pointer}.blocks-cards[_ngcontent-%COMP%]   .block-card[_ngcontent-%COMP%]   .block-card-content[_ngcontent-%COMP%]   .block-card-icon[_ngcontent-%COMP%]{font-size:1.2rem}.blocks-cards[_ngcontent-%COMP%]   .block-card[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;margin-top:.25rem;cursor:pointer}.blocks-cards[_ngcontent-%COMP%]   .block-card[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#50cd89;border-color:#50cd89}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem;padding-top:1rem}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#394eea;border-color:#394eea}@media (max-width: 768px){.blocks-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}}']})}return C})()},2783:(D,x,d)=>{d.d(x,{u:()=>G});var e=d(4438),y=d(177),L=d(6781),g=d(9417),h=d(2242),_=d(2637),v=d(4133),j=d(4827),T=d(4945),O=d(5899),A=d(5779),c=d(3955);const n=()=>({width:"70vw",maxWidth:"1000px"}),i=()=>({"960px":"90vw","640px":"100vw"}),r=p=>({"rtl-checkbox-container":p}),P=(p,k)=>({"me-2":p,"ms-2":k}),R=(p,k)=>({"flex-row":p,"flex-row-reverse":k});function E(p,k){if(1&p){const t=e.RV6();e.j41(0,"p-chip",17),e.bIt("onRemove",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.removeItem(o))})("click",function(o){return e.eBV(t),e.Njj(o.stopPropagation())}),e.k0s()}2&p&&e.Y8G("label",k.$implicit)("removable",!0)}function I(p,k){if(1&p){const t=e.RV6();e.qex(0),e.j41(1,"div",14),e.bIt("click",function(o){return e.eBV(t),e.Njj(o.stopPropagation())}),e.DNE(2,E,1,2,"p-chip",15),e.j41(3,"span",16),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showDialog())}),e.EFF(4," Add "),e.k0s()(),e.bVm()}if(2&p){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.getSelectedDisplayItems())}}function $(p,k){if(1&p&&(e.j41(0,"div",18)(1,"span")(2,"i",19),e.nrm(3,"span",20)(4,"span",21),e.k0s()(),e.EFF(5),e.k0s()),2&p){const t=e.XpG();e.R7$(5),e.SpI("",t.placeholder," ")}}function C(p,k){if(1&p){const t=e.RV6();e.j41(0,"div",22)(1,"button",23),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearAllSelections())}),e.j41(2,"span")(3,"i",24),e.nrm(4,"span",20)(5,"span",21)(6,"span",25)(7,"span",26)(8,"span",27),e.k0s()(),e.EFF(9),e.nI1(10,"translate"),e.k0s()()}2&p&&(e.R7$(9),e.SpI(" ",e.bMT(10,1,"CLEAR_ALL")," "))}function S(p,k){1&p&&(e.j41(0,"div",39)(1,"span")(2,"i",40),e.nrm(3,"span",20)(4,"span",21),e.k0s()()())}function a(p,k){if(1&p){const t=e.RV6();e.j41(0,"div",31),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.toggleSelectRegion(o,{target:{checked:!l.isRegionSelected(o)}}))}),e.j41(1,"div",32)(2,"div",33)(3,"input",34),e.bIt("change",function(o){const l=e.eBV(t).$implicit,m=e.XpG(2);return e.Njj(m.toggleSelectRegion(l,o))})("click",function(o){return e.eBV(t),e.Njj(o.stopPropagation())}),e.k0s(),e.j41(4,"label",35),e.EFF(5),e.k0s()(),e.DNE(6,S,5,0,"div",36),e.k0s(),e.j41(7,"div",37)(8,"span",38)(9,"small"),e.EFF(10),e.nI1(11,"translate"),e.k0s()()()()}if(2&p){const t=k.$implicit,s=e.XpG(2);e.AVh("selected",s.isRegionSelected(t)),e.R7$(3),e.Mz_("id","select-region-",t.id,""),e.Y8G("checked",s.isRegionSelected(t)),e.R7$(),e.Mz_("for","select-region-",t.id,""),e.R7$(),e.SpI(" ",t.name," "),e.R7$(),e.Y8G("ngIf",s.isRegionSelected(t)),e.R7$(4),e.Lme("",t.countries.length||0," ",e.bMT(11,11,"COUNTRIES"),"")}}function f(p,k){if(1&p&&(e.j41(0,"div",28)(1,"div",29),e.DNE(2,a,12,13,"div",30),e.k0s()()),2&p){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.filteredRegions)}}function u(p,k){if(1&p){const t=e.RV6();e.j41(0,"div",44),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.toggleSelectCountryFlat(o,{target:{checked:!l.isCountrySelectedFlat(o)}}))}),e.j41(1,"div",45)(2,"input",46),e.bIt("change",function(o){const l=e.eBV(t).$implicit,m=e.XpG(2);return e.Njj(m.toggleSelectCountryFlat(l,o))}),e.k0s(),e.j41(3,"label",47),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.toggleSelectCountryFlat(o,{target:{checked:!l.isCountrySelectedFlat(o)}}))}),e.j41(4,"img",48),e.bIt("error",function(o){e.eBV(t);const l=e.XpG(2);return e.Njj(l.onFlagError(o))}),e.k0s(),e.j41(5,"span"),e.EFF(6),e.k0s()()()()}if(2&p){const t=k.$implicit,s=e.XpG(2);e.AVh("highlighted",s.isCountrySelectedFlat(t))("rtl-country-item","rtl"===s.document.dir),e.R7$(),e.Y8G("ngClass",e.eq3(14,r,"rtl"===s.document.dir)),e.R7$(),e.Mz_("id","select-country-flat-",t.id,""),e.Y8G("checked",s.isCountrySelectedFlat(t)),e.R7$(),e.Mz_("for","select-country-flat-",t.id,""),e.R7$(),e.Y8G("src",s.getCountryFlagPath(t.flag),e.B4B)("alt",t.name)("ngClass",e.l_i(16,P,"rtl"!==s.document.dir,"rtl"===s.document.dir)),e.R7$(2),e.JRh(t.name)}}function M(p,k){if(1&p&&(e.j41(0,"div",41)(1,"div",42),e.DNE(2,u,7,19,"div",43),e.k0s()()),2&p){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.allCountries)}}function w(p,k){if(1&p){const t=e.RV6();e.j41(0,"div",44),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG().$implicit,m=e.XpG(2);return e.Njj(m.toggleSelectCountry(l,o,{target:{checked:!m.isCountrySelected(o,l)}}))}),e.j41(1,"div",53)(2,"input",46),e.bIt("change",function(o){const l=e.eBV(t).$implicit,m=e.XpG().$implicit,b=e.XpG(2);return e.Njj(b.toggleSelectCountry(m,l,o))}),e.k0s(),e.j41(3,"label",54)(4,"div",55)(5,"img",48),e.bIt("error",function(o){e.eBV(t);const l=e.XpG(3);return e.Njj(l.onFlagError(o))}),e.k0s(),e.j41(6,"span"),e.EFF(7),e.k0s()()()()()}if(2&p){const t=k.$implicit,s=e.XpG().$implicit,o=e.XpG(2);e.AVh("highlighted",o.isCountrySelected(t,s)),e.R7$(2),e.Mz_("id","select-country-",t.id,""),e.Y8G("checked",o.isCountrySelected(t,s)),e.R7$(),e.Mz_("for","select-country-",t.id,""),e.R7$(),e.Y8G("ngClass",e.l_i(12,R,"rtl"!==o.document.dir,"rtl"===o.document.dir)),e.R7$(),e.Y8G("src",o.getCountryFlagPath(t.flag),e.B4B)("alt",t.name)("ngClass",e.l_i(15,P,"rtl"!==o.document.dir,"rtl"===o.document.dir)),e.R7$(2),e.JRh(t.name)}}function B(p,k){if(1&p){const t=e.RV6();e.j41(0,"p-tabPanel",50)(1,"div",51)(2,"div",33)(3,"input",46),e.bIt("change",function(o){const l=e.eBV(t).$implicit,m=e.XpG(2);return e.Njj(m.toggleSelectRegion(l,o))}),e.k0s(),e.j41(4,"label",35),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"div",42),e.DNE(8,w,8,18,"div",52),e.k0s()()}if(2&p){const t=k.$implicit,s=e.XpG(2);e.Y8G("header",t.name),e.R7$(3),e.Mz_("id","select-region-",t.id,""),e.Y8G("checked",s.isRegionSelected(t)),e.R7$(),e.Mz_("for","select-region-",t.id,""),e.R7$(),e.SpI(" ",e.bMT(6,8,"SELECT_ALL_COUNTRIES")," "),e.R7$(3),e.Y8G("ngForOf",s.filteredCountries(t))}}function U(p,k){if(1&p&&(e.j41(0,"p-tabView"),e.DNE(1,B,9,10,"p-tabPanel",49),e.k0s()),2&p){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.filteredRegions)}}function F(p,k){if(1&p){const t=e.RV6();e.j41(0,"div",56)(1,"button",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.dialogVisible=!1)}),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",58),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onConfirm())}),e.j41(5,"span")(6,"i",59),e.nrm(7,"span",20)(8,"span",21),e.k0s()(),e.EFF(9),e.nI1(10,"translate"),e.k0s()()}if(2&p){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"CANCEL")," "),e.R7$(2),e.Y8G("disabled",!t.hasSelections()),e.R7$(5),e.SpI(" ",e.bMT(10,5,"CONFIRM")," ")}}let G=(()=>{class p{regionsService;placeholder="Select Region...";title="Select Regions";preSelectedRegions=[];preSelectedCountries=[];displayMode="default";regionsSelected=new e.bkB;document=document;dialogVisible=!1;regions=[];filteredRegions=[];selectedRegions=[];selectedCountries=[];displayValue="";searchQuery="";allCountries=[];constructor(t){this.regionsService=t}ngOnInit(){this.loadRegions(),this.selectedRegions=this.preSelectedRegions?[...this.preSelectedRegions]:[],this.selectedCountries=this.preSelectedCountries?[...this.preSelectedCountries]:[],this.updateDisplayValue()}ngOnChanges(t){if(t.preSelectedRegions||t.preSelectedCountries){if(t.preSelectedRegions){const s=t.preSelectedRegions.currentValue;this.selectedRegions=Array.isArray(s)?[...s]:[]}if(t.preSelectedCountries){const s=t.preSelectedCountries.currentValue;this.selectedCountries=Array.isArray(s)?[...s]:[]}this.updateDisplayValue()}}loadRegions(){this.regionsService.getRegionsList().subscribe({next:t=>{this.regions=t,this.filteredRegions=[...this.regions],"onlyCountries"===this.displayMode&&(this.allCountries=this.regions.reduce((s,o)=>[...s,...o.countries],[]))},error:t=>{console.error("Error loading regions:",t)}})}showDialog(){this.dialogVisible=!0,this.searchQuery="",this.filteredRegions=[...this.regions],"onlyCountries"===this.displayMode&&(this.allCountries=this.regions.reduce((t,s)=>[...t,...s.countries],[]))}isRegionSelected(t){return this.selectedRegions.includes(t.id)}toggleSelectRegion(t,s){let o=s.target.checked;void 0===s.target.checked&&"checkbox"!==s.target.type&&(o=!this.isRegionSelected(t)),o?(this.selectedRegions.includes(t.id)||this.selectedRegions.push(t.id),this.selectedCountries=this.selectedCountries.filter(l=>!t.countries.some(m=>m.id===l))):this.selectedRegions=this.selectedRegions.filter(l=>l!==t.id),this.updateDisplayValue()}isCountrySelected(t,s){return this.selectedCountries.includes(t.id)||this.selectedRegions.includes(s.id)}isCountrySelectedFlat(t){const s=this.regions.find(o=>o.countries.some(l=>l.id===t.id));return this.selectedCountries.includes(t.id)||void 0!==s&&this.selectedRegions.includes(s.id)}toggleSelectCountry(t,s,o){o.target.checked?(this.selectedCountries.includes(s.id)||this.selectedCountries.push(s.id),t.countries.every(b=>this.isCountrySelected(b,t))&&!this.selectedRegions.includes(t.id)&&(this.selectedRegions.push(t.id),this.selectedCountries=this.selectedCountries.filter(b=>!t.countries.some(V=>V.id===b)))):(this.selectedCountries=this.selectedCountries.filter(m=>m!==s.id),this.selectedRegions.includes(t.id)&&(this.selectedRegions=this.selectedRegions.filter(m=>m!==t.id))),this.updateDisplayValue()}toggleSelectCountryFlat(t,s){const o=s.target.checked,l=this.regions.find(m=>m.countries.some(b=>b.id===t.id));if(l){if(o){if(this.selectedRegions.includes(l.id))return;this.selectedCountries.includes(t.id)||this.selectedCountries.push(t.id),l.countries.every(b=>this.selectedCountries.includes(b.id))&&(this.selectedRegions.push(l.id),this.selectedCountries=this.selectedCountries.filter(b=>!l.countries.some(V=>V.id===b)))}else this.selectedRegions.includes(l.id)?(this.selectedRegions=this.selectedRegions.filter(m=>m!==l.id),l.countries.forEach(m=>{m.id!==t.id&&!this.selectedCountries.includes(m.id)&&this.selectedCountries.push(m.id)})):this.selectedCountries=this.selectedCountries.filter(m=>m!==t.id);this.updateDisplayValue()}}updateDisplayValue(){const t=this.regions.filter(o=>this.selectedRegions.includes(o.id)).map(o=>o.name),s=this.regions.filter(o=>!this.selectedRegions.includes(o.id)).reduce((o,l)=>o.concat(l.countries.filter(m=>this.selectedCountries.includes(m.id)).map(m=>m.name)),[]);this.displayValue=[...t,...s].join(", ")}hasSelections(){return this.selectedRegions.length>0||this.selectedCountries.length>0}getCountryFlagPath(t){try{return`../../../assets/media/flags/${t}.svg`}catch{return"../../../assets/media/flags/default.svg"}}onFlagError(t){t.target.src="../../../../assets/media/flags/default.svg"}onConfirm(){this.regionsSelected.emit({regions:this.selectedRegions,countries:this.selectedCountries}),this.dialogVisible=!1}getSelectedDisplayItems(){const t=[];return this.regions.forEach(s=>{if(this.selectedRegions.includes(s.id))t.push(s.name);else{const o=s.countries.filter(l=>this.selectedCountries.includes(l.id));o.length>0&&t.push(...o.map(l=>l.name))}}),t}filterRegions(){if(!this.searchQuery||""===this.searchQuery.trim())return this.filteredRegions=[...this.regions],void("onlyCountries"===this.displayMode&&(this.allCountries=this.regions.reduce((s,o)=>[...s,...o.countries],[])));const t=this.searchQuery.toLowerCase().trim();this.filteredRegions=this.regions.filter(s=>s.name.toLowerCase().includes(t)||s.countries.some(o=>o.name.toLowerCase().includes(t))),"onlyCountries"===this.displayMode&&(this.allCountries=this.regions.reduce((s,o)=>[...s,...o.countries.filter(l=>l.name.toLowerCase().includes(t))],[]))}filteredCountries(t){if(!this.searchQuery||""===this.searchQuery.trim())return t.countries;const s=this.searchQuery.toLowerCase().trim();return t.countries.filter(o=>o.name.toLowerCase().includes(s))}getSelectedCount(){let t=this.selectedRegions.length;return t+=this.selectedCountries.length,t}removeItem(t){let s=!1;const o=this.regions.find(l=>l.name===t);if(o)this.selectedRegions=this.selectedRegions.filter(l=>l!==o.id),s=!0;else for(const l of this.regions){const m=l.countries.find(b=>b.name===t);if(m){this.selectedCountries=this.selectedCountries.filter(b=>b!==m.id),s=!0;break}}this.updateDisplayValue(),s&&this.regionsSelected.emit({regions:this.selectedRegions,countries:this.selectedCountries})}clearAllSelections(){this.selectedRegions=[],this.selectedCountries=[],this.updateDisplayValue(),this.regionsSelected.emit({regions:this.selectedRegions,countries:this.selectedCountries})}static \u0275fac=function(s){return new(s||p)(e.rXU(O.F))};static \u0275cmp=e.VBU({type:p,selectors:[["app-select-region"]],inputs:{placeholder:"placeholder",title:"title",preSelectedRegions:"preSelectedRegions",preSelectedCountries:"preSelectedCountries",displayMode:"displayMode"},outputs:{regionsSelected:"regionsSelected"},standalone:!0,features:[e.OA$,e.aNF],decls:16,vars:20,consts:[["placeholderTpl",""],[1,"region-selector",3,"click"],[1,"chips-container"],[4,"ngIf","ngIfElse"],["appendTo","body","styleClass","p-fluid",1,"select-region-dialog",3,"visibleChange","header","visible","modal","breakpoints","draggable","resizable"],[1,"region-dialog"],[1,"search-container","mb-4"],[1,"p-input-icon-left","w-100"],["type","text","pInputText","",1,"w-100","search-input",3,"ngModelChange","input","ngModel","placeholder"],["class","selected-count mb-4",4,"ngIf"],["class","mb-4",4,"ngIf"],["class","countries-container",4,"ngIf"],[4,"ngIf"],["pTemplate","footer"],[1,"selected-items",3,"click"],[3,"label","removable","onRemove","click",4,"ngFor","ngForOf"],[1,"add-button","text-info","fw-bold","ms-2",2,"cursor","pointer","font-size","14px",3,"click"],[3,"onRemove","click","label","removable"],[1,"placeholder-text"],[1,"ki-duotone","ki-globe","me-2"],[1,"path1"],[1,"path2"],[1,"selected-count","mb-4"],[1,"btn","btn-link","btn-sm","text-danger",3,"click"],[1,"ki-duotone","ki-trash","me-1"],[1,"path3"],[1,"path4"],[1,"path5"],[1,"mb-4"],[1,"regions-cards"],["class","region-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"region-card",3,"click"],[1,"region-card-content"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","click","checked","id"],[1,"form-check-label","fw-bold",3,"for"],["class","region-card-icon",4,"ngIf"],[1,"region-card-footer"],[1,"text-muted"],[1,"region-card-icon"],[1,"ki-duotone","ki-check-circle","text-success"],[1,"countries-container"],[1,"countries-grid"],["class","country-item",3,"highlighted","rtl-country-item","click",4,"ngFor","ngForOf"],[1,"country-item",3,"click"],[1,"country-checkbox-container",3,"ngClass"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label","d-flex","align-items-center","country-label",3,"click","for"],[1,"country-flag",3,"error","src","alt","ngClass"],[3,"header",4,"ngFor","ngForOf"],[3,"header"],[1,"region-header","mb-3"],["class","country-item",3,"highlighted","click",4,"ngFor","ngForOf"],[1,"form-check","rtl-friendly"],[1,"form-check-label",3,"for"],[1,"d-flex","align-items-center",3,"ngClass"],[1,"dialog-footer"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[1,"ki-duotone","ki-check","me-1"]],template:function(s,o){if(1&s){const l=e.RV6();e.j41(0,"div",1),e.bIt("click",function(){return e.eBV(l),e.Njj(o.showDialog())}),e.j41(1,"div",2),e.DNE(2,I,5,1,"ng-container",3)(3,$,6,1,"ng-template",null,0,e.C5r),e.k0s()(),e.j41(5,"p-dialog",4),e.mxI("visibleChange",function(b){return e.eBV(l),e.DH7(o.dialogVisible,b)||(o.dialogVisible=b),e.Njj(b)}),e.j41(6,"div",5)(7,"div",6)(8,"span",7)(9,"input",8),e.nI1(10,"translate"),e.mxI("ngModelChange",function(b){return e.eBV(l),e.DH7(o.searchQuery,b)||(o.searchQuery=b),e.Njj(b)}),e.bIt("input",function(){return e.eBV(l),e.Njj(o.filterRegions())}),e.k0s()()(),e.DNE(11,C,11,3,"div",9)(12,f,3,1,"div",10)(13,M,3,1,"div",11)(14,U,2,1,"p-tabView",12),e.k0s(),e.DNE(15,F,11,7,"ng-template",13),e.k0s()}if(2&s){const l=e.sdS(4);e.R7$(2),e.Y8G("ngIf",o.hasSelections())("ngIfElse",l),e.R7$(3),e.Aen(e.lJ4(18,n)),e.Y8G("header",o.title),e.R50("visible",o.dialogVisible),e.Y8G("modal",!0)("breakpoints",e.lJ4(19,i))("draggable",!1)("resizable",!1),e.R7$(4),e.FS9("placeholder",e.bMT(10,16,"SEARCH_COUNTRY")),e.R50("ngModel",o.searchQuery),e.R7$(2),e.Y8G("ngIf",o.hasSelections()),e.R7$(),e.Y8G("ngIf","onlyRegions"===o.displayMode||!o.displayMode),e.R7$(),e.Y8G("ngIf","onlyCountries"===o.displayMode),e.R7$(),e.Y8G("ngIf","default"===o.displayMode)}},dependencies:[y.MD,y.YU,y.Sq,y.bT,L.P,L.l,A.Ei,v.E,c.D9,g.YN,g.me,g.BC,g.vS,h.u,h.S,_.h6,j.P,j.v,T.fd,T.JQ,T.Kp],styles:['.economic-block-selector[_ngcontent-%COMP%]{width:100%}.economic-block-dialog[_ngcontent-%COMP%]{min-height:200px}.countries-container[_ngcontent-%COMP%]{margin-top:1rem}.countries-grid[_ngcontent-%COMP%]{overflow:auto;max-height:40vh}.country-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:10px;border:1px solid #f2f8ff;border-radius:7px}.rtl-country-item[_ngcontent-%COMP%]{direction:rtl}.country-checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.country-checkbox-container[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:8px;flex-shrink:0}.country-checkbox-container[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:0;cursor:pointer}.rtl-checkbox-container[_ngcontent-%COMP%]{flex-direction:row-reverse;text-align:right}.rtl-checkbox-container[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:0;margin-left:8px}.rtl-checkbox-container[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{justify-content:flex-end}.country-box[_ngcontent-%COMP%]{padding:5px;display:flex;align-items:center}.country-flag[_ngcontent-%COMP%]{width:28px;height:28px;object-fit:cover;border-radius:50%}.country-name[_ngcontent-%COMP%]{font-size:.9rem}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}.region-dialog[_ngcontent-%COMP%]   .select-all-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.region-dialog[_ngcontent-%COMP%]   .select-all-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px}.region-dialog[_ngcontent-%COMP%]   .select-all-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.region-dialog[_ngcontent-%COMP%]   .countries-container[_ngcontent-%COMP%]{padding-left:20px;max-height:40vh;overflow:auto}.region-dialog[_ngcontent-%COMP%]   .countries-container[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px;justify-content:flex-start}.region-dialog[_ngcontent-%COMP%]   .countries-container[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px}.region-dialog[_ngcontent-%COMP%]   .countries-container[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.region-selector[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #e4e6ef;border-radius:.475rem;padding:.75rem 1rem;width:100%;transition:border-color .15s ease;background-color:#fff}.region-selector[_ngcontent-%COMP%]:hover{border-color:#b5b5c3}.chips-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}[_nghost-%COMP%]     .select-region-dialog .p-dialog-content{padding:1.5rem}[_nghost-%COMP%]     .select-region-dialog .p-tabview .p-tabview-nav{border-width:0 0 1px 0}[_nghost-%COMP%]     .select-region-dialog .p-tabview .p-tabview-nav li{margin-bottom:-1px}[_nghost-%COMP%]     .select-region-dialog .p-tabview .p-tabview-nav li .p-tabview-nav-link{padding:.8rem 1.2rem;font-weight:500}[_nghost-%COMP%]     .p-tabview-panels{max-height:60vh;overflow-y:auto;padding:1.25rem 0}[_nghost-%COMP%]     .p-chip{border-radius:16px;padding:0 12px;background-color:#f5f5f5;margin:3px}[_nghost-%COMP%]     .p-chip .p-chip-text{padding:0 .5rem}[_nghost-%COMP%]     .p-chip .p-chip-remove-icon{margin-left:.25rem}.search-container[_ngcontent-%COMP%]{margin-bottom:1rem}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 10px 10px 36px;border-radius:6px;transition:border-color .2s,box-shadow .2s}.selected-count[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.5rem 0}.region-header[_ngcontent-%COMP%]{padding:8px 12px;background-color:#f8f9fa;border-radius:4px;border-left:3px solid #6366f1}.countries-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.75rem;margin-top:1rem}.countries-grid[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%]{padding:.5rem;border-radius:.475rem;transition:background-color .2s ease}.countries-grid[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%]:hover{background-color:#f5f8facc}.countries-grid[_ngcontent-%COMP%]   .country-item.highlighted[_ngcontent-%COMP%]{background-color:#50cd891a}.countries-grid[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}[dir=rtl][_ngcontent-%COMP%]   .countries-grid[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:flex-start}.countries-grid[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%]   .country-flag[_ngcontent-%COMP%]{width:24px;height:16px;object-fit:cover;border-radius:2px;box-shadow:0 0 0 1px #0000001a}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem;padding-top:1rem}.placeholder-text[_ngcontent-%COMP%]{color:#a1a5b7;display:flex;align-items:center}.regions-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1rem;margin-top:1rem}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]{border:1px solid #e4e6ef;border-radius:.75rem;padding:1rem;cursor:pointer;transition:all .2s ease;background-color:#fff;box-shadow:0 .1rem .7rem #00000008;position:relative;overflow:hidden}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#7239ea08;opacity:0;transition:opacity .2s ease;pointer-events:none;z-index:1}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]:hover{border-color:#397aea;transform:translateY(-2px);box-shadow:0 .3rem 1rem #7239ea26}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]:hover:after{opacity:1}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]:active{transform:translateY(0);transition:transform .1s ease}.regions-cards[_ngcontent-%COMP%]   .region-card.selected[_ngcontent-%COMP%]{border-color:#50cd89;background-color:#50cd890d}.regions-cards[_ngcontent-%COMP%]   .region-card.selected[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background-color:#50cd89;border-top-left-radius:.75rem;border-bottom-left-radius:.75rem}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]   .region-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]   .region-card-content[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-size:1rem;color:#181c32;cursor:pointer}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]   .region-card-content[_ngcontent-%COMP%]   .region-card-icon[_ngcontent-%COMP%]{font-size:1.2rem}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]   .region-card-footer[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px dashed #e4e6ef;margin-top:.5rem}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;margin-top:.25rem;cursor:pointer}.regions-cards[_ngcontent-%COMP%]   .region-card[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#50cd89;border-color:#50cd89}.countries-container[_ngcontent-%COMP%]{margin-top:1rem;max-height:500px;overflow-y:auto;padding-right:.5rem}.countries-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.countries-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f1f1f1;border-radius:10px}.countries-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#c1c1c1;border-radius:10px}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#394eea;border-color:#394eea}@media (max-width: 768px){.regions-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}.countries-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}}']})}return p})()}}]);