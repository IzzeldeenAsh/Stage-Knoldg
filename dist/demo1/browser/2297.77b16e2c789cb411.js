"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[2297],{2297:(D,v,c)=>{c.r(v),c.d(v,{StaffSettingsModule:()=>k});var d=c(177),_=c(2791),s=c(4438),u=c(9998);let w=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275cmp=s.VBU({type:a,selectors:[["app-staff-settings"]],decls:2,vars:0,template:function(o,r){1&o&&s.nrm(0,"p-toast")(1,"router-outlet")},dependencies:[u.y8,_.n3]})}return a})();var b=c(1413),M=c(8810),C=c(6977),y=c(3804),h=c(2609),f=c(9417);function T(a,P){1&a&&(s.j41(0,"div",12)(1,"div",13),s.EFF(2,"Password"),s.k0s(),s.j41(3,"div",14),s.EFF(4,"************"),s.k0s()())}function E(a,P){if(1&a){const n=s.RV6();s.j41(0,"div",15)(1,"form",16),s.bIt("ngSubmit",function(){s.eBV(n);const r=s.XpG();return s.Njj(r.changePassword())}),s.j41(2,"div",17)(3,"div",18)(4,"div",19)(5,"label",20),s.EFF(6,"Current Password"),s.k0s(),s.j41(7,"input",21),s.mxI("ngModelChange",function(r){s.eBV(n);const p=s.XpG();return s.DH7(p.oldPassword,r)||(p.oldPassword=r),s.Njj(r)}),s.k0s()()(),s.j41(8,"div",18)(9,"div",19)(10,"label",22),s.EFF(11,"New Password"),s.k0s(),s.j41(12,"input",23),s.mxI("ngModelChange",function(r){s.eBV(n);const p=s.XpG();return s.DH7(p.newPassword,r)||(p.newPassword=r),s.Njj(r)}),s.k0s()()(),s.j41(13,"div",18)(14,"div",19)(15,"label",24),s.EFF(16,"Confirm New Password"),s.k0s(),s.j41(17,"input",25),s.mxI("ngModelChange",function(r){s.eBV(n);const p=s.XpG();return s.DH7(p.confirmPassword,r)||(p.confirmPassword=r),s.Njj(r)}),s.k0s()()()(),s.j41(18,"div",26),s.EFF(19," Password must be at least 8 characters and contain symbols "),s.k0s(),s.j41(20,"div",27)(21,"button",28),s.EFF(22," Update Password "),s.k0s(),s.j41(23,"button",29),s.bIt("click",function(){s.eBV(n);const r=s.XpG();return s.Njj(r.cancelEdit())}),s.EFF(24," Cancel "),s.k0s()()()()}if(2&a){const n=s.XpG();s.R7$(7),s.R50("ngModel",n.oldPassword),s.R7$(5),s.R50("ngModel",n.newPassword),s.R7$(5),s.R50("ngModel",n.confirmPassword)}}function I(a,P){if(1&a){const n=s.RV6();s.j41(0,"div",30)(1,"button",31),s.bIt("click",function(){s.eBV(n);const r=s.XpG();return s.Njj(r.editPassword())}),s.EFF(2," Change Password "),s.k0s()()}}const x=[{path:"",component:w,children:[{path:"",redirectTo:"resetpassword",pathMatch:"full"},{path:"resetpassword",component:(()=>{class a{_changepassword;constructor(n){this._changepassword=n}unsub$=new b.B;_oldPassword=(0,s.vPA)("");_newPassword=(0,s.vPA)("");_confirmPassword=(0,s.vPA)("");get oldPassword(){return this._oldPassword()}set oldPassword(n){this._oldPassword.set(n)}get newPassword(){return this._newPassword()}set newPassword(n){this._newPassword.set(n)}get confirmPassword(){return this._confirmPassword()}set confirmPassword(n){this._confirmPassword.set(n)}_messages=(0,s.vPA)([]);get messages(){return this._messages()}set messages(n){this._messages.set(n)}isEditing=(0,s.vPA)(!1);handleServerErrors(n){if(this._messages.set([]),n.error&&n.error.errors){const o=n.error.errors;for(const r in o)if(o.hasOwnProperty(r)){const p=o[r];this._messages.update(S=>[...S,{severity:"error",summary:"",detail:p.join(", ")}])}}else this._messages.update(o=>[...o,{severity:"error",summary:"Error",detail:"An unexpected error occurred."}]);return(0,M.$)(n)}changePassword(){const n={old_password:this._oldPassword(),new_password:this._newPassword(),password_confirmation:this._confirmPassword()};this.isEditing.set(!0),this._changepassword.changePassword(n).pipe((0,C.Q)(this.unsub$)).subscribe({next:()=>{this._messages.set([{severity:"success",summary:"Success",detail:"Password changed successfully."}]),this.isEditing.set(!1),this.clearForm()},error:o=>{this.handleServerErrors(o),this.isEditing.set(!1),this.clearForm()}})}clearForm(){this._oldPassword.set(""),this._newPassword.set(""),this._confirmPassword.set("")}editPassword(){this.isEditing.set(!0)}cancelEdit(){this.isEditing.set(!1),this.clearForm()}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}static \u0275fac=function(o){return new(o||a)(s.rXU(y.F))};static \u0275cmp=s.VBU({type:a,selectors:[["app-change-password"]],decls:13,vars:4,consts:[[1,"container","mt-10","px-10"],[1,"card","mb-5","mb-xl-10"],["role","button",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bold","m-0"],["id","kt_account_settings_signin_method",1,"show"],[1,"card-body","border-top","p-9"],[1,"d-flex","flex-wrap","align-items-center","mb-10"],["id","kt_signin_password",4,"ngIf"],["id","kt_signin_password_edit","class","flex-row-fluid",4,"ngIf"],["id","kt_signin_password_button","class","ms-auto ",4,"ngIf"],[3,"value"],["id","kt_signin_password"],[1,"fs-6","fw-bold","mb-1"],[1,"fw-semibold","text-gray-600"],["id","kt_signin_password_edit",1,"flex-row-fluid"],[3,"ngSubmit"],[1,"row","mb-1"],[1,"col-lg-4"],[1,"fv-row","mb-0"],["for","currentpassword",1,"form-label","fs-6","fw-bold","mb-3"],["type","password","pInputText","","id","currentpassword","name","currentpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","ngModel"],["for","newpassword",1,"form-label","fs-6","fw-bold","mb-3"],["type","password","pInputText","","id","newpassword","name","newpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","ngModel"],["for","confirmpassword",1,"form-label","fs-6","fw-bold","mb-3"],["type","password","pInputText","","id","confirmpassword","name","confirmpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","ngModel"],[1,"form-text","mb-5"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","me-2","px-6"],["type","button",1,"btn","btn-color-gray-500","btn-active-light-primary","px-6",3,"click"],["id","kt_signin_password_button",1,"ms-auto"],[1,"btn","btn-light","btn-sm","btn-active-light-primary",3,"click"]],template:function(o,r){1&o&&(s.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),s.EFF(5,"Change Password"),s.k0s()()(),s.j41(6,"div",5)(7,"div",6)(8,"div",7),s.DNE(9,T,5,0,"div",8)(10,E,25,3,"div",9)(11,I,3,0,"div",10),s.k0s(),s.nrm(12,"p-messages",11),s.k0s()()()()),2&o&&(s.R7$(9),s.Y8G("ngIf",!r.isEditing()),s.R7$(),s.Y8G("ngIf",r.isEditing()),s.R7$(),s.Y8G("ngIf",!r.isEditing()),s.R7$(),s.Y8G("value",r.messages))},dependencies:[d.bT,h.B,f.qT,f.me,f.BC,f.cb,f.YS,f.vS,f.cV]})}return a})()}]}];let G=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=s.$C({type:a});static \u0275inj=s.G2t({imports:[_.iI.forChild(x),_.iI]})}return a})(),k=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=s.$C({type:a});static \u0275inj=s.G2t({imports:[d.MD,h.h,f.YN,u.MB,G]})}return a})()},2609:(D,v,c)=>{c.d(v,{B:()=>A,h:()=>L});var d=c(9969),_=c(177),s=c(4438),u=c(5779),w=c(3306),b=c(9329),M=c(1962),C=c(1512),y=c(2816),h=c(563),f=c(1584);const T=(t,l)=>({showTransitionParams:t,hideTransitionParams:l}),E=t=>({value:"visible",params:t});function I(t,l){if(1&t&&s.nrm(0,"span"),2&t){const e=s.XpG().$implicit;s.HbH("p-message-icon pi "+e.icon),s.BMQ("data-pc-section","icon")}}function R(t,l){1&t&&s.nrm(0,"CheckIcon"),2&t&&s.BMQ("data-pc-section","icon")}function x(t,l){1&t&&s.nrm(0,"InfoCircleIcon"),2&t&&s.BMQ("data-pc-section","icon")}function G(t,l){1&t&&s.nrm(0,"TimesCircleIcon"),2&t&&s.BMQ("data-pc-section","icon")}function k(t,l){1&t&&s.nrm(0,"ExclamationTriangleIcon"),2&t&&s.BMQ("data-pc-section","icon")}function a(t,l){if(1&t&&(s.j41(0,"span",10),s.qex(1),s.DNE(2,R,1,1,"CheckIcon",11)(3,x,1,1,"InfoCircleIcon",11)(4,G,1,1,"TimesCircleIcon",11)(5,k,1,1,"ExclamationTriangleIcon",11),s.bVm(),s.k0s()),2&t){const e=s.XpG().$implicit;s.R7$(2),s.Y8G("ngIf","success"===e.severity),s.R7$(),s.Y8G("ngIf","info"===e.severity),s.R7$(),s.Y8G("ngIf","error"===e.severity),s.R7$(),s.Y8G("ngIf","warn"===e.severity)}}function P(t,l){if(1&t&&s.nrm(0,"span",14),2&t){const e=s.XpG(2).$implicit;s.Y8G("innerHTML",e.summary,s.npT),s.BMQ("data-pc-section","summary")}}function n(t,l){if(1&t&&s.nrm(0,"span",15),2&t){const e=s.XpG(2).$implicit;s.Y8G("innerHTML",e.detail,s.npT),s.BMQ("data-pc-section","detail")}}function o(t,l){if(1&t&&(s.qex(0),s.DNE(1,P,1,2,"span",12)(2,n,1,2,"span",13),s.bVm()),2&t){const e=s.XpG().$implicit;s.R7$(),s.Y8G("ngIf",e.summary),s.R7$(),s.Y8G("ngIf",e.detail)}}function r(t,l){if(1&t&&(s.j41(0,"span",18),s.EFF(1),s.k0s()),2&t){const e=s.XpG(2).$implicit;s.BMQ("data-pc-section","summary"),s.R7$(),s.JRh(e.summary)}}function p(t,l){if(1&t&&(s.j41(0,"span",19),s.EFF(1),s.k0s()),2&t){const e=s.XpG(2).$implicit;s.BMQ("data-pc-section","detail"),s.R7$(),s.JRh(e.detail)}}function S(t,l){if(1&t&&s.DNE(0,r,2,2,"span",16)(1,p,2,2,"span",17),2&t){const e=s.XpG().$implicit;s.Y8G("ngIf",e.summary),s.R7$(),s.Y8G("ngIf",e.detail)}}function F(t,l){if(1&t){const e=s.RV6();s.j41(0,"button",20),s.bIt("click",function(){s.eBV(e);const m=s.XpG().index,g=s.XpG(2);return s.Njj(g.removeMessage(m))}),s.nrm(1,"TimesIcon",21),s.k0s()}if(2&t){const e=s.XpG(3);s.BMQ("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),s.R7$(),s.Y8G("styleClass","p-message-close-icon"),s.BMQ("data-pc-section","closeicon")}}function B(t,l){if(1&t&&(s.j41(0,"div",5)(1,"div",6),s.DNE(2,I,1,3,"span",7)(3,a,6,4,"span",8)(4,o,3,2,"ng-container",3)(5,S,2,2,"ng-template",null,1,s.C5r)(7,F,2,4,"button",9),s.k0s()()),2&t){let e;const i=l.$implicit,m=s.sdS(6),g=s.XpG(2);s.HbH("p-message p-message-"+i.severity),s.Y8G("@messageAnimation",s.eq3(13,E,s.l_i(10,T,g.showTransitionOptions,g.hideTransitionOptions))),s.R7$(),s.BMQ("data-pc-section","wrapper")("id",i.id||null),s.R7$(),s.Y8G("ngIf",i.icon),s.R7$(),s.Y8G("ngIf",!i.icon),s.R7$(),s.Y8G("ngIf",!g.escape)("ngIfElse",m),s.R7$(3),s.Y8G("ngIf",g.closable&&(null===(e=i.closable)||void 0===e||e))}}function O(t,l){if(1&t&&(s.qex(0),s.DNE(1,B,8,15,"div",4),s.bVm()),2&t){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",e.messages)}}function $(t,l){1&t&&s.eu8(0)}function Y(t,l){if(1&t&&(s.j41(0,"div",22)(1,"div",6),s.DNE(2,$,1,0,"ng-container",23),s.k0s()()),2&t){const e=s.XpG();s.Y8G("ngClass","p-message p-message-"+e.severity),s.R7$(2),s.Y8G("ngTemplateOutlet",e.contentTemplate)}}let A=(()=>{class t{messageService;el;cd;config;set value(e){this.messages=e,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new s.bkB;onClose=new s.bkB;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(e,i,m,g){this.messageService=e,this.el=i,this.cd=m,this.config=g}ngAfterContentInit(){this.templates?.forEach(e=>{e.getType(),this.contentTemplate=e.template}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){Array.isArray(e)||(e=[e]);const i=e.filter(m=>this.key===m.key);this.messages=this.messages?[...this.messages,...i]:[...i],this.startMessageLifes(i),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return!(!e||!e.offsetParent)&&(null!=this.contentTemplate||this.messages&&this.messages.length>0)}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){const i=this.messages[e];this.messages=this.messages?.filter((m,g)=>g!==e),i&&this.onClose.emit(i),this.valueChange.emit(this.messages)}get icon(){const e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":default:return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(i=>i.life&&this.startMessageLife(i))}startMessageLife(e){const i=(0,f.O)(e.life).subscribe(()=>{this.messages=this.messages?.filter(m=>m!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(m=>m!==i),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(i)}static \u0275fac=function(i){return new(i||t)(s.rXU(u.bg,8),s.rXU(s.aKT),s.rXU(s.gRc),s.rXU(u.r1))};static \u0275cmp=s.VBU({type:t,selectors:[["p-messages"]],contentQueries:function(i,m,g){if(1&i&&s.wni(g,u.Ei,4),2&i){let j;s.mGM(j=s.lsd())&&(m.templates=j)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[s.Mj6.HasDecoratorInputTransform,"closable","closable",s.L39],style:"style",styleClass:"styleClass",enableService:[s.Mj6.HasDecoratorInputTransform,"enableService","enableService",s.L39],key:"key",escape:[s.Mj6.HasDecoratorInputTransform,"escape","escape",s.L39],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[s.GFd],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(i,m){if(1&i&&(s.j41(0,"div",2),s.DNE(1,O,2,1,"ng-container",3)(2,Y,3,2,"ng-template",null,0,s.C5r),s.k0s()),2&i){const g=s.sdS(3);s.HbH(m.styleClass),s.Y8G("ngStyle",m.style),s.BMQ("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),s.R7$(),s.Y8G("ngIf",!m.contentTemplate)("ngIfElse",g)}},dependencies:()=>[_.YU,_.Sq,_.bT,_.T3,_.B3,h.n,w.S,M.e,y.I,b.P,C.A],styles:["@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}\n"],encapsulation:2,data:{animation:[(0,d.hZ)("messageAnimation",[(0,d.kY)(":enter",[(0,d.iF)({opacity:0,transform:"translateY(-25%)"}),(0,d.i0)("{{showTransitionParams}}")]),(0,d.kY)(":leave",[(0,d.i0)("{{hideTransitionParams}}",(0,d.iF)({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return t})(),L=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=s.$C({type:t});static \u0275inj=s.G2t({imports:[_.MD,h.Z,w.S,M.e,y.I,b.P,C.A,u.Gg,u.Gg]})}return t})()}}]);