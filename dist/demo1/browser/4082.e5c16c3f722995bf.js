"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[4082],{4082:(L,M,l)=>{l.r(M),l.d(M,{MyDashboardModule:()=>yt});var a=l(177),f=l(2791),u=l(5098),t=l(4438),_=l(7112),y=l(1413),C=l(6977),k=l(7947),p=l(1400),m=l(3955);const g=()=>["/app/insighter-dashboard/my-meetings/sent"],h=()=>["/app/insighter-register/vertical"];function d(n,r){if(1&n&&(t.j41(0,"span",37),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.JRh(t.bMT(2,1,e))}}function E(n,r){1&n&&(t.qSk(),t.j41(0,"svg",48),t.nrm(1,"path",49)(2,"path",50)(3,"path",51)(4,"path",52),t.k0s())}function x(n,r){1&n&&(t.qSk(),t.j41(0,"svg",53),t.nrm(1,"path",54),t.k0s())}function N(n,r){1&n&&(t.qSk(),t.j41(0,"svg",55),t.nrm(1,"path",56)(2,"path",57)(3,"path",58)(4,"path",59),t.k0s())}function A(n,r){1&n&&(t.qSk(),t.j41(0,"svg",55),t.nrm(1,"path",60)(2,"path",61)(3,"path",62)(4,"path",63),t.k0s())}function j(n,r){1&n&&(t.qSk(),t.j41(0,"svg",64),t.nrm(1,"path",65)(2,"path",66),t.k0s())}function $(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",38)(1,"div",39),t.bIt("click",function(){const s=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.redirectToKnowledge(s.type))}),t.j41(2,"div",40),t.DNE(3,E,5,0,"svg",41)(4,x,2,0,"svg",42)(5,N,5,0,"svg",43)(6,A,5,0,"svg",43)(7,j,3,0,"svg",44),t.k0s(),t.j41(8,"div",45)(9,"span",46),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"span",47),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()}if(2&n){const e=r.$implicit;t.R7$(3),t.Y8G("ngIf","data"===e.type),t.R7$(),t.Y8G("ngIf","insight"===e.type),t.R7$(),t.Y8G("ngIf","report"===e.type),t.R7$(),t.Y8G("ngIf","manual"===e.type),t.R7$(),t.Y8G("ngIf","course"===e.type),t.R7$(3),t.JRh(t.bMT(11,7,e.translationKey)),t.R7$(3),t.JRh(t.bMT(14,9,e.descriptionKey))}}let G=(()=>{class n extends u.${sentMeetingsService;walletService;translateService;todayMeetingsCount=0;sentMeetings=[];expertsCount=1250;topIndustries=["TOP_INDUSTRIES.TECHNOLOGY","TOP_INDUSTRIES.HEALTHCARE","TOP_INDUSTRIES.FINANCE","TOP_INDUSTRIES.EDUCATION","TOP_INDUSTRIES.MARKETING"];knowledgeLinks=[{type:"data",translationKey:"KNOWLEDGE.DATA",descriptionKey:"KNOWLEDGE.DATA_DESCRIPTION"},{type:"insight",translationKey:"KNOWLEDGE.INSIGHT",descriptionKey:"KNOWLEDGE.INSIGHT_DESCRIPTION"},{type:"manual",translationKey:"KNOWLEDGE.MANUAL",descriptionKey:"KNOWLEDGE.MANUAL_DESCRIPTION"},{type:"course",translationKey:"KNOWLEDGE.COURSE",descriptionKey:"KNOWLEDGE.COURSE_DESCRIPTION"},{type:"report",translationKey:"KNOWLEDGE.REPORT",descriptionKey:"KNOWLEDGE.REPORT_DESCRIPTION"}];walletBalance=0;isLoadingBalance=!0;destroy$=new y.B;knowledgeTranslations={en:{KNOWLEDGE:{TITLE:"Latest Knowledge",DATA:"Data Library",DATA_DESCRIPTION:"Explore recently added datasets and figures.",INSIGHT:"Insights",INSIGHT_DESCRIPTION:"Review the newest analyst insights and findings.",MANUAL:"Manuals",MANUAL_DESCRIPTION:"Quick guides to help you apply best practices.",COURSE:"Courses",COURSE_DESCRIPTION:"Learning paths curated for your growth.",REPORT:"Reports",REPORT_DESCRIPTION:"Download the latest research and reports."}},ar:{KNOWLEDGE:{TITLE:"\u0623\u062d\u062f\u062b \u0645\u0635\u0627\u062f\u0631 \u0627\u0644\u0645\u0639\u0631\u0641\u0629",DATA:"\u0645\u0643\u062a\u0628\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",DATA_DESCRIPTION:"\u0627\u0633\u062a\u0643\u0634\u0641 \u0623\u062d\u062f\u062b \u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u0627\u0644\u0623\u0631\u0642\u0627\u0645.",INSIGHT:"\u0631\u0624\u0649 \u062a\u062d\u0644\u064a\u0644\u064a\u0629",INSIGHT_DESCRIPTION:"\u0627\u0637\u0644\u0639 \u0639\u0644\u0649 \u0623\u062d\u062f\u062b \u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0648\u0627\u0644\u0627\u0633\u062a\u0646\u062a\u0627\u062c\u0627\u062a.",MANUAL:"\u0623\u062f\u0644\u0629 \u0625\u0631\u0634\u0627\u062f\u064a\u0629",MANUAL_DESCRIPTION:"\u0623\u062f\u0644\u0629 \u0633\u0631\u064a\u0639\u0629 \u0644\u062a\u0637\u0628\u064a\u0642 \u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0645\u0627\u0631\u0633\u0627\u062a.",COURSE:"\u062f\u0648\u0631\u0627\u062a \u062a\u062f\u0631\u064a\u0628\u064a\u0629",COURSE_DESCRIPTION:"\u0645\u0633\u0627\u0631\u0627\u062a \u062a\u0639\u0644\u064a\u0645\u064a\u0629 \u0645\u062e\u062a\u0627\u0631\u0629 \u0644\u062a\u0637\u0648\u064a\u0631\u0643.",REPORT:"\u062a\u0642\u0627\u0631\u064a\u0631",REPORT_DESCRIPTION:"\u0642\u0645 \u0628\u062a\u0646\u0632\u064a\u0644 \u0623\u062d\u062f\u062b \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0648\u0627\u0644\u062f\u0631\u0627\u0633\u0627\u062a."}}};constructor(e,i,s,o){super(e),this.sentMeetingsService=i,this.walletService=s,this.translateService=o}ngOnInit(){this.registerKnowledgeTranslations(),this.loadTodayMeetings(),this.loadWalletBalance()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadTodayMeetings(){this.sentMeetingsService.getSentMeetings(1,30).pipe((0,C.Q)(this.destroy$)).subscribe({next:e=>{this.sentMeetings=e.data;const i=(new Date).toISOString().split("T")[0];this.todayMeetingsCount=this.sentMeetings.filter(s=>s.date===i).length},error:e=>{console.error("Error loading sent meetings:",e),this.todayMeetingsCount=0}})}redirectToExperts(){window.open(`https://knoldg.com/${this.lang}/home?search_type=insighter&accuracy=any`,"_blank")}redirectToKnowledge(e){window.open(`https://knoldg.com/${this.lang}/home?search_type=knowledge&type=${e}`,"_blank")}loadWalletBalance(){this.walletService.getBalance().pipe((0,C.Q)(this.destroy$)).subscribe({next:e=>{this.walletBalance=e,this.isLoadingBalance=!1},error:e=>{console.error("Error loading wallet balance:",e),this.walletBalance=0,this.isLoadingBalance=!1}})}registerKnowledgeTranslations(){Object.entries(this.knowledgeTranslations).forEach(([e,i])=>{this.translateService.setTranslation(e,i,!0)})}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(k.q),t.rXU(p.F),t.rXU(m.c$))};static \u0275cmp=t.VBU({type:n,selectors:[["app-client-my-dashboard"]],features:[t.Vt3],decls:62,vars:34,consts:[[1,"row","pb-10"],[1,"col-12","col-md-6"],[1,"cursor-pointer","card","h-100","mb-5","mb-xl-10","light-meetning-gradient-bg",3,"routerLink"],[1,"card-body","d-flex","justify-content-between","align-items-start","flex-column"],[1,"m-0"],[1,"ki-outline","ki-calendar-tick","text-gray-700","fs-2tx"],[1,"d-flex","flex-column","my-7"],[1,"fw-semibold","fs-3x","lh-1","ls-n2"],[1,"fw-semibold","fs-6","text-gray-500"],[1,"cursor-pointer","card","h-100","card-flush","mb-5","mb-xl-10",2,"background-image","linear-gradient(to bottom right, #fff, #ecf4fd)",3,"click"],[1,"card-header","pt-5"],[1,"card-title","d-flex","flex-column"],[1,"fs-2","fw-bold","text-gray-900","me-2"],[1,"text-gray-500","pt-1","fw-semibold","fs-6"],[1,"card-body","d-flex","flex-column","justify-content-end","pe-0"],[1,"fs-6","fw-bolder","text-gray-800","d-block","mb-2"],[1,"d-flex","flex-wrap","gap-2"],["class","badge badge-light-info fs-8 fw-semibold px-3 py-2",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"text-gray-500","fs-7","fw-semibold","me-2"],[1,"ki-outline","ki-arrow-right","text-info","fs-5"],[1,"row"],[1,"card","card-flush","h-100",2,"background-image","linear-gradient(to bottom right, #fff, #ecfdfa)"],[1,"px-5","pt-4","pb-2"],[1,"card-body","pt-4","pb-3"],[1,"knowledge-links-list"],["class","knowledge-links-list__item",4,"ngFor","ngForOf"],[1,"card","card-flush","h-md-100",2,"background-image","url('./assets/media/auth/bg-dark-line-blue.jpg')","background-size","cover","background-position","center"],[1,"card-body","d-flex","flex-column","justify-content-between","mt-9","bgi-no-repeat","bgi-size-cover","bgi-position-x-center","pb-0",2,"background-position","100% 50%","background-image","url('/metronic8/demo6/assets/media/stock/900x600/42.png')"],[1,"mb-10"],[1,"fs-2hx","fw-bold","text-gray-100","text-center"],[1,"me-2"],[1,"text-center","text-gray-300","fw-semibold","fs-2","px-8"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#kt_modal_create_campaign",1,"btn","btn-info","fw-semibold","px-6","py-3",3,"routerLink"],["src","/metronic8/demo6/assets/media/illustrations/misc/upgrade.svg","alt","",1,"mx-auto","h-150px","h-lg-200px","theme-light-show"],["src","/metronic8/demo6/assets/media/illustrations/misc/upgrade-dark.svg","alt","",1,"mx-auto","h-150px","h-lg-200px","theme-dark-show"],[1,"badge","badge-light-info","fs-8","fw-semibold","px-3","py-2"],[1,"knowledge-links-list__item"],[1,"knowledge-link-item","cursor-pointer","rounded","border","border-gray-200","hover-border-primary","transition-all",3,"click"],[1,"knowledge-link-icon","flex-shrink-0"],["viewBox","0 0 30 34","fill","none","xmlns","http://www.w3.org/2000/svg","class","knowledge-link-icon__svg",4,"ngIf"],["viewBox","0 0 42 42","fill","none","xmlns","http://www.w3.org/2000/svg","class","knowledge-link-icon__svg",4,"ngIf"],["viewBox","0 0 50 50","fill","none","xmlns","http://www.w3.org/2000/svg","class","knowledge-link-icon__svg",4,"ngIf"],["viewBox","0 0 39 36","fill","none","xmlns","http://www.w3.org/2000/svg","class","knowledge-link-icon__svg",4,"ngIf"],[1,"knowledge-link-content"],[1,"knowledge-link-label","text-gray-800","fw-semibold","fs-7"],[1,"knowledge-link-description","text-gray-500","fw-normal"],["viewBox","0 0 30 34","fill","none","xmlns","http://www.w3.org/2000/svg",1,"knowledge-link-icon__svg"],["d","M14.5464 0C10.5851 0 6.86364 0.704566 4.06815 1.98373C1.48292 3.16777 0 4.73376 0 6.28348C0 7.8332 1.48292 9.39967 4.06815 10.5831C6.86364 11.8623 10.585 12.5669 14.5464 12.5669C18.5078 12.5669 22.2297 11.8623 25.0243 10.5831C27.6099 9.39967 29.0933 7.8333 29.0933 6.28348C29.0933 4.73367 27.6099 3.16777 25.0243 1.98373C22.2293 0.704566 18.5077 0 14.5464 0Z","fill","#000000"],["d","M0 9.45442C0.821516 10.3442 1.99713 11.1499 3.49489 11.8359C6.46628 13.1954 10.3914 13.9444 14.5469 13.9444C18.7023 13.9444 22.627 13.1949 25.5984 11.8359C27.0961 11.1499 28.2718 10.3445 29.0933 9.45442V13.4496C29.0933 15.004 27.6131 16.5723 25.0331 17.7531C22.2436 19.029 18.5194 19.7326 14.5464 19.7326C10.5734 19.7326 6.84871 19.029 4.05982 17.7531C1.47967 16.5723 0 15.004 0 13.4496V9.45442Z","fill","#000000"],["d","M29.0933 16.6207C26.6302 19.2908 21.1116 21.1102 14.5464 21.1102C7.98116 21.1102 2.46273 19.2908 0 16.6207V20.1383C0 21.6918 1.47967 23.261 4.05982 24.4417C6.84871 25.7181 10.5734 26.4217 14.5464 26.4217C18.5194 26.4217 22.2436 25.7181 25.0336 24.4417C27.6136 23.261 29.0933 21.6918 29.0933 20.1383V16.6207Z","fill","#000000"],["d","M4.05982 31.608C1.47967 30.4272 0 28.858 0 27.3041V23.3093C2.46273 25.9799 7.98116 27.7994 14.5464 27.7994C21.1116 27.7994 26.6302 25.9799 29.0933 23.3093V27.3041C29.0933 28.858 27.6131 30.4272 25.0331 31.608C22.2436 32.8844 18.5194 33.5875 14.5464 33.5875C10.5734 33.5875 6.84871 32.8844 4.05982 31.608Z","fill","#000000"],["viewBox","0 0 42 42","fill","none","xmlns","http://www.w3.org/2000/svg",1,"knowledge-link-icon__svg"],["d","M29.5625 0C37.1458 0 41.6663 4.52116 41.6455 12.1045V29.5625C41.6455 37.1457 37.1251 41.6669 29.542 41.667H12.1045C4.52127 41.667 0.00012927 37.146 0 29.542V12.1045C0 4.52116 4.52116 0 12.1045 0H29.5625ZM11.9346 21.46C10.7753 21.4601 9.83305 22.4022 9.83301 23.5615V29.4678C9.83321 30.6269 10.7754 31.5682 11.9346 31.5684C13.112 31.5684 14.0545 30.627 14.0547 29.4678V23.5615C14.0546 22.4021 13.1121 21.46 11.9346 21.46ZM19.96 12.1846C18.7825 12.1847 17.8409 13.1268 17.8408 14.2861V29.4678C17.841 30.6269 18.7827 31.5682 19.96 31.5684C21.1192 31.5684 22.0613 30.627 22.0615 29.4678V14.2861C22.0615 13.1267 21.1194 12.1846 19.96 12.1846ZM27.6689 8.83301C26.4561 8.83301 25.4854 9.93196 25.4854 11.2842V28.9912C25.4855 30.3434 26.4561 31.4424 27.6689 31.4424C28.863 31.4423 29.8329 30.3433 29.833 28.9912V11.2842C29.8329 9.93204 28.8631 8.83313 27.6689 8.83301Z","fill","#891638"],["viewBox","0 0 50 50","fill","none","xmlns","http://www.w3.org/2000/svg",1,"knowledge-link-icon__svg"],["opacity","0.4","d","M45.125 21.75L43.0833 30.4583C41.3333 37.9792 37.875 41.0208 31.375 40.3958C30.3333 40.3125 29.2083 40.125 28 39.8333L24.5 39C15.8125 36.9375 13.125 32.6458 15.1667 23.9375L17.2083 15.2083C17.625 13.4375 18.125 11.8958 18.75 10.625C21.1875 5.58333 25.3333 4.22916 32.2917 5.875L35.7708 6.6875C44.5 8.72916 47.1667 13.0417 45.125 21.75Z","fill","#699DDE"],["d","M31.375 40.3958C30.0833 41.2708 28.4583 42 26.4792 42.6458L23.1875 43.7292C14.9167 46.3958 10.5625 44.1667 7.87499 35.8958L5.20833 27.6667C2.54166 19.3958 4.74999 15.0208 13.0208 12.3542L16.3125 11.2708C17.1667 11 17.9792 10.7708 18.75 10.625C18.125 11.8958 17.625 13.4375 17.2083 15.2083L15.1667 23.9375C13.125 32.6458 15.8125 36.9375 24.5 39L28 39.8333C29.2083 40.125 30.3333 40.3125 31.375 40.3958Z","fill","#3699FF"],["d","M36.4375 21.8959C36.3125 21.8959 36.1875 21.875 36.0417 21.8542L25.9375 19.2917C25.1042 19.0834 24.6042 18.2292 24.8125 17.3959C25.0208 16.5625 25.875 16.0625 26.7083 16.2709L36.8125 18.8334C37.6458 19.0417 38.1458 19.8959 37.9375 20.7292C37.7708 21.4167 37.125 21.8959 36.4375 21.8959Z","fill","white"],["d","M30.3333 28.9375C30.2083 28.9375 30.0833 28.9167 29.9375 28.8959L23.875 27.3542C23.0417 27.1459 22.5417 26.2917 22.75 25.4584C22.9583 24.625 23.8125 24.125 24.6458 24.3334L30.7083 25.875C31.5417 26.0834 32.0417 26.9375 31.8333 27.7709C31.6667 28.4792 31.0417 28.9375 30.3333 28.9375Z","fill","white"],["d","M42.7083 14.5834V31.25H13.2292C9.95834 31.25 7.29167 33.9167 7.29167 37.1875V14.5834C7.29167 6.25002 9.37501 4.16669 17.7083 4.16669H32.2917C40.625 4.16669 42.7083 6.25002 42.7083 14.5834Z","fill","#FF9F43"],["d","M42.7083 31.25V38.5417C42.7083 42.5625 39.4375 45.8333 35.4167 45.8333H14.5833C10.5625 45.8333 7.29167 42.5625 7.29167 38.5417V37.1875C7.29167 33.9167 9.95834 31.25 13.2292 31.25H42.7083Z","fill","#f8cda3"],["d","M33.3333 16.1458H16.6667C15.8125 16.1458 15.1042 15.4375 15.1042 14.5833C15.1042 13.7291 15.8125 13.0208 16.6667 13.0208H33.3333C34.1875 13.0208 34.8958 13.7291 34.8958 14.5833C34.8958 15.4375 34.1875 16.1458 33.3333 16.1458Z","fill","white"],["d","M27.0833 23.4375H16.6667C15.8125 23.4375 15.1042 22.7292 15.1042 21.875C15.1042 21.0208 15.8125 20.3125 16.6667 20.3125H27.0833C27.9375 20.3125 28.6458 21.0208 28.6458 21.875C28.6458 22.7292 27.9375 23.4375 27.0833 23.4375Z","fill","white"],["viewBox","0 0 39 36","fill","none","xmlns","http://www.w3.org/2000/svg",1,"knowledge-link-icon__svg"],["d","M31.9898 26.8163C31.9898 24.1788 29.8518 22.0408 27.2143 22.0408C24.5767 22.0408 22.4388 24.1788 22.4388 26.8163C22.4388 28.1696 23.0037 29.3885 23.9081 30.2576V36L27.2143 33.7959L30.5204 36V30.2576C31.4248 29.3885 31.9898 28.1696 31.9898 26.8163Z","fill","#C3D8F2"],["d","M37.1327 0H1.86734C1.05624 0 0.397949 0.657551 0.397949 1.46939V30.8572C0.397949 31.6683 1.05624 32.3265 1.86734 32.3265H20.9694V31.3443C20.0143 30.0372 19.5 28.4694 19.5 26.8163C19.5 22.5625 22.9604 19.102 27.2143 19.102C31.4682 19.102 34.9286 22.5625 34.9286 26.8163C34.9286 28.4701 34.4143 30.038 33.4592 31.345V32.3265H37.1327C37.9438 32.3265 38.6021 31.6683 38.6021 30.8572V1.46939C38.6021 0.657551 37.9438 0 37.1327 0ZM20.9694 13.2245H8.47959V10.2857H20.9694V13.2245ZM30.5204 7.34694H8.47959V4.40816H30.5204V7.34694Z","fill","#0ABB87"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div",6)(7,"span",7),t.EFF(8),t.k0s(),t.j41(9,"div",4)(10,"span",8),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()()()(),t.j41(13,"div",1)(14,"div",9),t.bIt("click",function(){return s.redirectToExperts()}),t.j41(15,"div",10)(16,"div",11)(17,"span",12),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.j41(20,"span",13),t.EFF(21),t.nI1(22,"translate"),t.k0s()()(),t.j41(23,"div",14)(24,"span",15),t.EFF(25),t.nI1(26,"translate"),t.k0s(),t.j41(27,"div",16),t.DNE(28,d,3,3,"span",17),t.j41(29,"div",18)(30,"span",19),t.EFF(31),t.nI1(32,"translate"),t.k0s(),t.nrm(33,"i",20),t.k0s()()()()()(),t.j41(34,"div",21)(35,"div",1)(36,"div",22)(37,"div",23)(38,"div",12),t.EFF(39),t.nI1(40,"translate"),t.k0s()(),t.j41(41,"div",24)(42,"div",25),t.DNE(43,$,15,11,"div",26),t.k0s()()()(),t.j41(44,"div",1)(45,"div",27)(46,"div",28)(47,"div",29)(48,"div",30)(49,"span",31),t.EFF(50),t.nI1(51,"translate"),t.j41(52,"p",32),t.EFF(53),t.nI1(54,"translate"),t.k0s(),t.nrm(55,"br"),t.k0s()(),t.j41(56,"div",33)(57,"a",34),t.EFF(58),t.nI1(59,"translate"),t.k0s()()(),t.nrm(60,"img",35)(61,"img",36),t.k0s()()()()),2&i&&(t.R7$(2),t.Y8G("routerLink",t.lJ4(32,g)),t.R7$(6),t.JRh(s.todayMeetingsCount),t.R7$(3),t.JRh(t.bMT(12,14,"TODAY_MEETINGS")),t.R7$(7),t.JRh(t.bMT(19,16,"TOP_EXPERTS")),t.R7$(3),t.JRh(t.bMT(22,18,"CHECK_EXPERTS")),t.R7$(4),t.JRh(t.bMT(26,20,"VARIOUS_INDUSTRIES")),t.R7$(3),t.Y8G("ngForOf",s.topIndustries),t.R7$(3),t.JRh(t.bMT(32,22,"HOME.DISCOVER")),t.R7$(8),t.SpI(" ",t.bMT(40,24,"KNOWLEDGE.TITLE")," "),t.R7$(4),t.Y8G("ngForOf",s.knowledgeLinks),t.R7$(7),t.SpI(" ",t.bMT(51,26,"BECOME_INSIHGER_HEADER")," "),t.R7$(3),t.SpI(" ",t.bMT(54,28,"BECOME_INSIGHTER_DESCRIPTION")," "),t.R7$(4),t.Y8G("routerLink",t.lJ4(33,h)),t.R7$(),t.SpI(" ",t.bMT(59,30,"START_NOW")," "))},dependencies:[a.Sq,a.bT,f.Wk,m.D9],styles:[".border-0[_ngcontent-%COMP%]{border:none!important}.transition-arrow[_ngcontent-%COMP%]{transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover   .transition-arrow[_ngcontent-%COMP%]{transform:translate(5px)}.light-meetning-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#ecfdec);color:#0bbc2f!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#eceefd);color:#4f28ed}.knowledge-links-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.55rem}@media (min-width: 768px){.knowledge-links-list[_ngcontent-%COMP%]{gap:.65rem}}.knowledge-links-list__item[_ngcontent-%COMP%]{display:flex}.knowledge-link-item[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;align-items:flex-start;gap:.6rem;padding:.65rem .85rem;background-color:#fff;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease}@media (min-width: 576px){.knowledge-link-item[_ngcontent-%COMP%]{gap:.75rem;padding:.75rem 1rem}}@media (min-width: 992px){.knowledge-link-item[_ngcontent-%COMP%]{padding:.8rem 1.05rem}}.knowledge-link-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 8px 20px #0000000a}.knowledge-link-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:34px;height:34px;border-radius:10px;background-color:#009ef70f}@media (min-width: 768px){.knowledge-link-icon[_ngcontent-%COMP%]{width:38px;height:38px}}.knowledge-link-icon__svg[_ngcontent-%COMP%]{width:16px;height:16px}.knowledge-link-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;flex:1 1 auto;min-width:0;gap:.1rem}@media (min-width: 768px){.knowledge-link-content[_ngcontent-%COMP%]{gap:.15rem}}.knowledge-link-label[_ngcontent-%COMP%]{flex:1 1 auto;line-height:1.25;font-size:.82rem}.knowledge-link-description[_ngcontent-%COMP%]{display:block;line-height:1.2;font-size:.74rem;margin-top:.1rem;color:#7e8299}"]})}return n})();var U=l(8948),I=l(9820),O=l(7468),K=l(8600),B=l(5606);let T=(()=>{class n extends u.${requestsService;profileService;sentMeetingsService;meetingsService;walletService;userRole="";todayMeetingsCount=0;pendingRequestsCount=0;userProfile=null;destroy$=new y.B;sentMeetings=[];receivedMeetings=[];walletBalance=0;constructor(e,i,s,o,c,b){super(e),this.requestsService=i,this.profileService=s,this.sentMeetingsService=o,this.meetingsService=c,this.walletService=b}ngOnInit(){this.getProfile(),this.loadAllMeetings(),this.loadWalletBalance()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getProfile(){this.profileService.getProfile().subscribe(e=>{this.userProfile=e,this.getRequestsStatistics()})}getRequestsStatistics(){const e={userRequests:this.requestsService.getAllUserRequests(this.lang?this.lang:"en")};this.userProfile?.roles.includes("company")&&(e.insighterRequests=this.requestsService.getInsighterRequests(this.lang?this.lang:"en")),(0,O.p)(e).subscribe({next:i=>{this.pendingRequestsCount=0,[...i.userRequests||[],...i.insighterRequests||[]].forEach(o=>{(0===o.parent_id||null==o.parent_id)&&"pending"===o.final_status?.toLowerCase()&&this.pendingRequestsCount++})},error:i=>{console.error("Error fetching requests statistics:",i),this.pendingRequestsCount=0}})}loadAllMeetings(e=1){const i=this.sentMeetingsService.getSentMeetings(e,30);if("client"===this.userRole)i.pipe((0,C.Q)(this.destroy$)).subscribe({next:s=>{this.sentMeetings=s.data;const o=(new Date).toISOString().split("T")[0];this.todayMeetingsCount=this.sentMeetings.filter(c=>c.date===o).length,console.log("Today's sent meetings count:",this.todayMeetingsCount)},error:s=>{console.error("Error loading sent meetings:",s)}});else{const s=this.meetingsService.getMeetings(e,30);(0,O.p)({sent:i,received:s}).pipe((0,C.Q)(this.destroy$)).subscribe({next:o=>{this.sentMeetings=o.sent.data,this.receivedMeetings=o.received.data;const c=(new Date).toISOString().split("T")[0],b=this.sentMeetings.filter(w=>w.date===c).length,v=this.receivedMeetings.filter(w=>w.date===c).length;this.todayMeetingsCount=b+v,console.log("Sent meetings today:",b),console.log("Received meetings today:",v),console.log("Total meetings today:",this.todayMeetingsCount)},error:o=>{console.error("Error loading meetings:",o)}})}}loadWalletBalance(){this.walletService.getBalance().pipe((0,C.Q)(this.destroy$)).subscribe({next:e=>{this.walletBalance=e,console.log("Wallet balance loaded:",this.walletBalance)},error:e=>{console.error("Error loading wallet balance:",e),this.walletBalance=0}})}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(K.J),t.rXU(_.p),t.rXU(k.q),t.rXU(B.k),t.rXU(p.F))};static \u0275cmp=t.VBU({type:n,selectors:[["app-widgets-row"]],inputs:{userRole:"userRole"},features:[t.Vt3],decls:38,vars:14,consts:[[1,"dashboard-widgets-flex"],[1,"dashboard-card","wallet-card"],[1,"card","h-lg-100","light-wallet-gradient-bg"],[1,"card-body","d-flex","justify-content-between","align-items-start","flex-column"],[1,"m-0"],[1,"ki-outline","ki-dollar","text-gray-700","fs-2tx"],[1,"d-flex","flex-column","my-7"],[1,"fw-bold","fs-3x","lh-1","ls-n2"],[1,"fw-semibold","fs-6","text-gray-500"],[1,"dashboard-card"],[1,"card","h-lg-100","light-meetning-gradient-bg"],[1,"ki-outline","ki-calendar-tick","text-gray-700","fs-2tx"],[1,"fw-semibold","fs-3x","lh-1","ls-n2"],[1,"card","h-lg-100","light-requests-gradient-bg"],[1,"ki-outline","ki-question-2","text-gray-700","fs-2tx"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div",6)(7,"span",7),t.EFF(8),t.nI1(9,"currency"),t.k0s(),t.j41(10,"div",4)(11,"span",8),t.EFF(12),t.nI1(13,"translate"),t.k0s()()()()()(),t.j41(14,"div",9)(15,"div",10)(16,"div",3)(17,"div",4),t.nrm(18,"i",11),t.k0s(),t.j41(19,"div",6)(20,"span",12),t.EFF(21),t.k0s(),t.j41(22,"div",4)(23,"span",8),t.EFF(24),t.nI1(25,"translate"),t.k0s()()()()()(),t.j41(26,"div",9)(27,"div",13)(28,"div",3)(29,"div",4),t.nrm(30,"i",14),t.k0s(),t.j41(31,"div",6)(32,"span",12),t.EFF(33),t.k0s(),t.j41(34,"div",4)(35,"span",8),t.EFF(36),t.nI1(37,"translate"),t.k0s()()()()()()()),2&i&&(t.R7$(8),t.JRh(t.bMT(9,6,s.walletBalance)),t.R7$(4),t.JRh(t.bMT(13,8,"IN_WALLET")),t.R7$(9),t.JRh(s.todayMeetingsCount),t.R7$(3),t.JRh(t.bMT(25,10,"MEETINGS_TODAY")),t.R7$(9),t.JRh(s.pendingRequestsCount),t.R7$(3),t.JRh(t.bMT(37,12,"PENDING_REQUEST")))},dependencies:[a.oe,m.D9],styles:[".dashboard-widgets-flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.25rem;margin-bottom:2.5rem}.dashboard-card[_ngcontent-%COMP%]{flex:1 1 0;min-width:0}@media (max-width: 992px){.dashboard-card[_ngcontent-%COMP%]{flex:0 0 calc(50% - .625rem)}.dashboard-card[_ngcontent-%COMP%]:nth-child(3){flex:0 0 100%}}@media (max-width: 576px){.dashboard-card[_ngcontent-%COMP%]{flex:0 0 100%}}.light-meetning-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#ecfdec);color:#0bbc2f}.light-requests-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#fdf8ec);color:#ed8e28}.light-knowledge-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#ecfdfa);color:#28a1ed}.light-wallet-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#eceefd);color:#4f28ed}.light-published-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#f8ecfd);color:#a128ed}"]})}return n})();const R=n=>({"rtl-bg-flip":n}),Y=()=>({"background-image":"url(./assets/media/illustrations/misc/bg-publish.png)","background-size":"cover","background-repeat":"no-repeat","background-position":"100%","border-radius":"10px"}),S=n=>({"force-text-align-right":n}),V=()=>["/app/insighter-dashboard/my-knowledge/general"],H=()=>({"background-image":"url(./assets/media/illustrations/misc/build-team.png)","background-size":"cover","background-repeat":"no-repeat","background-position":"100%","border-radius":"10px"}),z=()=>["/app/insighter-dashboard/my-company-settings"],W=()=>({addEmployee:"true"});function J(n,r){if(1&n&&(t.j41(0,"div",24),t.nrm(1,"span",25),t.j41(2,"span",26),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&n){const e=r.$implicit;t.R7$(),t.xc7("background-color",e.color),t.R7$(2),t.JRh(t.bMT(4,3,e.labelKey))}}function X(n,r){if(1&n&&(t.j41(0,"div",22),t.DNE(1,J,5,5,"div",23),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.publishedKnowledgeLegend)}}function q(n,r){if(1&n&&(t.qex(0),t.j41(1,"div",16),t.nrm(2,"p-chart",17),t.j41(3,"div",18)(4,"div",19),t.EFF(5),t.k0s(),t.j41(6,"div",20),t.EFF(7),t.nI1(8,"translate"),t.k0s()()(),t.DNE(9,X,2,1,"div",21),t.bVm()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("data",e.publishedKnowledgeChartData)("options",e.publishedKnowledgeChartOptions),t.R7$(3),t.JRh(e.totalPublishedKnowledge),t.R7$(2),t.JRh(t.bMT(8,5,"TOTAL_DASHBOARD")),t.R7$(2),t.Y8G("ngIf",e.publishedKnowledgeLegend.length)}}function Z(n,r){1&n&&(t.j41(0,"div",27),t.nrm(1,"i",28),t.j41(2,"div",29),t.EFF(3,"No data available"),t.k0s()())}let Q=(()=>{class n extends u.${profileService;router;companyAccountService;userRole="";userProfile=null;destroy$=new y.B;showDonutChart=!0;showEmployeeStats=!0;dashboardStats=null;publishedKnowledgeChartData=null;publishedKnowledgeChartOptions=null;publishedKnowledgeLegend=[];isArabicAndNotRtl=!1;knowledgeTypeColors={insight:"#0a7abf",report:"#3b9ae1",manual:"#6bb6ff",data:"#1e88e5",course:"#42a5f5"};constructor(e,i,s,o){super(e),this.profileService=i,this.router=s,this.companyAccountService=o}ngOnInit(){this.getUserRole(),this.loadDashboardStatistics(),this.isArabicAndNotRtl="ar"===this.lang&&!0}getUserRole(){this.profileService.getProfile().subscribe({next:e=>{this.userProfile=e,e.roles.includes("company")?this.userRole="company":e.roles.includes("client")?this.userRole="client":e.roles.includes("insighter")&&(this.userRole="insighter")},error:e=>{console.error("Error getting user profile:",e)}})}onHasMultipleEmployees(e){this.showEmployeeStats=e,console.log("hasMultipleEmployees",e)}onHasMultipleEmployeesDonut(e){this.showDonutChart=e,console.log("hasMultipleEmployeesDonut",e)}loadDashboardStatistics(){this.companyAccountService.getDashboardStatistics().subscribe({next:e=>{this.dashboardStats=e,this.setupPublishedKnowledgeChart()},error:e=>{console.error("Error loading dashboard statistics:",e)}})}setupPublishedKnowledgeChart(){const e=this.dashboardStats?.knowledge_published_statistics;if(this.publishedKnowledgeLegend=[],!e)return void(this.publishedKnowledgeChartData=null);const i=[],s=[],o=[];Object.entries(e.type||{}).forEach(([c,b])=>{const v=Number(b)||0;if(v>0){const w=`KNOWLEDGE.${c.toUpperCase()}`,F=this.knowledgeTypeColors[c]||"#999";i.push(c),s.push(v),o.push(F),this.publishedKnowledgeLegend.push({labelKey:w,color:F})}}),s.length?(this.publishedKnowledgeChartData={labels:i,datasets:[{data:s,backgroundColor:o,borderWidth:0}]},this.publishedKnowledgeChartOptions={plugins:{legend:{display:!1},tooltip:{callbacks:{label:c=>`${c.label}: ${c.parsed}`}}},maintainAspectRatio:!1,responsive:!0}):this.publishedKnowledgeChartData=null}get totalPublishedKnowledge(){return this.dashboardStats?.knowledge_published_statistics?.total??0}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(_.p),t.rXU(f.Ix),t.rXU(U.C))};static \u0275cmp=t.VBU({type:n,selectors:[["app-company-my-dashboard"]],features:[t.Vt3],decls:38,vars:46,consts:[["publishedKnowledgeEmpty",""],[3,"userRole"],[1,"row","g-4"],[1,"col-12","col-lg-4","d-flex"],[1,"card","border-0","h-100","w-100"],[1,"card-body","chart-card","text-center","p-4"],[1,"chart-card__header"],[1,"card-title","fw-bold","text-gray-800","mb-0"],[4,"ngIf","ngIfElse"],[1,"card","card-xl-stretch","border-0","h-100","w-100",3,"ngClass","ngStyle"],[1,"card-body","d-flex","flex-column","flex-wrap","p-8"],[1,"d-flex","flex-column","align-items-start"],[1,"fs-2x","fw-bolder","text-gray-800","pb-3","m-0","p-0"],[1,"text-start","text-gray-800","pb-4","fw-semibold","fs-5",3,"innerHTML","ngClass"],["data-bs-toggle","modal","data-bs-target","#kt_modal_create_campaign",1,"btn","btn-info","fw-semibold","px-6","py-3",3,"routerLink"],[1,"btn","btn-info","fw-semibold","px-6","py-3",3,"routerLink","queryParams"],[1,"donut-wrapper"],["type","doughnut","width","180","height","180",3,"data","options"],[1,"donut-wrapper__center"],[1,"donut-wrapper__total"],[1,"donut-wrapper__label"],["class","chart-legend mt-4",4,"ngIf"],[1,"chart-legend","mt-4"],["class","chart-legend__item",4,"ngFor","ngForOf"],[1,"chart-legend__item"],[1,"chart-legend__swatch"],[1,"chart-legend__label"],[1,"chart-card__empty"],[1,"ki-duotone","ki-file","fs-2x","text-muted","mb-2"],[1,"text-muted","fs-7"]],template:function(i,s){if(1&i&&(t.nrm(0,"app-widgets-row",1),t.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"h6",7),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.DNE(9,q,10,7,"ng-container",8)(10,Z,4,0,"ng-template",null,0,t.C5r),t.k0s()()(),t.j41(12,"div",3)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h1",12),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.nrm(19,"p",13),t.nI1(20,"translate"),t.k0s(),t.j41(21,"div")(22,"a",14),t.EFF(23),t.nI1(24,"translate"),t.k0s()()()()(),t.j41(25,"div",3)(26,"div",9)(27,"div",10)(28,"div",11)(29,"h1",12),t.EFF(30),t.nI1(31,"translate"),t.k0s(),t.nrm(32,"p",13),t.nI1(33,"translate"),t.k0s(),t.j41(34,"div")(35,"a",15),t.EFF(36),t.nI1(37,"translate"),t.k0s()()()()()()),2&i){const o=t.sdS(11);t.Y8G("userRole",s.userRole),t.R7$(7),t.JRh(t.bMT(8,19,"PUBLISHED_KNOWLEDGE_DASHBOARD")),t.R7$(2),t.Y8G("ngIf",s.publishedKnowledgeChartData)("ngIfElse",o),t.R7$(4),t.Y8G("ngClass",t.eq3(33,R,"ar"===s.lang))("ngStyle",t.lJ4(35,Y)),t.R7$(4),t.SpI(" ",t.bMT(18,21,"START_UPLOADING")," "),t.R7$(2),t.Y8G("innerHTML",t.bMT(20,23,"START_UPLOADING_DESRIPTION"),t.npT)("ngClass",t.eq3(36,S,s.isArabicAndNotRtl)),t.R7$(3),t.Y8G("routerLink",t.lJ4(38,V)),t.R7$(),t.SpI(" ",t.bMT(24,25,"MENU.MY_LIBRARY")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(39,R,"ar"===s.lang))("ngStyle",t.lJ4(41,H)),t.R7$(4),t.SpI(" ",t.bMT(31,27,"BUILD_YOUR_TEAM")," "),t.R7$(2),t.Y8G("innerHTML",t.bMT(33,29,"BUILD_YOUR_TEAM_DESCRIPTION"),t.npT)("ngClass",t.eq3(42,S,s.isArabicAndNotRtl)),t.R7$(3),t.Y8G("routerLink",t.lJ4(44,z))("queryParams",t.lJ4(45,W)),t.R7$(),t.SpI(" ",t.bMT(37,31,"MY_COMPANY.ADD_EMPLOYEE")," ")}},dependencies:[a.YU,a.Sq,a.bT,a.B3,f.Wk,I.X,T,m.D9],styles:[".rtl-bg-flip[_ngcontent-%COMP%], .rtl-bg-flip[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{transform:scaleX(-1)}.chart-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;gap:1rem;padding:1.5rem!important}.chart-card__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}.chart-card__empty[_ngcontent-%COMP%]{min-height:200px;border-radius:.75rem;background-color:var(--kt-gray-50);border:1px dashed var(--kt-gray-200);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem}.donut-wrapper[_ngcontent-%COMP%]{position:relative;width:180px;height:180px;margin:0 auto;display:flex;align-items:center;justify-content:center}.donut-wrapper__center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:.2rem}.donut-wrapper__total[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--kt-gray-900);line-height:1}.donut-wrapper__label[_ngcontent-%COMP%]{font-size:.7rem;letter-spacing:.08em;text-transform:uppercase;color:var(--kt-gray-500)}.chart-legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.75rem}.chart-legend__item[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.45rem .85rem;border-radius:.75rem;background-color:var(--kt-gray-50);color:var(--kt-gray-700);font-size:.8rem}.chart-legend__swatch[_ngcontent-%COMP%]{width:.75rem;height:.75rem;border-radius:50%;flex-shrink:0}.chart-legend__label[_ngcontent-%COMP%]{font-weight:600;text-transform:capitalize;letter-spacing:.02em}.donut-wrapper[_ngcontent-%COMP%]     canvas{width:100%!important;height:100%!important}.force-text-align-right[_ngcontent-%COMP%]{text-align:right!important}"]})}return n})();var tt=l(4392),D=l(4133),P=l(6661);const et=["chart"];function nt(n,r){1&n&&(t.j41(0,"div",10)(1,"div",11)(2,"span",12),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"COMMON.LOADING")))}function it(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",13),t.nrm(1,"i",14),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",15),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.refresh())}),t.j41(6,"span"),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,2,"KNOWLEDGE_TYPES.LOAD_ERROR")),t.R7$(4),t.JRh(t.bMT(8,4,"KNOWLEDGE_TYPES.RETRY")))}function st(n,r){if(1&n&&(t.j41(0,"div",16)(1,"div",17),t.nrm(2,"apx-chart",18),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("series",e.pieChartOptions.series)("chart",e.pieChartOptions.chart)("labels",e.pieChartOptions.labels)("plotOptions",e.pieChartOptions.plotOptions)("fill",e.pieChartOptions.fill)("dataLabels",e.pieChartOptions.dataLabels)("tooltip",e.pieChartOptions.tooltip)("stroke",e.pieChartOptions.stroke)("legend",e.pieChartOptions.legend)("colors",e.pieChartOptions.colors)}}function at(n,r){if(1&n&&(t.qex(0),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"span",5),t.EFF(8),t.nI1(9,"translate"),t.k0s()()(),t.j41(10,"div",6),t.DNE(11,nt,5,3,"div",7)(12,it,9,6,"div",8)(13,st,3,10,"div",9),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(5),t.JRh(t.bMT(6,5,"KNOWLEDGE_TYPES.TITLE")),t.R7$(3),t.JRh(t.bMT(9,7,"KNOWLEDGE_TYPES.SUBTITLE")),t.R7$(3),t.Y8G("ngIf",e.loading),t.R7$(),t.Y8G("ngIf",e.error&&!e.loading),t.R7$(),t.Y8G("ngIf",!e.loading&&!e.error&&e.statistics.length>0)}}let ot=(()=>{class n{knowledgeService;translationService;chart;hasStatistics=new t.bkB;pieChartOptions={series:[],chart:{type:"donut",height:300,fontFamily:"Poppins, sans-serif",toolbar:{show:!1},redrawOnParentResize:!0,redrawOnWindowResize:!0},labels:[],colors:[],dataLabels:{enabled:!0,formatter:function(e){return e.toFixed(1)+"%"},style:{fontSize:"12px",fontFamily:"Poppins, sans-serif",fontWeight:"bold"}},stroke:{width:0},plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,name:{show:!0,fontSize:"14px",fontFamily:"Poppins, sans-serif",offsetY:-10},value:{show:!0,fontSize:"18px",fontFamily:"Poppins, sans-serif",formatter:function(e){return e}},total:{show:!0,label:"Total",fontSize:"14px",fontFamily:"Poppins, sans-serif",formatter:function(e){return e.globals.seriesTotals.reduce((i,s)=>i+s,0)}}}}}},tooltip:{enabled:!0,y:{formatter:function(e){return e+" items"}}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"12px",itemMargin:{horizontal:10,vertical:5}}};statistics=[];loading=!1;error=!1;resizeListener;chartInitialized=!1;constructor(e,i){this.knowledgeService=e,this.translationService=i}ngOnInit(){this.loadStatistics(),this.updateChartTranslations(),this.translationService.onLanguageChange().subscribe(()=>{this.updateChartTranslations(),this.statistics.length>0&&this.initChart()}),this.resizeListener=()=>{this.chartInitialized&&this.statistics.length>0&&setTimeout(()=>this.initChart(),100)},window.addEventListener("resize",this.resizeListener)}updateChartTranslations(){this.pieChartOptions={...this.pieChartOptions,plotOptions:{...this.pieChartOptions.plotOptions,pie:{...this.pieChartOptions.plotOptions?.pie,donut:{...this.pieChartOptions.plotOptions?.pie?.donut,labels:{...this.pieChartOptions.plotOptions?.pie?.donut?.labels,total:{...this.pieChartOptions.plotOptions?.pie?.donut?.labels?.total,label:this.translationService.getTranslation("KNOWLEDGE_TYPES.TOTAL")}}}}},tooltip:{...this.pieChartOptions.tooltip,y:{...this.pieChartOptions.tooltip?.y,formatter:e=>e+" "+this.translationService.getTranslation("KNOWLEDGE_TYPES.ITEMS")}}}}loadStatistics(){this.loading=!0,this.error=!1,this.knowledgeService.getKnowledgeTypeStatistics().subscribe(e=>{this.statistics=e.data,this.hasStatistics.emit(!!this.statistics.length),this.initChart(),this.loading=!1},e=>{console.error("Error loading knowledge type statistics",e),this.error=!0,this.loading=!1})}getTotalCount(){return this.statistics&&0!==this.statistics.length?this.statistics.reduce((e,i)=>e+i.count,0):0}initChart(){if(!this.statistics||0===this.statistics.length)return;if(!document.getElementById("pieChart"))return void setTimeout(()=>this.initChart(),50);const e={report:"#0095E8",insight:"#0070C0",manual:"#104E8B",data:"#1E90FF",course:"#4682B4",media:"#000080",other:"#0047AB"},i=this.statistics.map(c=>c.count),s=this.statistics.map(c=>{const b="KNOWLEDGE_TYPES."+c.type.toUpperCase();return this.translationService.getTranslation(b)}),o=this.statistics.map(c=>e[c.type]||"#A1A5B7");this.pieChartOptions={...this.pieChartOptions,series:i,labels:s,colors:o},this.chartInitialized=!0,this.chart&&setTimeout(()=>{this.chart.render()},0)}refresh(){this.loadStatistics()}ngAfterViewInit(){this.statistics.length>0&&!this.chartInitialized&&setTimeout(()=>this.initChart(),100)}ngOnDestroy(){this.resizeListener&&window.removeEventListener("resize",this.resizeListener)}static \u0275fac=function(i){return new(i||n)(t.rXU(tt.I),t.rXU(D.L))};static \u0275cmp=t.VBU({type:n,selectors:[["app-knowledge-types-statistics"]],viewQuery:function(i,s){if(1&i&&t.GBs(et,5),2&i){let o;t.mGM(o=t.lsd())&&(s.chart=o.first)}},outputs:{hasStatistics:"hasStatistics"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"card","card-flush","h-md-100","mb-5","mb-xl-10"],[1,"card-header","pt-5"],[1,"card-title","d-flex","flex-column"],[1,"fs-2","fw-bold","text-gray-800"],[1,"text-gray-500","pt-1","fw-semibold","fs-6"],[1,"card-body","pt-0"],["class","d-flex justify-content-center align-items-center","style","height: 320px;",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","320px"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn","btn-sm","btn-danger","ms-2",3,"click"],[1,"d-flex","justify-content-center"],["id","pieChart",1,"chart-container",2,"width","100%","max-width","500px","margin","0 auto"],[3,"series","chart","labels","plotOptions","fill","dataLabels","tooltip","stroke","legend","colors"]],template:function(i,s){1&i&&t.DNE(0,at,14,9,"ng-container",0),2&i&&t.Y8G("ngIf",s.statistics.length>0)},dependencies:[a.bT,P.Q,m.D9],styles:[".card[_ngcontent-%COMP%]{transition:all .3s ease}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:transparent;border-bottom:1px solid rgba(0,0,0,.125)}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transition:all .3s ease}.btn-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:var(--bs-primary)!important;color:#fff!important}.symbol-label[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:4px}#barChart[_ngcontent-%COMP%], #pieChart[_ngcontent-%COMP%]{min-height:350px}#barChart[_ngcontent-%COMP%]   apx-chart[_ngcontent-%COMP%], #pieChart[_ngcontent-%COMP%]   apx-chart[_ngcontent-%COMP%]{display:block}#pieChart[_ngcontent-%COMP%]{height:300px;margin:0 auto;position:relative;transition:width .3s ease,height .3s ease}#pieChart[_ngcontent-%COMP%]   apx-chart[_ngcontent-%COMP%]{display:block;margin:0 auto}#pieChart[_ngcontent-%COMP%]     .apexcharts-canvas{margin:0 auto!important}#pieChart[_ngcontent-%COMP%]     .apexcharts-legend{display:flex;flex-wrap:wrap;justify-content:center;width:100%!important;left:0!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.card-flush[_ngcontent-%COMP%]{box-shadow:0 0 20px #4c577d05}.fs-2[_ngcontent-%COMP%]{font-size:1.5rem!important}"]})}return n})();const rt=(n,r)=>({"col-md-12":n,"col-md-6":r}),lt=()=>["/app/insighter-dashboard/account-settings/company-account"];function dt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"app-knowledge-types-statistics",6),t.bIt("hasStatistics",function(s){t.eBV(e);const o=t.XpG();return t.Njj(o.hasStatistics(s))}),t.k0s()()}}function ct(n,r){1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"UPGRADE_TO_COMPANY_ACCOUNT.PENDING_DESCRIPTION")," "))}function gt(n,r){1&n&&(t.EFF(0),t.nI1(1,"translate")),2&n&&t.SpI(" ",t.bMT(1,1,"UPGRADE_TO_COMPANY_ACCOUNT.DESCRIPTION")," ")}function pt(n,r){1&n&&(t.qex(0),t.j41(1,"button",16),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"UPGRADE_TO_COMPANY_ACCOUNT.PENDING")," "))}function ht(n,r){1&n&&(t.j41(0,"a",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.Y8G("routerLink",t.lJ4(4,lt)),t.R7$(),t.SpI(" ",t.bMT(2,2,"UPGRADE_TO_COMPANY_ACCOUNT.UPGRADE_NOW")," "))}function mt(n,r){if(1&n&&(t.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"span",12),t.DNE(8,ct,3,3,"ng-container",13)(9,gt,2,3,"ng-template",null,0,t.C5r),t.k0s(),t.j41(11,"div",14),t.DNE(12,pt,4,3,"ng-container",13)(13,ht,3,5,"ng-template",null,1,t.C5r),t.k0s()(),t.nrm(15,"img",15),t.k0s()()()),2&n){const e=t.sdS(10),i=t.sdS(14),s=t.XpG();t.Y8G("ngClass",t.l_i(8,rt,!s.userHasStatistics,s.userHasStatistics)),t.R7$(5),t.SpI(" ",t.bMT(6,6,"UPGRADE_TO_COMPANY_ACCOUNT.TITLE")," "),t.R7$(3),t.Y8G("ngIf",s.hasPendingActivationRequest)("ngIfElse",e),t.R7$(4),t.Y8G("ngIf",s.hasPendingActivationRequest)("ngIfElse",i)}}let ft=(()=>{class n extends u.${profileService;profile;hasPendingActivationRequest=!1;userHasStatistics=!1;isCompanyInsight;constructor(e,i){super(e),this.profileService=i}ngOnInit(){this.profileService.getProfile().subscribe(e=>{this.profile=e,this.isCompanyInsight=this.profileService.isCompanyInsighter(),this.hasPendingActivationRequest="pending"===this.profile.status||"under_review"===this.profile.status})}isActiveInsighter(){return"active"===this.profile.status}hasStatistics(e){this.userHasStatistics=e}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(_.p))};static \u0275cmp=t.VBU({type:n,selectors:[["app-insighter-my-dashboard"]],features:[t.Vt3],decls:5,vars:4,consts:[["regularDescription",""],["upgradeButton",""],[1,"row"],["class","col-12 col-md-6",4,"ngIf"],["class","col-12",3,"ngClass",4,"ngIf"],[1,"col-12","col-md-6"],[3,"hasStatistics"],[1,"col-12",3,"ngClass"],[1,"card","light-upgrade-gradient-bg","h-md-100",2,"border","1px solid #e3f2fd"],[1,"card-body","d-flex","justify-content-center","flex-wrap","px-xl-15","px-5"],[1,"flex-grow-1","mt-2","me-9","me-md-0"],[1,"position-relative","text-gray-800","fs-1","z-index-2","fw-bold","mb-5"],[1,"text-gray-600","fw-semibold","fs-6","mb-6","d-block","mw-400px"],[4,"ngIf","ngIfElse"],[1,"mb-7"],["src","./assets/media/auth/upgrade-to-corporate.png","alt","Upgrade to Corporate",1,"h-175px","me-15"],["disabled","",1,"btn","btn-sm","btn-secondary","fw-semibold","me-2"],[1,"btn","btn-sm","btn-primary","fw-semibold","me-2",3,"routerLink"]],template:function(i,s){1&i&&(t.nrm(0,"app-widgets-row"),t.j41(1,"div",2),t.DNE(2,dt,2,0,"div",3)(3,mt,16,11,"div",4),t.nI1(4,"async"),t.k0s()),2&i&&(t.R7$(2),t.Y8G("ngIf",s.userHasStatistics),t.R7$(),t.Y8G("ngIf",!t.bMT(4,2,s.isCompanyInsight)))},dependencies:[a.YU,a.bT,f.Wk,ot,T,a.Jj,m.D9],styles:[".light-upgrade-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#e0f3ff);border:1px solid #e3f2fd!important}"]})}return n})();function ut(n,r){1&n&&t.nrm(0,"app-client-my-dashboard")}function bt(n,r){1&n&&t.nrm(0,"app-insighter-my-dashboard")}function Ct(n,r){1&n&&t.nrm(0,"app-company-my-dashboard")}const _t=[{path:"",component:(()=>{class n extends u.${profileService;constructor(e,i){super(e),this.profileService=i}ngOnInit(){}ngOnDestroy(){}isClient(){return this.profileService.isClient()}isInsighter(){return this.profileService.isInsighter()}isCompanyInsighter(){return this.profileService.isCompanyInsighter()}isCompany(){return this.profileService.isCompany()}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(_.p))};static \u0275cmp=t.VBU({type:n,selectors:[["app-my-dashboard"]],features:[t.Vt3],decls:7,vars:9,template:function(i,s){1&i&&(t.DNE(0,ut,1,0,"app-client-my-dashboard"),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.DNE(5,bt,1,0)(6,Ct,1,0)),2&i&&t.vxM(0,t.bMT(1,1,s.isClient())?0:t.bMT(2,3,s.isInsighter())||t.bMT(3,5,s.isCompanyInsighter())?5:t.bMT(4,7,s.isCompany())?6:-1)},dependencies:[G,Q,ft,a.Jj]})}return n})()}];let yt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[a.MD,f.iI.forChild(_t),D.E,P.J,I.F]})}return n})()},9820:(L,M,l)=>{l.d(M,{F:()=>k,X:()=>C});var a=l(4438),f=l(177),u=l(9763);u.t1.register(...u.$L);const t=u.t1,_=(p,m)=>({position:"relative",width:p,height:m}),y=(p,m)=>({width:p,height:m});let C=(()=>{class p{platformId;el;zone;type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(g){this._data=g,this.reinit()}get options(){return this._options}set options(g){this._options=g,this.reinit()}onDataSelect=new a.bkB;isBrowser=!1;initialized;_data;_options={};chart;constructor(g,h,d){this.platformId=g,this.el=h,this.zone=d}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(g){if(this.chart){const h=this.chart.getElementsAtEventForMode(g,"nearest",{intersect:!0},!1),d=this.chart.getElementsAtEventForMode(g,"dataset",{intersect:!0},!1);h&&h[0]&&d&&this.onDataSelect.emit({originalEvent:g,element:h[0],dataset:d})}}initChart(){if((0,f.UE)(this.platformId)){let g=this.options||{};g.responsive=this.responsive,g.responsive&&(this.height||this.width)&&(g.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new t(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(h){return new(h||p)(a.rXU(a.Agw),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:p,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:[a.Mj6.HasDecoratorInputTransform,"responsive","responsive",a.L39],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},features:[a.GFd],decls:2,vars:10,consts:[[3,"ngStyle"],["role","img",3,"click","ngStyle"]],template:function(h,d){1&h&&(a.j41(0,"div",0)(1,"canvas",1),a.bIt("click",function(x){return d.onCanvasClick(x)}),a.k0s()()),2&h&&(a.Y8G("ngStyle",a.l_i(4,_,d.responsive&&!d.width?null:d.width,d.responsive&&!d.height?null:d.height)),a.R7$(),a.Y8G("ngStyle",a.l_i(7,y,d.responsive&&!d.width?null:d.width,d.responsive&&!d.height?null:d.height)),a.BMQ("aria-label",d.ariaLabel)("aria-labelledby",d.ariaLabelledBy))},dependencies:[f.B3],encapsulation:2,changeDetection:0})}return p})(),k=(()=>{class p{static \u0275fac=function(h){return new(h||p)};static \u0275mod=a.$C({type:p});static \u0275inj=a.G2t({imports:[f.MD]})}return p})()}}]);