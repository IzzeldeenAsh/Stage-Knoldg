"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[5584],{7415:(ae,H,M)=>{M.d(H,{D:()=>le});var o=M(4438),u=M(9417),V=M(177),$=M(8833),i=M(5779),A=M(9830);const R=()=>["names.en","names.ar","international_code"];function K(c,v){if(1&c){const t=o.RV6();o.j41(0,"img",11),o.bIt("error",function(){o.eBV(t);const s=o.XpG().$implicit,r=o.XpG();return o.Njj(r.onFlagError(s))}),o.k0s()}if(2&c){const t=o.XpG().$implicit,e=o.XpG();o.HbH("flag-icon w-20px "+("ar"===e.lang?"ms-2":"me-2")),o.FS9("alt",t.names.en),o.Y8G("src","../../../../assets/media/flags/"+t.flag+".svg",o.B4B)}}function W(c,v){if(1&c&&(o.j41(0,"span",12),o.EFF(1),o.k0s()),2&c){const t=o.XpG().$implicit;o.R7$(),o.JRh(t.names.en)}}function G(c,v){if(1&c&&(o.j41(0,"span",12),o.EFF(1),o.k0s()),2&c){const t=o.XpG().$implicit;o.R7$(),o.JRh(t.names.ar)}}function ee(c,v){if(1&c&&(o.j41(0,"div",7),o.DNE(1,K,1,4,"img",8),o.j41(2,"span",9),o.EFF(3),o.k0s(),o.DNE(4,W,2,1,"span",10)(5,G,2,1,"span",10),o.k0s()),2&c){const t=v.$implicit,e=o.XpG();o.HbH("ar"===e.lang?"rtl-country-option":"ltr-country-option"),o.R7$(),o.Y8G("ngIf",t.showFlag),o.R7$(2),o.SpI("(+",t.international_code,")"),o.R7$(),o.Y8G("ngIf","en"===e.lang),o.R7$(),o.Y8G("ngIf","ar"===e.lang)}}function te(c,v){if(1&c){const t=o.RV6();o.j41(0,"img",11),o.bIt("error",function(){o.eBV(t);const s=o.XpG(2).$implicit,r=o.XpG();return o.Njj(r.onFlagError(s))}),o.k0s()}if(2&c){const t=o.XpG(2).$implicit,e=o.XpG();o.HbH("flag-icon w-20px "+("ar"===e.lang?"ms-2":"me-2")),o.FS9("alt",t.names.en),o.Y8G("src","../../../../assets/media/flags/"+t.flag+".svg",o.B4B)}}function L(c,v){if(1&c&&(o.j41(0,"div",14),o.DNE(1,te,1,4,"img",8),o.j41(2,"span",9),o.EFF(3),o.k0s()()),2&c){const t=o.XpG().$implicit,e=o.XpG();o.HbH("ar"===e.lang?"rtl-selected-option":"ltr-selected-option"),o.R7$(),o.Y8G("ngIf",t.showFlag),o.R7$(2),o.SpI("(+",t.international_code,")")}}function ie(c,v){1&c&&o.DNE(0,L,4,4,"div",13),2&c&&o.Y8G("ngIf",v.$implicit)}function X(c,v){if(1&c&&(o.j41(0,"div",17),o.EFF(1),o.k0s()),2&c){const t=o.XpG(2);o.R7$(),o.SpI(" ",t.countryCodeError," ")}}function ne(c,v){if(1&c&&(o.j41(0,"div",17),o.EFF(1),o.k0s()),2&c){const t=o.XpG(2);o.R7$(),o.SpI(" ",t.phoneNumberError," ")}}function se(c,v){if(1&c&&(o.j41(0,"div",15),o.DNE(1,X,2,1,"div",16)(2,ne,2,1,"div",16),o.k0s()),2&c){const t=o.XpG();o.R7$(),o.Y8G("ngIf",t.countryCodeError),o.R7$(),o.Y8G("ngIf",t.phoneNumberError)}}let le=(()=>{class c{countries=[];placeholder="Your phone number";searchPlaceholder="Search countries...";lang="en";disabled=!1;isRequired=!1;showValidationErrors=!0;countryCodeError="";phoneNumberError="";initialCountryCode="";initialPhoneNumber="";countryCodeChange=new o.bkB;phoneNumberChange=new o.bkB;formattedPhoneNumberChange=new o.bkB;flagError=new o.bkB;value="";countryCode="";currentMask="000-000-0000";currentPlaceholder="123-456-7890";phoneMasks={default:{mask:"000-000-0000",pattern:/^\d{3}-\d{3}-\d{4}$/},1:{mask:"000-000-0000",pattern:/^\d{3}-\d{3}-\d{4}$/},44:{mask:"0000-000000",pattern:/^\d{4}-\d{6}$/},966:{mask:"0-0000-0000",pattern:/^\d{1}-\d{4}-\d{4}$/},971:{mask:"0-0000-0000",pattern:/^\d{1}-\d{4}-\d{4}$/},20:{mask:"00-0000-0000",pattern:/^\d{2}-\d{4}-\d{4}$/},962:{mask:"0-0000-0000",pattern:/^\d{1}-\d{4}-\d{4}$/},961:{mask:"0-0000-0000",pattern:/^\d{1}-\d{4}-\d{4}$/},33:{mask:"00-00-00-00-00",pattern:/^\d{2}-\d{2}-\d{2}-\d{2}-\d{2}$/},49:{mask:"0000-0000000",pattern:/^\d{4}-\d{7}$/},39:{mask:"000-0000000",pattern:/^\d{3}-\d{7}$/}};placeholderExamples={default:"123-456-7890",1:"123-456-7890",44:"1234-567890",966:"5-1234-5678",971:"5-1234-5678",20:"12-3456-7890",962:"7-1234-5678",961:"3-1234-5678",33:"12-34-56-78-90",49:"1234-5678901",39:"123-4567890"};onChange=t=>{};onTouched=()=>{};constructor(){}ngOnInit(){this.setInitialValues(),this.updateMask(),this.updatePlaceholder()}ngOnChanges(t){(t.initialCountryCode||t.initialPhoneNumber)&&(this.setInitialValues(),t.initialCountryCode&&(this.updateMask(),this.updatePlaceholder()))}setInitialValues(){this.initialCountryCode&&(this.countryCode=this.initialCountryCode),this.initialPhoneNumber&&(this.value=this.initialPhoneNumber)}writeValue(t){this.value=t||""}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}onCountryCodeChange(t){this.countryCode=t,this.updateMask(),this.updatePlaceholder(),this.countryCodeChange.emit(t)}onPhoneNumberInput(t){const e=t.replace(/\D/g,"");this.value=e;const s=`(+${this.countryCode})${t}`;this.onChange(e),this.phoneNumberChange.emit(e),this.formattedPhoneNumberChange.emit(s),this.onTouched()}onKeyPress(t){-1!==[8,9,27,13,46].indexOf(t.keyCode)||65===t.keyCode&&!0===t.ctrlKey||67===t.keyCode&&!0===t.ctrlKey||86===t.keyCode&&!0===t.ctrlKey||88===t.keyCode&&!0===t.ctrlKey||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()}onFlagError(t){this.flagError.emit(t)}updateMask(){this.currentMask=this.phoneMasks[this.countryCode]?.mask||this.phoneMasks.default.mask}updatePlaceholder(){this.currentPlaceholder=this.placeholderExamples[this.countryCode]||this.placeholderExamples.default}isValidPhoneNumber(){const t=this.phoneMasks[this.countryCode]?.pattern||this.phoneMasks.default.pattern,e=this.formatValueForValidation(this.value);return t.test(e)}formatValueForValidation(t){const e=t.replace(/\D/g,""),s=this.currentMask;let r="",n=0;for(let p=0;p<s.length&&n<e.length;p++)"0"===s[p]?(r+=e[n],n++):r+=s[p];return r}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=o.VBU({type:c,selectors:[["app-phone-number-input"]],inputs:{countries:"countries",placeholder:"placeholder",searchPlaceholder:"searchPlaceholder",lang:"lang",disabled:"disabled",isRequired:"isRequired",showValidationErrors:"showValidationErrors",countryCodeError:"countryCodeError",phoneNumberError:"phoneNumberError",initialCountryCode:"initialCountryCode",initialPhoneNumber:"initialPhoneNumber"},outputs:{countryCodeChange:"countryCodeChange",phoneNumberChange:"phoneNumberChange",formattedPhoneNumberChange:"formattedPhoneNumberChange",flagError:"flagError"},features:[o.Jv_([{provide:u.kq,useExisting:(0,o.Rfq)(()=>c),multi:!0}]),o.OA$],decls:7,vars:17,consts:[[1,"input-group"],[2,"flex","0 0 190px"],["optionValue","international_code","filterPlaceholder","Search countries...",1,"d-block","form-p-control","no-border-radius-start-end",3,"ngModelChange","options","ngModel","dataKey","placeholder","filter","showClear","disabled","filterFields"],["pTemplate","item"],["pTemplate","selectedItem"],["type","text",1,"form-control","no-rtl-b-radius",2,"flex","1",3,"ngModelChange","keypress","placeholder","disabled","mask","ngModel","dropSpecialCharacters"],["class","fv-plugins-message-container",4,"ngIf"],[1,"country-option"],[3,"src","alt","class","error",4,"ngIf"],[1,"country-code"],["class","country-name ms-2",4,"ngIf"],[3,"error","src","alt"],[1,"country-name","ms-2"],["class","selected-country-option",3,"class",4,"ngIf"],[1,"selected-country-option"],[1,"fv-plugins-message-container"],["class","invalid-feedback d-block",4,"ngIf"],[1,"invalid-feedback","d-block"]],template:function(e,s){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"p-dropdown",2),o.bIt("ngModelChange",function(n){return s.onCountryCodeChange(n)}),o.DNE(3,ee,6,6,"ng-template",3)(4,ie,1,1,"ng-template",4),o.k0s()(),o.j41(5,"input",5),o.bIt("ngModelChange",function(n){return s.onPhoneNumberInput(n)})("keypress",function(n){return s.onKeyPress(n)}),o.k0s()(),o.DNE(6,se,3,2,"div",6)),2&e&&(o.R7$(2),o.Y8G("options",s.countries)("ngModel",s.countryCode)("dataKey","international_code")("placeholder",s.searchPlaceholder)("filter",!0)("showClear",!1)("disabled",s.disabled)("filterFields",o.lJ4(16,R)),o.R7$(3),o.Y8G("placeholder",s.currentPlaceholder)("disabled",s.disabled)("mask",s.currentMask)("ngModel",s.value)("dropSpecialCharacters",!1),o.BMQ("aria-required",s.isRequired)("aria-invalid",s.showValidationErrors&&(s.countryCodeError||s.phoneNumberError)),o.R7$(),o.Y8G("ngIf",s.showValidationErrors))},dependencies:[V.bT,u.me,u.BC,u.vS,$.ms,i.Ei,A.Zr],styles:[".max-width-200px[_ngcontent-%COMP%]{max-width:250px;width:250px}.country-option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem}.ltr-country-option[_ngcontent-%COMP%]{direction:ltr;text-align:left}.rtl-country-option[_ngcontent-%COMP%]{direction:rtl;text-align:right}.selected-country-option[_ngcontent-%COMP%]{display:flex;align-items:center}.ltr-selected-option[_ngcontent-%COMP%]{direction:ltr;text-align:left}.rtl-selected-option[_ngcontent-%COMP%]{direction:rtl;text-align:right}.flag-icon[_ngcontent-%COMP%]{width:20px;height:auto;border-radius:2px;object-fit:cover}.country-code[_ngcontent-%COMP%]{font-weight:500;color:#6c757d}.country-name[_ngcontent-%COMP%]{color:#495057}.no-rtl-b-radius[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.form-p-control.no-border-radius-start-end[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important}.input-group[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;width:1%;min-width:0;margin-bottom:0}.invalid-feedback[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}[dir=rtl][_ngcontent-%COMP%]   .ltr-country-option[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .ltr-selected-option[_ngcontent-%COMP%]{direction:rtl;text-align:right}[dir=rtl][_ngcontent-%COMP%]   .rtl-country-option[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .rtl-selected-option[_ngcontent-%COMP%]{direction:ltr;text-align:left}[dir=rtl][_ngcontent-%COMP%]   .no-rtl-b-radius[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-top-left-radius:.375rem!important;border-bottom-left-radius:.375rem!important}[dir=rtl][_ngcontent-%COMP%]   .form-p-control.no-border-radius-start-end[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important;border-top-right-radius:.375rem!important;border-bottom-right-radius:.375rem!important}"]})}return c})()},8870:(ae,H,M)=>{M.d(H,{W:()=>A});var o=M(177),u=M(9417),V=M(8833),$=M(9830),i=M(4438);let A=(()=>{class R{static \u0275fac=function(G){return new(G||R)};static \u0275mod=i.$C({type:R});static \u0275inj=i.G2t({providers:[(0,$.Dw)()],imports:[o.MD,u.YN,u.X1,V.kr]})}return R})()},9830:(ae,H,M)=>{M.d(H,{Dw:()=>X,Zr:()=>se});var o=M(467),u=M(4438),V=M(177),$=M(9417),i=function(c){return c.SEPARATOR="separator",c.PERCENT="percent",c.IP="IP",c.CPF_CNPJ="CPF_CNPJ",c.MONTH="M",c.MONTHS="M0",c.MINUTE="m",c.HOUR="h",c.HOURS="H",c.MINUTES="m0",c.HOURS_HOUR="Hh",c.SECONDS="s0",c.HOURS_MINUTES_SECONDS="Hh:m0:s0",c.EMAIL_MASK="A*@A*.A*",c.HOURS_MINUTES="Hh:m0",c.MINUTES_SECONDS="m0:s0",c.DAYS_MONTHS_YEARS="d0/M0/0000",c.DAYS_MONTHS="d0/M0",c.DAYS="d0",c.DAY="d",c.SECOND="s",c.LETTER_S="S",c.DOT=".",c.COMMA=",",c.CURLY_BRACKETS_LEFT="{",c.CURLY_BRACKETS_RIGHT="}",c.MINUS="-",c.OR="||",c.HASH="#",c.EMPTY_STRING="",c.SYMBOL_STAR="*",c.SYMBOL_QUESTION="?",c.SLASH="/",c.WHITE_SPACE=" ",c.NUMBER_ZERO="0",c.NUMBER_NINE="9",c.BACKSPACE="Backspace",c.DELETE="Delete",c.ARROW_LEFT="ArrowLeft",c.ARROW_UP="ArrowUp",c.DOUBLE_ZERO="00",c}(i||{});const A=new u.nKC("ngx-mask config"),R=new u.nKC("new ngx-mask config"),K=new u.nKC("initial ngx-mask config"),W={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showMaskTyped:!1,instantPrefix:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:c=>c,outputTransformFn:c=>c,maskFilled:new u.bkB,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},G=[i.HOURS_MINUTES_SECONDS,i.HOURS_MINUTES,i.MINUTES_SECONDS],ee=[i.PERCENT,i.HOURS_HOUR,i.SECONDS,i.MINUTES,i.SEPARATOR,i.DAYS_MONTHS_YEARS,i.DAYS_MONTHS,i.DAYS,i.MONTHS];let te=(()=>{class c{_config=(0,u.WQX)(A);dropSpecialCharacters=this._config.dropSpecialCharacters;hiddenInput=this._config.hiddenInput;clearIfNotMatch=this._config.clearIfNotMatch;specialCharacters=this._config.specialCharacters;patterns=this._config.patterns;prefix=this._config.prefix;suffix=this._config.suffix;thousandSeparator=this._config.thousandSeparator;decimalMarker=this._config.decimalMarker;customPattern;showMaskTyped=this._config.showMaskTyped;placeHolderCharacter=this._config.placeHolderCharacter;validation=this._config.validation;separatorLimit=this._config.separatorLimit;allowNegativeNumbers=this._config.allowNegativeNumbers;leadZeroDateTime=this._config.leadZeroDateTime;leadZero=this._config.leadZero;apm=this._config.apm;inputTransformFn=this._config.inputTransformFn;outputTransformFn=this._config.outputTransformFn;keepCharacterPositions=this._config.keepCharacterPositions;instantPrefix=this._config.instantPrefix;triggerOnMaskChange=this._config.triggerOnMaskChange;_shift=new Set;plusOnePosition=!1;maskExpression="";actualValue="";showKeepCharacterExp="";shownMaskExpression=this._config.shownMaskExpression;deletedSpecialCharacter=!1;ipError;cpfCnpjError;applyMask(t,e,s=0,r=!1,n=!1,p=(()=>{})){if(!e||"string"!=typeof t)return i.EMPTY_STRING;let l=0,h="",m=!1,f=!1,S=1,E=!1,a=t,_=s;const y=a.slice(0,this.prefix.length)===this.prefix,O=r&&a.length===this.prefix.length+e.length,D=a===this.prefix+a.slice(this.prefix.length);y&&(O||D)&&(a=a.slice(this.prefix.length)),this.suffix&&a.length>0&&(a=this.checkAndRemoveSuffix(a)),"("===a&&this.prefix&&(a="");const N=a.toString().split(i.EMPTY_STRING);if(this.allowNegativeNumbers&&a.slice(l,l+1)===i.MINUS&&(h+=a.slice(l,l+1)),e===i.IP){const g=a.split(i.DOT);this.ipError=this._validIP(g),e="099.099.099.099"}const b=[];for(let g=0;g<a.length;g++)a[g]?.match("\\d")&&b.push(a[g]??i.EMPTY_STRING);if(e===i.CPF_CNPJ&&(this.cpfCnpjError=11!==b.length&&14!==b.length,e=b.length>11?"00.000.000/0000-00":"000.000.000-00"),e.startsWith(i.PERCENT)){if(a.match("[a-z]|[A-Z]")||a.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!n){a=this._stripToDecimal(a);const P=this.getPrecision(e);a=this.checkInputPrecision(a,P,this.decimalMarker)}const g="string"==typeof this.decimalMarker?this.decimalMarker:i.DOT;if(a.indexOf(g)>0&&!this.percentage(a.substring(0,a.indexOf(g)))){let P=a.substring(0,a.indexOf(g)-1);this.allowNegativeNumbers&&a.slice(l,l+1)===i.MINUS&&!n&&(P=a.substring(0,a.indexOf(g))),a=`${P}${a.substring(a.indexOf(g),a.length)}`}let d="";d=this.allowNegativeNumbers&&a.slice(l,l+1)===i.MINUS?`${i.MINUS}${a.slice(l+1,l+a.length)}`:a,h=this.percentage(d)?this._splitPercentZero(a):this._splitPercentZero(a.substring(0,a.length-1))}else if(e.startsWith(i.SEPARATOR)){(a.match("[w\u0430-\u044f\u0410-\u042f]")||a.match("[\u0401\u0451\u0410-\u044f]")||a.match("[a-z]|[A-Z]")||a.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||a.match("[^A-Za-z0-9,]"))&&(a=this._stripToDecimal(a));const g=this.getPrecision(e);let d=this.decimalMarker;if(Array.isArray(this.decimalMarker)&&(d=this.actualValue.includes(this.decimalMarker[0])||this.actualValue.includes(this.decimalMarker[1])?this.actualValue.includes(this.decimalMarker[0])?this.decimalMarker[0]:this.decimalMarker[1]:this.decimalMarker.find(k=>k!==this.thousandSeparator)),n){const{decimalMarkerIndex:k,nonZeroIndex:C}=this._findFirstNonZeroAndDecimalIndex(a,d),x=a[0]===i.MINUS;(a[0]===d&&!C||x&&a[1]===d&&!C||a[0]===i.NUMBER_ZERO&&!k&&!C)&&(a=i.NUMBER_ZERO),k&&C&&x&&1===_&&(k<C||k>C)&&(a=i.MINUS+a.slice(C)),!k&&C&&a.length>C&&(a=x?i.MINUS+a.slice(C):a.slice(C)),k&&C&&0===_&&(k<C&&(a=a.slice(k-1)),k>C&&(a=a.slice(C)))}0===g?a=this.allowNegativeNumbers?a.length>2&&a[0]===i.MINUS&&a[1]===i.NUMBER_ZERO&&a[2]!==this.thousandSeparator&&a[2]!==i.COMMA&&a[2]!==i.DOT?"-"+a.slice(2,a.length):a[0]===i.NUMBER_ZERO&&a.length>1&&a[1]!==this.thousandSeparator&&a[1]!==i.COMMA&&a[1]!==i.DOT?a.slice(1,a.length):a:a.length>1&&a[0]===i.NUMBER_ZERO&&a[1]!==this.thousandSeparator&&a[1]!==i.COMMA&&a[1]!==i.DOT?a.slice(1,a.length):a:(a[0]===d&&a.length>1&&!n&&(a=i.NUMBER_ZERO+a.slice(0,a.length+1),this.plusOnePosition=!0),a[0]===i.NUMBER_ZERO&&a[1]!==d&&a[1]!==this.thousandSeparator&&!n&&(a=a.length>1?a.slice(0,1)+d+a.slice(1,a.length+1):a,this.plusOnePosition=!0),this.allowNegativeNumbers&&!n&&a[0]===i.MINUS&&(a[1]===d||a[1]===i.NUMBER_ZERO)&&(a=a[1]===d&&a.length>2?a.slice(0,1)+i.NUMBER_ZERO+a.slice(1,a.length):a[1]===i.NUMBER_ZERO&&a.length>2&&a[2]!==d?a.slice(0,2)+d+a.slice(2,a.length):a,this.plusOnePosition=!0));const P=this._charToRegExpExpression(this.thousandSeparator);let T='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(P,"");if(Array.isArray(this.decimalMarker))for(const k of this.decimalMarker)T=T.replace(this._charToRegExpExpression(k),i.EMPTY_STRING);else T=T.replace(this._charToRegExpExpression(this.decimalMarker),"");const Y=new RegExp("["+T+"]");a.match(Y)&&(a=a.substring(0,a.length-1)),a=this.checkInputPrecision(a,g,this.decimalMarker);const w=a.replace(new RegExp(P,"g"),"");h=this._formatWithSeparators(w,this.thousandSeparator,this.decimalMarker,g);const re=h.indexOf(i.COMMA)-a.indexOf(i.COMMA),I=h.length-a.length;if((h[_-1]===this.thousandSeparator||h[_-this.prefix.length])&&this.prefix&&n)_-=1;else if(I>0&&h[_]!==this.thousandSeparator||n&&h.length<t.length-this.suffix.length&&this.separatorLimit){f=!0;let k=0;do{this._shift.add(_+k),k++}while(k<I)}else h[_-1]===this.thousandSeparator||-4===I||-3===I||h[_]===this.thousandSeparator?(this._shift.clear(),this._shift.add(_-1)):0!==re&&_>0&&!(h.indexOf(i.COMMA)>=_&&_>3)||!(h.indexOf(i.DOT)>=_&&_>3)&&I<=0?(this._shift.clear(),f=!0,S=I,_+=I,this._shift.add(_)):this._shift.clear()}else for(let g=0,d=N[0];g<N.length&&l!==e.length;g++,d=N[g]??i.EMPTY_STRING){const P=i.SYMBOL_STAR in this.patterns;if(this._checkSymbolMask(d,e[l]??i.EMPTY_STRING)&&e[l+1]===i.SYMBOL_QUESTION)h+=d,l+=2;else if(e[l+1]===i.SYMBOL_STAR&&m&&this._checkSymbolMask(d,e[l+2]??i.EMPTY_STRING))h+=d,l+=3,m=!1;else if(this._checkSymbolMask(d,e[l]??i.EMPTY_STRING)&&e[l+1]===i.SYMBOL_STAR&&!P)h+=d,m=!0;else if(e[l+1]===i.SYMBOL_QUESTION&&this._checkSymbolMask(d,e[l+2]??i.EMPTY_STRING))h+=d,l+=3;else if(this._checkSymbolMask(d,e[l]??i.EMPTY_STRING)){if(e[l]===i.HOURS&&(this.apm?Number(d)>9:Number(d)>2)){_=this.leadZeroDateTime?_:_+1,l+=1,this._shiftStep(l),g--,this.leadZeroDateTime&&(h+="0");continue}if(e[l]===i.HOUR&&(this.apm?1===h.length&&Number(h)>1||"1"===h&&Number(d)>2||1===a.slice(l-1,l).length&&Number(a.slice(l-1,l))>2||"1"===a.slice(l-1,l)&&Number(d)>2:"2"===h&&Number(d)>3||("2"===h.slice(l-2,l)||"2"===h.slice(l-3,l)||"2"===h.slice(l-4,l)||"2"===h.slice(l-1,l))&&Number(d)>3&&l>10)){_+=1,l+=1,g--;continue}if((e[l]===i.MINUTE||e[l]===i.SECOND)&&Number(d)>5){_=this.leadZeroDateTime?_:_+1,l+=1,this._shiftStep(l),g--,this.leadZeroDateTime&&(h+="0");continue}const T=31,Y=a[l],w=a[l+1],re=a[l+2],I=a[l-1],z=a[l-2],k=a.slice(l-3,l-1),C=a.slice(l-1,l+1),x=a.slice(l,l+2),J=a.slice(l-2,l);if(e[l]===i.DAY){const q=e.slice(0,2)===i.MONTHS,Z=e.slice(0,2)===i.MONTHS&&this.specialCharacters.includes(z);if(Number(d)>3&&this.leadZeroDateTime||!q&&(Number(x)>T||Number(C)>T||this.specialCharacters.includes(w))||(Z?Number(C)>T||!this.specialCharacters.includes(Y)&&this.specialCharacters.includes(re)||this.specialCharacters.includes(Y):Number(x)>T||this.specialCharacters.includes(w)&&!n)){_=this.leadZeroDateTime?_:_+1,l+=1,this._shiftStep(l),g--,this.leadZeroDateTime&&(h+="0");continue}}if(e[l]===i.MONTH){const Z=0===l&&(Number(d)>2||Number(x)>12||this.specialCharacters.includes(w)&&!n),oe=e.slice(l+2,l+3),ce=k.includes(oe)&&e.includes("d0")&&(this.specialCharacters.includes(z)&&Number(C)>12&&!this.specialCharacters.includes(Y)||this.specialCharacters.includes(Y)),he=Number(k)<=T&&!this.specialCharacters.includes(k)&&this.specialCharacters.includes(I)&&(Number(x)>12||this.specialCharacters.includes(w)),ue=Number(x)>12&&5===l||this.specialCharacters.includes(w)&&5===l,pe=Number(k)>T&&!this.specialCharacters.includes(k)&&!this.specialCharacters.includes(J)&&Number(J)>12&&e.includes("d0"),de=Number(k)<=T&&!this.specialCharacters.includes(k)&&!this.specialCharacters.includes(I)&&Number(C)>12;if(Number(d)>1&&this.leadZeroDateTime||Z||ce||de||pe||he||ue&&!this.leadZeroDateTime){_=this.leadZeroDateTime?_:_+1,l+=1,this._shiftStep(l),g--,this.leadZeroDateTime&&(h+="0");continue}}h+=d,l++}else this.specialCharacters.includes(d)&&e[l]===d?(h+=d,l++):-1!==this.specialCharacters.indexOf(e[l]??i.EMPTY_STRING)?(h+=e[l],l++,this._shiftStep(l),g--):e[l]===i.NUMBER_NINE&&this.showMaskTyped?this._shiftStep(l):this.patterns[e[l]??i.EMPTY_STRING]&&this.patterns[e[l]??i.EMPTY_STRING]?.optional?(N[l]&&"099.099.099.099"!==e&&"000.000.000-00"!==e&&"00.000.000/0000-00"!==e&&!e.match(/^9+\.0+$/)&&!this.patterns[e[l]??i.EMPTY_STRING]?.optional&&(h+=N[l]),e.includes(i.NUMBER_NINE+i.SYMBOL_STAR)&&e.includes(i.NUMBER_ZERO+i.SYMBOL_STAR)&&l++,l++,g--):this.maskExpression[l+1]===i.SYMBOL_STAR&&this._findSpecialChar(this.maskExpression[l+2]??i.EMPTY_STRING)&&this._findSpecialChar(d)===this.maskExpression[l+2]&&m||this.maskExpression[l+1]===i.SYMBOL_QUESTION&&this._findSpecialChar(this.maskExpression[l+2]??i.EMPTY_STRING)&&this._findSpecialChar(d)===this.maskExpression[l+2]&&m?(l+=3,h+=d):this.showMaskTyped&&this.specialCharacters.indexOf(d)<0&&d!==this.placeHolderCharacter&&1===this.placeHolderCharacter.length&&(E=!0)}h[_-1]&&h.length+1===e.length&&-1!==this.specialCharacters.indexOf(e[e.length-1]??i.EMPTY_STRING)&&(h+=e[e.length-1]);let U=_+1;for(;this._shift.has(U);)S++,U++;let B=r&&!e.startsWith(i.SEPARATOR)?l:this._shift.has(_)?S:0;E&&B--,p(B,f),S<0&&this._shift.clear();let j=!1;n&&(j=N.every(g=>this.specialCharacters.includes(g)));let F=`${this.prefix}${j?i.EMPTY_STRING:h}${this.showMaskTyped?"":this.suffix}`;0===h.length&&(F=this.instantPrefix?`${this.prefix}${h}`:`${h}`);const Q=1===a.length&&this.specialCharacters.includes(e[0])&&a!==e[0];if(!this._checkSymbolMask(a,e[1])&&Q)return"";if(h.includes(i.MINUS)&&this.prefix&&this.allowNegativeNumbers){if(n&&h===i.MINUS)return"";F=`${i.MINUS}${this.prefix}${h.split(i.MINUS).join(i.EMPTY_STRING)}${this.suffix}`}return F}_findDropSpecialChar(t){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(e=>e===t):this._findSpecialChar(t)}_findSpecialChar(t){return this.specialCharacters.find(e=>e===t)}_checkSymbolMask(t,e){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[e]?.pattern&&this.patterns[e]?.pattern.test(t))??!1}_formatWithSeparators=(t,e,s,r)=>{let n=[],p="";if(Array.isArray(s)){const S=new RegExp(s.map(E=>"[\\^$.|?*+()".indexOf(E)>=0?`\\${E}`:E).join("|"));n=t.split(S),p=t.match(S)?.[0]??i.EMPTY_STRING}else n=t.split(s),p=s;const l=n.length>1?`${p}${n[1]}`:i.EMPTY_STRING;let h=n[0]??i.EMPTY_STRING;const m=this.separatorLimit.replace(/\s/g,i.EMPTY_STRING);m&&+m&&(h=h[0]===i.MINUS?`-${h.slice(1,h.length).slice(0,m.length)}`:h.slice(0,m.length));const f=/(\d+)(\d{3})/;for(;e&&f.test(h);)h=h.replace(f,"$1"+e+"$2");return typeof r>"u"?h+l:0===r?h:h+l.substring(0,r+1)};percentage=t=>{const e=t.replace(",","."),s=Number(this.allowNegativeNumbers&&t.includes(i.MINUS)?e.slice(1,t.length):e);return!isNaN(s)&&s>=0&&s<=100};getPrecision=t=>{const e=t.split(i.DOT);return e.length>1?Number(e[e.length-1]):1/0};checkAndRemoveSuffix=t=>{for(let e=this.suffix?.length-1;e>=0;e--){const s=this.suffix.substring(e,this.suffix?.length);if(t.includes(s)&&e!==this.suffix?.length-1&&(e-1<0||!t.includes(this.suffix.substring(e-1,this.suffix?.length))))return t.replace(s,i.EMPTY_STRING)}return t};checkInputPrecision=(t,e,s)=>{let r=t,n=s;if(e<1/0){if(Array.isArray(n)){const m=n.find(f=>f!==this.thousandSeparator);n=m||n[0]}const p=new RegExp(this._charToRegExpExpression(n)+`\\d{${e}}.*$`),l=r.match(p),h=(l&&l[0]?.length)??0;h-1>e&&(r=r.substring(0,r.length-(h-1-e))),0===e&&this._compareOrIncludes(r[r.length-1],n,this.thousandSeparator)&&(r=r.substring(0,r.length-1))}return r};_stripToDecimal(t){return t.split(i.EMPTY_STRING).filter((e,s)=>{const r="string"==typeof this.decimalMarker?e===this.decimalMarker:this.decimalMarker.includes(e);return e.match("^-?\\d")||e===this.thousandSeparator||r||e===i.MINUS&&0===s&&this.allowNegativeNumbers}).join(i.EMPTY_STRING)}_charToRegExpExpression(t){return t&&(" "===t?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t)}_shiftStep(t){this._shift.add(t+this.prefix.length||0)}_compareOrIncludes(t,e,s){return Array.isArray(e)?e.filter(r=>r!==s).includes(t):t===e}_validIP(t){return!(4===t.length&&!t.some((e,s)=>t.length!==s+1?e===i.EMPTY_STRING||Number(e)>255:e===i.EMPTY_STRING||Number(e.substring(0,3))>255))}_splitPercentZero(t){if(t===i.MINUS&&this.allowNegativeNumbers)return t;const e=t.indexOf("string"==typeof this.decimalMarker?this.decimalMarker:i.DOT),s=this.allowNegativeNumbers&&t.includes(i.MINUS)?"-":"";if(-1===e){const r=parseInt(s?t.slice(1,t.length):t,10);return isNaN(r)?i.EMPTY_STRING:`${s}${r}`}{const r=parseInt(t.replace("-","").substring(0,e),10),n=t.substring(e+1),p=isNaN(r)?"":r.toString();return p===i.EMPTY_STRING?i.EMPTY_STRING:`${s}${p}${"string"==typeof this.decimalMarker?this.decimalMarker:i.DOT}${n}`}}_findFirstNonZeroAndDecimalIndex(t,e){let s=null,r=null;for(let n=0;n<t.length;n++){const p=t[n];if(p===e&&null===s&&(s=n),p&&p>="1"&&p<="9"&&null===r&&(r=n),null!==s&&null!==r)break}return{decimalMarkerIndex:s,nonZeroIndex:r}}static \u0275fac=function(e){return new(e||c)};static \u0275prov=u.jDH({token:c,factory:c.\u0275fac})}return c})(),L=(()=>{class c extends te{isNumberValue=!1;maskIsShown="";selStart=null;selEnd=null;maskChanged=!1;maskExpressionArray=[];previousValue="";currentValue="";writingValue=!1;isInitialized=!1;_emitValue=!1;_start;_end;onChange=t=>{};_elementRef=(0,u.WQX)(u.aKT,{optional:!0});document=(0,u.WQX)(V.qQ);_config=(0,u.WQX)(A);_renderer=(0,u.WQX)(u.sFG,{optional:!0});applyMask(t,e,s=0,r=!1,n=!1,p=(()=>{})){if(!e)return t!==this.actualValue?this.actualValue:t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():i.EMPTY_STRING,this.maskExpression===i.IP&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||i.HASH)),this.maskExpression===i.CPF_CNPJ&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||i.HASH)),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;const l=t&&"number"==typeof this.selStart?t[this.selStart]??i.EMPTY_STRING:i.EMPTY_STRING;let h="",m=s;if((this.hiddenInput||t&&t.indexOf(i.SYMBOL_STAR)>=0)&&!this.writingValue){let a=t&&1===t.length?t.split(i.EMPTY_STRING):this.actualValue.split(i.EMPTY_STRING);n&&(a=a.slice(0,s).concat(a.slice(s+1))),this.showMaskTyped&&(t=this.removeMask(t),a=this.removeMask(a.join("")).split(i.EMPTY_STRING)),"object"==typeof this.selStart&&"object"==typeof this.selEnd?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):t!==i.EMPTY_STRING&&a.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(t.length>a.length?a.splice(this.selStart,0,l):t.length<a.length&&(a.length-t.length==1?a.splice(n?this.selStart-1:t.length-1,1):a.splice(this.selStart,this.selEnd-this.selStart))):a=[],this.showMaskTyped&&!this.hiddenInput&&(h=this.removeMask(t)),h=this.actualValue.length?a.length<t.length?this.shiftTypedSymbols(a.join(i.EMPTY_STRING)):a.length===t.length?a.join(i.EMPTY_STRING):t:t}if(r&&(this.hiddenInput||!this.hiddenInput)&&(h=t),n&&-1!==this.specialCharacters.indexOf(this.maskExpression[m]??i.EMPTY_STRING)&&this.showMaskTyped&&!this.prefix&&(h=this.currentValue),this.deletedSpecialCharacter&&m&&(this.specialCharacters.includes(this.actualValue.slice(m,m+1))?m+=1:e.slice(m-1,m+1)!==i.MONTHS&&(m-=2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&1===this.placeHolderCharacter.length&&!this.leadZeroDateTime&&(h=this.removeMask(h)),h=this.maskChanged?t:h&&h.length?h:t,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!r&&!this.writingValue){const a=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(a),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}const f=super.applyMask(h,e,m,r,n,p);if(this.actualValue=this.getActualValue(f),this.thousandSeparator===i.DOT&&this.decimalMarker===i.DOT&&(this.decimalMarker=i.COMMA),this.maskExpression.startsWith(i.SEPARATOR)&&!0===this.dropSpecialCharacters&&(this.specialCharacters=this.specialCharacters.filter(a=>!this._compareOrIncludes(a,this.decimalMarker,this.thousandSeparator))),(f||""===f)&&(this.previousValue=this.currentValue,this.currentValue=f,this._emitValue=this.previousValue!==this.currentValue||this.previousValue===this.currentValue&&r),this._emitValue&&this.formControlResult(f),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?`${this.hideInput(f,this.maskExpression)}${this.maskIsShown.slice(f.length)}`:f;const S=f.length,E=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes(i.HOURS)){const a=this._numberSkipedSymbols(f);return`${f}${E.slice(S+a)}`}return this.maskExpression===i.IP||this.maskExpression===i.CPF_CNPJ?`${f}${E}`:`${f}${E.slice(S)}`}_numberSkipedSymbols(t){const e=/(^|\D)(\d\D)/g;let s=e.exec(t),r=0;for(;null!=s;)r+=1,s=e.exec(t);return r}applyValueChanges(t,e,s,r=(()=>{})){const n=this._elementRef?.nativeElement;n&&(n.value=this.applyMask(n.value,this.maskExpression,t,e,s,r),n!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(t,e){return t.split(i.EMPTY_STRING).map((s,r)=>this.patterns&&this.patterns[e[r]??i.EMPTY_STRING]&&this.patterns[e[r]??i.EMPTY_STRING]?.symbol?this.patterns[e[r]??i.EMPTY_STRING]?.symbol:s).join(i.EMPTY_STRING)}getActualValue(t){const e=t.split(i.EMPTY_STRING).filter((s,r)=>{const n=this.maskExpression[r]??i.EMPTY_STRING;return this._checkSymbolMask(s,n)||this.specialCharacters.includes(n)&&s===n});return e.join(i.EMPTY_STRING)===t?e.join(i.EMPTY_STRING):t}shiftTypedSymbols(t){let e="";return(t&&t.split(i.EMPTY_STRING).map((r,n)=>{if(this.specialCharacters.includes(t[n+1]??i.EMPTY_STRING)&&t[n+1]!==this.maskExpression[n+1])return e=r,t[n+1];if(e.length){const p=e;return e=i.EMPTY_STRING,p}return r})||[]).join(i.EMPTY_STRING)}numberToString(t){return!t&&0!==t||this.maskExpression.startsWith(i.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith(i.SEPARATOR)&&this.separatorLimit.length>14&&String(t).length>14?String(t):Number(t).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace(`/${i.MINUS}/`,i.MINUS)}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(t){if(this.maskExpression===i.IP)return this._checkForIp(t);if(this.maskExpression===i.CPF_CNPJ)return this._checkForCpfCnpj(t)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const t=this._elementRef?.nativeElement;t&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==t.value.replace(this.placeHolderCharacter,i.EMPTY_STRING).length&&(this.formElementProperty=["value",i.EMPTY_STRING],this.applyMask("",this.maskExpression))}set formElementProperty([t,e]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,t,e))}checkDropSpecialCharAmount(t){return t.split(i.EMPTY_STRING).filter(s=>this._findDropSpecialChar(s)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){if(t===i.HASH)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const e=[];for(let s=0;s<t.length;s++){const r=t[s]??i.EMPTY_STRING;r&&r.match("\\d")&&e.push(r)}return e.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:e.length>3&&e.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:e.length>6&&e.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(t){const e=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,s=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(t===i.HASH)return e;const r=[];for(let n=0;n<t.length;n++){const p=t[n]??i.EMPTY_STRING;p&&p.match("\\d")&&r.push(p)}return r.length<=3?e.slice(r.length,e.length):r.length>3&&r.length<=6?e.slice(r.length+1,e.length):r.length>6&&r.length<=9?e.slice(r.length+2,e.length):r.length>9&&r.length<11?e.slice(r.length+3,e.length):11===r.length?"":12===r.length?s.slice(17===t.length?16:15,s.length):r.length>12&&r.length<=14?s.slice(r.length+4,s.length):""}_getActiveElement(t=this.document){const e=t?.activeElement?.shadowRoot;return e?.activeElement?this._getActiveElement(e):t.activeElement}formControlResult(t){const e=this.outputTransformFn?this.outputTransformFn:s=>s;this.writingValue=!1,this.maskChanged=!1,(this.isInitialized||!this._emitValue)&&(Array.isArray(this.dropSpecialCharacters)?this.onChange(e(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters))))):this.onChange(e(this._toNumber(this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===t?this._checkSymbols(this._removeSuffix(this._removePrefix(t))):t))))}_toNumber(t){if(!this.isNumberValue||t===i.EMPTY_STRING||this.maskExpression.startsWith(i.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters))return t;if(String(t).length>14&&this.maskExpression.startsWith(i.SEPARATOR))return String(t);const e=Number(t);if(this.maskExpression.startsWith(i.SEPARATOR)&&Number.isNaN(e)){const s=String(t).replace(",",".");return Number(s)}return Number.isNaN(e)?t:e}_removeMask(t,e){return this.maskExpression.startsWith(i.PERCENT)&&t.includes(i.DOT)?t:t&&t.replace(this._regExpForRemove(e),i.EMPTY_STRING)}_removePrefix(t){return this.prefix?t&&t.replace(this.prefix,i.EMPTY_STRING):t}_removeSuffix(t){return this.suffix?t&&t.replace(this.suffix,i.EMPTY_STRING):t}_retrieveSeparatorValue(t){let e=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(s=>this.dropSpecialCharacters.includes(s)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&t.includes(i.WHITE_SPACE)&&this.maskExpression.includes(i.SYMBOL_STAR)&&(e=e.filter(s=>s!==i.WHITE_SPACE)),this._removeMask(t,e)}_regExpForRemove(t){return new RegExp(t.map(e=>`\\${e}`).join("|"),"gi")}_replaceDecimalMarkerToDot(t){const e=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return t.replace(this._regExpForRemove(e),i.DOT)}_checkSymbols(t){let e=t;if(e===i.EMPTY_STRING)return e;this.maskExpression.startsWith(i.PERCENT)&&this.decimalMarker===i.COMMA&&(e=e.replace(i.COMMA,i.DOT));const s=this._retrieveSeparatorPrecision(this.maskExpression),r=0===this.specialCharacters.length?this._retrieveSeparatorValue(e):this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(e));return this.isNumberValue&&s?e===this.decimalMarker?null:r.length>14?String(r):this._checkPrecision(this.maskExpression,r):r}_checkPatternForSpace(){for(const t in this.patterns)if(this.patterns[t]&&this.patterns[t]?.hasOwnProperty("pattern")){const e=this.patterns[t]?.pattern.toString(),s=this.patterns[t]?.pattern;if(e?.includes(i.WHITE_SPACE)&&s?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(t){const e=t.match(new RegExp("^separator\\.([^d]*)"));return e?Number(e[1]):null}_checkPrecision(t,e){const s=this.getPrecision(t);let r=e;return t.indexOf("2")>0||this.leadZero&&Number(s)>0&&Number.isFinite(s)?(this.decimalMarker===i.COMMA&&this.leadZero&&(r=r.replace(",",".")),this.leadZero?Number(r).toFixed(Number(s)):Number(r).toFixed(2)):this.numberToString(r)}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split(i.EMPTY_STRING).reduce((e,s,r)=>{if(this._start=s===i.CURLY_BRACKETS_LEFT?r:this._start,s!==i.CURLY_BRACKETS_RIGHT)return this._findSpecialChar(s)?e+s:e;this._end=r;const n=Number(t.slice(this._start+1,this._end)),p=new Array(n+1).join(t[this._start-1]);if(t.slice(0,this._start).length>1&&t.includes(i.LETTER_S)){const l=t.slice(0,this._start-1);return l.includes(i.CURLY_BRACKETS_LEFT)?e+p:l+e+p}return e+p},"")||t}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static \u0275fac=(()=>{let t;return function(s){return(t||(t=u.xGo(c)))(s||c)}})();static \u0275prov=u.jDH({token:c,factory:c.\u0275fac})}return c})();function ie(){const c=(0,u.WQX)(K),v=(0,u.WQX)(R);return v instanceof Function?{...c,...v()}:{...c,...v}}function X(c){return[{provide:R,useValue:c},{provide:K,useValue:W},{provide:A,useFactory:ie},L]}let se=(()=>{class c{mask=(0,u.hFB)("");specialCharacters=(0,u.hFB)([]);patterns=(0,u.hFB)({});prefix=(0,u.hFB)("");suffix=(0,u.hFB)("");thousandSeparator=(0,u.hFB)(" ");decimalMarker=(0,u.hFB)(".");dropSpecialCharacters=(0,u.hFB)(null);hiddenInput=(0,u.hFB)(null);showMaskTyped=(0,u.hFB)(null);placeHolderCharacter=(0,u.hFB)(null);shownMaskExpression=(0,u.hFB)(null);clearIfNotMatch=(0,u.hFB)(null);validation=(0,u.hFB)(null);separatorLimit=(0,u.hFB)("");allowNegativeNumbers=(0,u.hFB)(null);leadZeroDateTime=(0,u.hFB)(null);leadZero=(0,u.hFB)(null);triggerOnMaskChange=(0,u.hFB)(null);apm=(0,u.hFB)(null);inputTransformFn=(0,u.hFB)(null);outputTransformFn=(0,u.hFB)(null);keepCharacterPositions=(0,u.hFB)(null);instantPrefix=(0,u.hFB)(null);maskFilled=(0,u.CGW)();_maskValue=(0,u.vPA)("");_inputValue=(0,u.vPA)("");_position=(0,u.vPA)(null);_code=(0,u.vPA)("");_maskExpressionArray=(0,u.vPA)([]);_justPasted=(0,u.vPA)(!1);_isFocused=(0,u.vPA)(!1);_isComposing=(0,u.vPA)(!1);_maskService=(0,u.WQX)(L,{self:!0});document=(0,u.WQX)(V.qQ);_config=(0,u.WQX)(A);onChange=t=>{};onTouch=()=>{};ngOnChanges(t){const{mask:e,specialCharacters:s,patterns:r,prefix:n,suffix:p,thousandSeparator:l,decimalMarker:h,dropSpecialCharacters:m,hiddenInput:f,showMaskTyped:S,placeHolderCharacter:E,shownMaskExpression:a,clearIfNotMatch:_,validation:y,separatorLimit:O,allowNegativeNumbers:D,leadZeroDateTime:N,leadZero:b,triggerOnMaskChange:U,apm:B,inputTransformFn:j,outputTransformFn:F,keepCharacterPositions:Q,instantPrefix:g}=t;if(e&&(e.currentValue!==e.previousValue&&!e.firstChange&&(this._maskService.maskChanged=!0),e.currentValue&&e.currentValue.split(i.OR).length>1?(this._maskExpressionArray.set(e.currentValue.split(i.OR).sort((d,P)=>d.length-P.length)),this._setMask()):(this._maskExpressionArray.set([]),this._maskValue.set(e.currentValue||i.EMPTY_STRING),this._maskService.maskExpression=this._maskValue())),s){if(!s.currentValue||!Array.isArray(s.currentValue))return;this._maskService.specialCharacters=s.currentValue||[]}if(D&&(this._maskService.allowNegativeNumbers=D.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter(d=>d!==i.MINUS))),r&&r.currentValue&&(this._maskService.patterns=r.currentValue),B&&B.currentValue&&(this._maskService.apm=B.currentValue),g&&(this._maskService.instantPrefix=g.currentValue),n&&(this._maskService.prefix=n.currentValue),p&&(this._maskService.suffix=p.currentValue),l&&(this._maskService.thousandSeparator=l.currentValue,l.previousValue&&l.currentValue)){const d=this._maskService.decimalMarker;l.currentValue===this._maskService.decimalMarker&&(this._maskService.decimalMarker=l.currentValue===i.COMMA?i.DOT:i.COMMA),!0===this._maskService.dropSpecialCharacters&&(this._maskService.specialCharacters=this._config.specialCharacters),"string"==typeof d&&"string"==typeof this._maskService.decimalMarker&&(this._inputValue.set(this._inputValue().split(l.previousValue).join("").replace(d,this._maskService.decimalMarker)),this._maskService.actualValue=this._inputValue()),this._maskService.writingValue=!0}h&&(this._maskService.decimalMarker=h.currentValue),m&&(this._maskService.dropSpecialCharacters=m.currentValue),f&&(this._maskService.hiddenInput=f.currentValue,!0===f.previousValue&&!1===f.currentValue&&this._inputValue.set(this._maskService.actualValue)),S&&(this._maskService.showMaskTyped=S.currentValue,!1===S.previousValue&&!0===S.currentValue&&this._isFocused()&&requestAnimationFrame(()=>{this._maskService._elementRef?.nativeElement.click()})),E&&(this._maskService.placeHolderCharacter=E.currentValue),a&&(this._maskService.shownMaskExpression=a.currentValue),_&&(this._maskService.clearIfNotMatch=_.currentValue),y&&(this._maskService.validation=y.currentValue),O&&(this._maskService.separatorLimit=O.currentValue),N&&(this._maskService.leadZeroDateTime=N.currentValue),b&&(this._maskService.leadZero=b.currentValue),U&&(this._maskService.triggerOnMaskChange=U.currentValue),j&&(this._maskService.inputTransformFn=j.currentValue),F&&(this._maskService.outputTransformFn=F.currentValue),Q&&(this._maskService.keepCharacterPositions=Q.currentValue),this._applyMask()}validate({value:t}){const e="number"==typeof t?String(t):t,s=this._maskValue();if(!this._maskService.validation||!s)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskService.cpfCnpjError)return this._createValidationError(e);if(s.startsWith(i.SEPARATOR)||ee.includes(s)||this._maskService.clearIfNotMatch)return null;if(G.includes(s))return this._validateTime(e);if(s===i.EMAIL_MASK)return!/^[^@]+@[^@]+\.[^@]+$/.test(e)&&e?this._createValidationError(e):null;if(e&&e.length>=1){let r=0;if(s.includes(i.CURLY_BRACKETS_LEFT)&&s.includes(i.CURLY_BRACKETS_RIGHT))return s.slice(s.indexOf(i.CURLY_BRACKETS_LEFT)+1,s.indexOf(i.CURLY_BRACKETS_RIGHT))===String(e.length)?null:this._createValidationError(e);if(s.startsWith(i.PERCENT))return null;for(const n in this._maskService.patterns)if(this._maskService.patterns[n]?.optional&&(s.indexOf(n)!==s.lastIndexOf(n)?r+=s.split(i.EMPTY_STRING).filter(l=>l===n).join(i.EMPTY_STRING).length:-1!==s.indexOf(n)&&r++,-1!==s.indexOf(n)&&e.length>=s.indexOf(n)||r===s.length))return null;if(s.indexOf(i.SYMBOL_STAR)>1&&e.length<s.indexOf(i.SYMBOL_STAR)||s.indexOf(i.SYMBOL_QUESTION)>1&&e.length<s.indexOf(i.SYMBOL_QUESTION))return this._createValidationError(e);if(-1===s.indexOf(i.SYMBOL_STAR)||-1===s.indexOf(i.SYMBOL_QUESTION)){const n=s.split("*"),p=this._maskService.dropSpecialCharacters?s.length-this._maskService.checkDropSpecialCharAmount(s)-r:this.prefix()?s.length+this.prefix().length-r:s.length-r;if(1===n.length&&e.length<p)return this._createValidationError(e);if(n.length>1){const l=n[n.length-1];if(l&&this._maskService.specialCharacters.includes(l[0])&&String(e).includes(l[0]??"")&&!this.dropSpecialCharacters()){const h=t.split(l[0]);return h[h.length-1].length===l.length-1?null:this._createValidationError(e)}return(l&&!this._maskService.specialCharacters.includes(l[0])||!l||this._maskService.dropSpecialCharacters)&&e.length>=p-1?null:this._createValidationError(e)}}if(1===s.indexOf(i.SYMBOL_STAR)||1===s.indexOf(i.SYMBOL_QUESTION))return null}return t&&this.maskFilled.emit(),null}onPaste(){this._justPasted.set(!0)}onFocus(){this._isFocused.set(!0)}onModelChange(t){(t===i.EMPTY_STRING||null===t||typeof t>"u")&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(i.EMPTY_STRING))}onInput(t){if(this._maskService.isInitialized=!0,this._isComposing())return;const e=t.target,s=this._maskService.inputTransformFn?this._maskService.inputTransformFn(e.value):e.value;if("number"!==e.type)if("string"==typeof s||"number"==typeof s){if(e.value=s.toString(),this._inputValue.set(e.value),this._setMask(),!this._maskValue())return void this.onChange(e.value);let r=1===e.selectionStart?e.selectionStart+this._maskService.prefix.length:e.selectionStart;if(this.showMaskTyped()&&this.keepCharacterPositions()&&1===this._maskService.placeHolderCharacter.length){const h=this.suffix(),m=this.prefix(),f=e.value.slice(r-1,r),S=m.length,E=this._maskService._checkSymbolMask(f,this._maskService.maskExpression[r-1-S]??i.EMPTY_STRING),a=this._maskService._checkSymbolMask(f,this._maskService.maskExpression[r+1-S]??i.EMPTY_STRING),_=this._maskService.selStart===this._maskService.selEnd,y=Number(this._maskService.selStart)-S,O=Number(this._maskService.selEnd)-S,D=this._code()===i.BACKSPACE||this._code()===i.DELETE;if(D){if(_){if(!this._maskService.specialCharacters.includes(this._maskService.maskExpression.slice(r-S,r+1-S))&&_)if(1===y&&m)this._maskService.actualValue=`${m}${this._maskService.placeHolderCharacter}${e.value.split(m).join("").split(h).join("")}${h}`,r-=1;else{const N=e.value.substring(0,r),b=e.value.substring(r);this._maskService.actualValue=`${N}${this._maskService.placeHolderCharacter}${b}`}}else this._maskService.actualValue=this._maskService.selStart===S?`${m}${this._maskService.maskIsShown.slice(0,O)}${this._inputValue().split(m).join("")}`:this._maskService.selStart===this._maskService.maskIsShown.length+S?`${this._inputValue()}${this._maskService.maskIsShown.slice(y,O)}`:`${m}${this._inputValue().split(m).join("").slice(0,y)}${this._maskService.maskIsShown.slice(y,O)}${this._maskService.actualValue.slice(O+S,this._maskService.maskIsShown.length+S)}${h}`;r=this._code()===i.DELETE?r+1:r}D||(E||a||!_?this._maskService.specialCharacters.includes(e.value.slice(r,r+1))&&a&&!this._maskService.specialCharacters.includes(e.value.slice(r+1,r+2))?(this._maskService.actualValue=`${e.value.slice(0,r-1)}${e.value.slice(r,r+1)}${f}${e.value.slice(r+2)}`,r+=1):E?this._maskService.actualValue=1===e.value.length&&1===r?`${m}${f}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${h}`:`${e.value.slice(0,r-1)}${f}${e.value.slice(r+1).split(h).join("")}${h}`:m&&1===e.value.length&&r-S==1&&this._maskService._checkSymbolMask(e.value,this._maskService.maskExpression[r-1-S]??i.EMPTY_STRING)&&(this._maskService.actualValue=`${m}${e.value}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${h}`):r=Number(e.selectionStart)-1)}let n=0,p=!1;if(this._code()===i.DELETE&&i.SEPARATOR&&(this._maskService.deletedSpecialCharacter=!0),this._inputValue().length>=this._maskService.maskExpression.length-1&&this._code()!==i.BACKSPACE&&this._maskService.maskExpression===i.DAYS_MONTHS_YEARS&&r<10){const h=this._inputValue().slice(r-1,r);e.value=this._inputValue().slice(0,r-1)+h+this._inputValue().slice(r+1)}if(this._maskService.maskExpression===i.DAYS_MONTHS_YEARS&&this.leadZeroDateTime()&&(r<3&&Number(e.value)>31&&Number(e.value)<40||5===r&&Number(e.value.slice(3,5))>12)&&(r+=2),this._maskService.maskExpression===i.HOURS_MINUTES_SECONDS&&this.apm()&&(this._justPasted()&&e.value.slice(0,2)===i.DOUBLE_ZERO&&(e.value=e.value.slice(1,2)+e.value.slice(2,e.value.length)),e.value=e.value===i.DOUBLE_ZERO?i.NUMBER_ZERO:e.value),this._maskService.applyValueChanges(r,this._justPasted(),this._code()===i.BACKSPACE||this._code()===i.DELETE,(h,m)=>{this._justPasted.set(!1),n=h,p=m}),this._getActiveElement()!==e)return;if(this._maskService.plusOnePosition&&(r+=1,this._maskService.plusOnePosition=!1),this._maskExpressionArray().length)if(this._code()===i.BACKSPACE){const h=this.specialCharacters().includes(this._maskService.actualValue.slice(r-1,r)),m=this._maskService.removeMask(this._inputValue())?.length===this._maskService.removeMask(this._maskService.maskExpression)?.length,f=this.specialCharacters().includes(this._maskService.actualValue.slice(r,r+1));r=m&&!f?e.selectionStart+1:h?r-1:r}else r=1===e.selectionStart?e.selectionStart+this._maskService.prefix.length:e.selectionStart;this._position.set(1===this._position()&&1===this._inputValue().length?null:this._position());let l=this._position()?this._inputValue().length+r+n:r+(this._code()!==i.BACKSPACE||p?n:0);l>this._getActualInputLength()&&(l=e.value===this._maskService.decimalMarker&&1===e.value.length?this._getActualInputLength()+1:this._getActualInputLength()),l<0&&(l=0),e.setSelectionRange(l,l),this._position.set(null)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof s);else{if(!this._maskValue())return void this.onChange(e.value);this._maskService.applyValueChanges(e.value.length,this._justPasted(),this._code()===i.BACKSPACE||this._code()===i.DELETE)}}onCompositionStart(){this._isComposing.set(!0)}onCompositionEnd(t){this._isComposing.set(!1),this._justPasted.set(!0),this.onInput(t)}onBlur(t){if(this._maskValue()){const e=t.target;if(this._maskService.leadZero&&e.value.length>0&&"string"==typeof this._maskService.decimalMarker){const s=this._maskService.maskExpression,r=this._maskService.decimalMarker,n=this._maskService.suffix,p=Number(this._maskService.maskExpression.slice(s.length-1,s.length));if(p>0){e.value=n?e.value.split(n).join(""):e.value;const l=e.value.split(r)[1];e.value=e.value.includes(r)?e.value+i.NUMBER_ZERO.repeat(p-l.length)+n:e.value+r+i.NUMBER_ZERO.repeat(p)+n,this._maskService.actualValue=e.value}}this._maskService.clearIfNotMatchFn()}this._isFocused.set(!1),this.onTouch()}onClick(t){if(!this._maskValue())return;const e=t.target;null!==e&&null!==e.selectionStart&&e.selectionStart===e.selectionEnd&&e.selectionStart>this._maskService.prefix.length&&38!==t.keyCode&&this._maskService.showMaskTyped&&!this.keepCharacterPositions()&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),e.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===e.value?(e.focus(),e.setSelectionRange(0,0)):e.selectionStart>this._maskService.actualValue.length&&e.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const n=e&&(e.value===this._maskService.prefix?this._maskService.prefix+this._maskService.maskIsShown:e.value);if(e&&e.value!==n&&(e.value=n),e&&"number"!==e.type&&(e.selectionStart||e.selectionEnd)<=this._maskService.prefix.length){const p=this._maskService.maskExpression.match(new RegExp(`^[${this._maskService.specialCharacters.map(l=>`\\${l}`).join("")}]+`))?.[0].length||0;e.selectionStart=this._maskService.prefix.length+p}else e&&e.selectionEnd>this._getActualInputLength()&&(e.selectionEnd=this._getActualInputLength())}onKeyDown(t){if(!this._maskValue())return;if(this._isComposing())return void("Enter"===t.key&&this.onCompositionEnd(t));this._code.set(t.code?t.code:t.key);const e=t.target;this._inputValue.set(e.value),this._setMask();const s="textarea"===e.tagName.toLowerCase();if("number"!==e.type){if(t.key===i.ARROW_UP&&!s&&t.preventDefault(),t.key===i.ARROW_LEFT||t.key===i.BACKSPACE||t.key===i.DELETE){if(t.key===i.BACKSPACE&&0===e.value.length&&(e.selectionStart=e.selectionEnd),t.key===i.BACKSPACE&&0!==e.selectionStart){const n=this.prefix().length,p=this.specialCharacters().length?this.specialCharacters():this._config.specialCharacters;if(n>1&&e.selectionStart<=n)e.setSelectionRange(n,e.selectionEnd);else if(this._inputValue().length!==e.selectionStart&&1!==e.selectionStart)for(;p.includes((this._inputValue()[e.selectionStart-1]??i.EMPTY_STRING).toString())&&(n>=1&&e.selectionStart>n||0===n);)e.setSelectionRange(e.selectionStart-1,e.selectionEnd)}this.checkSelectionOnDeletion(e),this._maskService.prefix.length&&e.selectionStart<=this._maskService.prefix.length&&e.selectionEnd<=this._maskService.prefix.length&&t.preventDefault(),t.key===i.BACKSPACE&&!e.readOnly&&0===e.selectionStart&&e.selectionEnd===e.value.length&&0!==e.value.length&&(this._position.set(this._maskService.prefix?this._maskService.prefix.length:0),this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position()))}this.suffix()&&this.suffix().length>1&&this._inputValue().length-this.suffix().length<e.selectionStart?e.setSelectionRange(this._inputValue().length-this.suffix().length,this._inputValue().length):("KeyA"===t.code&&t.ctrlKey||"KeyA"===t.code&&t.metaKey)&&(e.setSelectionRange(0,this._getActualInputLength()),t.preventDefault()),this._maskService.selStart=e.selectionStart,this._maskService.selEnd=e.selectionEnd}}writeValue(t){var e=this;return(0,o.A)(function*(){let s=t;const r=e._maskService.inputTransformFn;if("object"==typeof s&&null!==s&&"value"in s&&("disable"in s&&e.setDisabledState(!!s.disable),s=s.value),null!==s&&(s=r?r(s):s),"string"==typeof s||"number"==typeof s||null===s||typeof s>"u"){(null===s||typeof s>"u"||""===s)&&(e._maskService.currentValue="",e._maskService.previousValue="");let n=s;if("number"==typeof n||e._maskValue().startsWith(i.SEPARATOR)){n=String(n);const p=e._maskService.currentLocaleDecimalMarker();Array.isArray(e._maskService.decimalMarker)||(n=e._maskService.decimalMarker!==p?n.replace(p,e._maskService.decimalMarker):n),e._maskService.leadZero&&n&&e.mask()&&!1!==e.dropSpecialCharacters()&&(n=e._maskService._checkPrecision(e._maskService.maskExpression,n)),(e._maskService.decimalMarker===i.COMMA||Array.isArray(e._maskService.decimalMarker)&&e._maskService.thousandSeparator===i.DOT)&&(n=n.toString().replace(i.DOT,i.COMMA)),e.mask()?.startsWith(i.SEPARATOR)&&e.leadZero()&&requestAnimationFrame(()=>{e._maskService.applyMask(n?.toString()??"",e._maskService.maskExpression)}),e._maskService.isNumberValue=!0}("string"!=typeof n||null===s||typeof s>"u")&&(n=""),e._inputValue.set(n),e._setMask(),n&&e._maskService.maskExpression||e._maskService.maskExpression&&(e._maskService.prefix||e._maskService.showMaskTyped)?(e._maskService.writingValue=!0,e._maskService.formElementProperty=["value",e._maskService.applyMask(n,e._maskService.maskExpression)],e._maskService.writingValue=!1,e._maskService.isInitialized=!0):(e._maskService.formElementProperty=["value",n],e._maskService.isInitialized=!0),e._inputValue.set(n)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof s)})()}registerOnChange(t){this._maskService.onChange=this.onChange=t}registerOnTouched(t){this.onTouch=t}_getActiveElement(t=this.document){const e=t?.activeElement?.shadowRoot;return e?.activeElement?this._getActiveElement(e):t.activeElement}checkSelectionOnDeletion(t){const e=this.prefix().length,s=this.suffix().length,r=this._inputValue().length;t.selectionStart=Math.min(Math.max(e,t.selectionStart),r-s),t.selectionEnd=Math.min(Math.max(e,t.selectionEnd),r-s)}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}_applyMask(){this._maskService.maskExpression=this._maskService._repeatPatternSymbols(this._maskValue()||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue(),this._maskService.maskExpression)]}_validateTime(t){const e=this._maskValue().split(i.EMPTY_STRING).filter(s=>":"!==s).length;return t&&(0==+(t[t.length-1]??-1)&&t.length<e||t.length<=e-2)?this._createValidationError(t):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(t){return{mask:{requiredMask:this._maskValue(),actualValue:t}}}_setMask(){this._maskExpressionArray().some(t=>{if(t.split(i.EMPTY_STRING).some(s=>this._maskService.specialCharacters.includes(s))&&this._inputValue()&&this._areAllCharactersInEachStringSame(this._maskExpressionArray())||t.includes(i.CURLY_BRACKETS_LEFT)){const s=this._maskService.removeMask(this._inputValue())?.length<=this._maskService.removeMask(t)?.length;if(s){const r=t.includes(i.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(t):t;return this._maskValue.set(r),this._maskService.maskExpression=r,s}{const r=this._maskExpressionArray()[this._maskExpressionArray().length-1]??i.EMPTY_STRING,n=r.includes(i.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(r):r;this._maskValue.set(n),this._maskService.maskExpression=n}}else{const s=this._maskService.removeMask(t),r=this._maskService.removeMask(this._inputValue())?.split(i.EMPTY_STRING).every((n,p)=>{const l=s.charAt(p);return this._maskService._checkSymbolMask(n,l)});if(r||this._justPasted())return this._maskValue.set(t),this._maskService.maskExpression=t,r}})}_areAllCharactersInEachStringSame(t){const e=this._maskService.specialCharacters;return t.map(function s(n){const p=new RegExp(`[${e.map(l=>`\\${l}`).join("")}]`,"g");return n.replace(p,"")}).every(n=>1===new Set(n).size)}static \u0275fac=function(e){return new(e||c)};static \u0275dir=u.FsC({type:c,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(e,s){1&e&&u.bIt("paste",function(){return s.onPaste()})("focus",function(n){return s.onFocus(n)})("ngModelChange",function(n){return s.onModelChange(n)})("input",function(n){return s.onInput(n)})("compositionstart",function(n){return s.onCompositionStart(n)})("compositionend",function(n){return s.onCompositionEnd(n)})("blur",function(n){return s.onBlur(n)})("click",function(n){return s.onClick(n)})("keydown",function(n){return s.onKeyDown(n)})},inputs:{mask:[u.Mj6.SignalBased,"mask"],specialCharacters:[u.Mj6.SignalBased,"specialCharacters"],patterns:[u.Mj6.SignalBased,"patterns"],prefix:[u.Mj6.SignalBased,"prefix"],suffix:[u.Mj6.SignalBased,"suffix"],thousandSeparator:[u.Mj6.SignalBased,"thousandSeparator"],decimalMarker:[u.Mj6.SignalBased,"decimalMarker"],dropSpecialCharacters:[u.Mj6.SignalBased,"dropSpecialCharacters"],hiddenInput:[u.Mj6.SignalBased,"hiddenInput"],showMaskTyped:[u.Mj6.SignalBased,"showMaskTyped"],placeHolderCharacter:[u.Mj6.SignalBased,"placeHolderCharacter"],shownMaskExpression:[u.Mj6.SignalBased,"shownMaskExpression"],clearIfNotMatch:[u.Mj6.SignalBased,"clearIfNotMatch"],validation:[u.Mj6.SignalBased,"validation"],separatorLimit:[u.Mj6.SignalBased,"separatorLimit"],allowNegativeNumbers:[u.Mj6.SignalBased,"allowNegativeNumbers"],leadZeroDateTime:[u.Mj6.SignalBased,"leadZeroDateTime"],leadZero:[u.Mj6.SignalBased,"leadZero"],triggerOnMaskChange:[u.Mj6.SignalBased,"triggerOnMaskChange"],apm:[u.Mj6.SignalBased,"apm"],inputTransformFn:[u.Mj6.SignalBased,"inputTransformFn"],outputTransformFn:[u.Mj6.SignalBased,"outputTransformFn"],keepCharacterPositions:[u.Mj6.SignalBased,"keepCharacterPositions"],instantPrefix:[u.Mj6.SignalBased,"instantPrefix"]},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],standalone:!0,features:[u.Jv_([{provide:$.kq,useExisting:c,multi:!0},{provide:$.cz,useExisting:c,multi:!0},L]),u.OA$]})}return c})()}}]);