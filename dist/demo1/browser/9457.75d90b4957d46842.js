"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[9457],{9457:(ko,H,g)=>{g.r(H),g.d(H,{AccountSettingsModule:()=>Po});var _=g(177),E=g(2791),X=g(4133),d=g(9417),w=g(4412),A=g(7673),rt=g(7468),st=g(3726),I=g(6354),ct=g(9172),lt=g(1584),dt=g(6697),pt=g(8032),G=g.n(pt),x=g(5098);const ut=[{text:"\u{1f1fa}\u{1f1f8} +1   United States",code:"+1",country:"US"},{text:"\u{1f1e8}\u{1f1e6} +1   Canada",code:"+1",country:"CA"},{text:"\u{1f1f7}\u{1f1fa} +7   Russia",code:"+7",country:"RU"},{text:"\u{1f1ea}\u{1f1ec} +20  Egypt",code:"+20",country:"EG"},{text:"\u{1f1ff}\u{1f1e6} +27  South Africa",code:"+27",country:"ZA"},{text:"\u{1f1ec}\u{1f1f7} +30  Greece",code:"+30",country:"GR"},{text:"\u{1f1f3}\u{1f1f1} +31  Netherlands",code:"+31",country:"NL"},{text:"\u{1f1e7}\u{1f1ea} +32  Belgium",code:"+32",country:"BE"},{text:"\u{1f1eb}\u{1f1f7} +33  France",code:"+33",country:"FR"},{text:"\u{1f1ea}\u{1f1f8} +34  Spain",code:"+34",country:"ES"},{text:"\u{1f1ed}\u{1f1fa} +36  Hungary",code:"+36",country:"HU"},{text:"\u{1f1ee}\u{1f1f9} +39  Italy",code:"+39",country:"IT"},{text:"\u{1f1f7}\u{1f1f4} +40  Romania",code:"+40",country:"RO"},{text:"\u{1f1e8}\u{1f1ed} +41  Switzerland",code:"+41",country:"CH"},{text:"\u{1f1e6}\u{1f1f9} +43  Austria",code:"+43",country:"AT"},{text:"\u{1f1ec}\u{1f1e7} +44  United Kingdom",code:"+44",country:"GB"},{text:"\u{1f1e9}\u{1f1f0} +45  Denmark",code:"+45",country:"DK"},{text:"\u{1f1f8}\u{1f1ea} +46  Sweden",code:"+46",country:"SE"},{text:"\u{1f1f3}\u{1f1f4} +47  Norway",code:"+47",country:"NO"},{text:"\u{1f1f5}\u{1f1f1} +48  Poland",code:"+48",country:"PL"},{text:"\u{1f1e9}\u{1f1ea} +49  Germany",code:"+49",country:"DE"},{text:"\u{1f1f5}\u{1f1ea} +51  Peru",code:"+51",country:"PE"},{text:"\u{1f1f2}\u{1f1fd} +52  Mexico",code:"+52",country:"MX"},{text:"\u{1f1e8}\u{1f1fa} +53  Cuba",code:"+53",country:"CU"},{text:"\u{1f1e6}\u{1f1f7} +54  Argentina",code:"+54",country:"AR"},{text:"\u{1f1e7}\u{1f1f7} +55  Brazil",code:"+55",country:"BR"},{text:"\u{1f1e8}\u{1f1f1} +56  Chile",code:"+56",country:"CL"},{text:"\u{1f1e8}\u{1f1f4} +57  Colombia",code:"+57",country:"CO"},{text:"\u{1f1fb}\u{1f1ea} +58  Venezuela",code:"+58",country:"VE"},{text:"\u{1f1f2}\u{1f1fe} +60  Malaysia",code:"+60",country:"MY"},{text:"\u{1f1e6}\u{1f1fa} +61  Australia",code:"+61",country:"AU"},{text:"\u{1f1ee}\u{1f1e9} +62  Indonesia",code:"+62",country:"ID"},{text:"\u{1f1f5}\u{1f1ed} +63  Philippines",code:"+63",country:"PH"},{text:"\u{1f1f3}\u{1f1ff} +64  New Zealand",code:"+64",country:"NZ"},{text:"\u{1f1f8}\u{1f1ec} +65  Singapore",code:"+65",country:"SG"},{text:"\u{1f1f9}\u{1f1ed} +66  Thailand",code:"+66",country:"TH"},{text:"\u{1f1ef}\u{1f1f5} +81  Japan",code:"+81",country:"JP"},{text:"\u{1f1f0}\u{1f1f7} +82  South Korea",code:"+82",country:"KR"},{text:"\u{1f1fb}\u{1f1f3} +84  Vietnam",code:"+84",country:"VN"},{text:"\u{1f1e8}\u{1f1f3} +86  China",code:"+86",country:"CN"},{text:"\u{1f1f9}\u{1f1f7} +90  Turkey",code:"+90",country:"TR"},{text:"\u{1f1ee}\u{1f1f3} +91  India",code:"+91",country:"IN"},{text:"\u{1f1f5}\u{1f1f0} +92  Pakistan",code:"+92",country:"PK"},{text:"\u{1f1e6}\u{1f1eb} +93  Afghanistan",code:"+93",country:"AF"},{text:"\u{1f1f1}\u{1f1f0} +94  Sri Lanka",code:"+94",country:"LK"},{text:"\u{1f1f2}\u{1f1f2} +95  Myanmar",code:"+95",country:"MM"},{text:"\u{1f1ee}\u{1f1f7} +98  Iran",code:"+98",country:"IR"},{text:"\u{1f1f2}\u{1f1e6} +212 Morocco",code:"+212",country:"MA"},{text:"\u{1f1e9}\u{1f1ff} +213 Algeria",code:"+213",country:"DZ"},{text:"\u{1f1f9}\u{1f1f3} +216 Tunisia",code:"+216",country:"TN"},{text:"\u{1f1f1}\u{1f1fe} +218 Libya",code:"+218",country:"LY"},{text:"\u{1f1ec}\u{1f1f2} +220 Gambia",code:"+220",country:"GM"},{text:"\u{1f1f8}\u{1f1f3} +221 Senegal",code:"+221",country:"SN"},{text:"\u{1f1f2}\u{1f1f7} +222 Mauritania",code:"+222",country:"MR"},{text:"\u{1f1f2}\u{1f1f1} +223 Mali",code:"+223",country:"ML"},{text:"\u{1f1ec}\u{1f1f3} +224 Guinea",code:"+224",country:"GN"},{text:"\u{1f1e8}\u{1f1ee} +225 Ivory Coast",code:"+225",country:"CI"},{text:"\u{1f1e7}\u{1f1eb} +226 Burkina Faso",code:"+226",country:"BF"},{text:"\u{1f1f3}\u{1f1ea} +227 Niger",code:"+227",country:"NE"},{text:"\u{1f1f9}\u{1f1ec} +228 Togo",code:"+228",country:"TG"},{text:"\u{1f1e7}\u{1f1ef} +229 Benin",code:"+229",country:"BJ"},{text:"\u{1f1f2}\u{1f1fa} +230 Mauritius",code:"+230",country:"MU"},{text:"\u{1f1f1}\u{1f1f7} +231 Liberia",code:"+231",country:"LR"},{text:"\u{1f1f8}\u{1f1f1} +232 Sierra Leone",code:"+232",country:"SL"},{text:"\u{1f1ec}\u{1f1ed} +233 Ghana",code:"+233",country:"GH"},{text:"\u{1f1f3}\u{1f1ec} +234 Nigeria",code:"+234",country:"NG"},{text:"\u{1f1f9}\u{1f1e9} +235 Chad",code:"+235",country:"TD"},{text:"\u{1f1e8}\u{1f1eb} +236 Central African Republic",code:"+236",country:"CF"},{text:"\u{1f1e8}\u{1f1f2} +237 Cameroon",code:"+237",country:"CM"},{text:"\u{1f1e8}\u{1f1fb} +238 Cape Verde",code:"+238",country:"CV"},{text:"\u{1f1f8}\u{1f1f9} +239 Sao Tome and Principe",code:"+239",country:"ST"},{text:"\u{1f1ec}\u{1f1f6} +240 Equatorial Guinea",code:"+240",country:"GQ"},{text:"\u{1f1ec}\u{1f1e6} +241 Gabon",code:"+241",country:"GA"},{text:"\u{1f1e8}\u{1f1ec} +242 Republic of the Congo",code:"+242",country:"CG"},{text:"\u{1f1e8}\u{1f1e9} +243 Democratic Republic of the Congo",code:"+243",country:"CD"},{text:"\u{1f1e6}\u{1f1f4} +244 Angola",code:"+244",country:"AO"},{text:"\u{1f1ec}\u{1f1fc} +245 Guinea-Bissau",code:"+245",country:"GW"},{text:"\u{1f1ee}\u{1f1f4} +246 British Indian Ocean Territory",code:"+246",country:"IO"},{text:"\u{1f1f8}\u{1f1e8} +248 Seychelles",code:"+248",country:"SC"},{text:"\u{1f1f8}\u{1f1e9} +249 Sudan",code:"+249",country:"SD"},{text:"\u{1f1f7}\u{1f1fc} +250 Rwanda",code:"+250",country:"RW"},{text:"\u{1f1ea}\u{1f1f9} +251 Ethiopia",code:"+251",country:"ET"},{text:"\u{1f1f8}\u{1f1f4} +252 Somalia",code:"+252",country:"SO"},{text:"\u{1f1e9}\u{1f1ef} +253 Djibouti",code:"+253",country:"DJ"},{text:"\u{1f1f0}\u{1f1ea} +254 Kenya",code:"+254",country:"KE"},{text:"\u{1f1f9}\u{1f1ff} +255 Tanzania",code:"+255",country:"TZ"},{text:"\u{1f1fa}\u{1f1ec} +256 Uganda",code:"+256",country:"UG"},{text:"\u{1f1e7}\u{1f1ee} +257 Burundi",code:"+257",country:"BI"},{text:"\u{1f1f2}\u{1f1ff} +258 Mozambique",code:"+258",country:"MZ"},{text:"\u{1f1ff}\u{1f1f2} +260 Zambia",code:"+260",country:"ZM"},{text:"\u{1f1f2}\u{1f1ec} +261 Madagascar",code:"+261",country:"MG"},{text:"\u{1f1f7}\u{1f1ea} +262 Reunion",code:"+262",country:"RE"},{text:"\u{1f1ff}\u{1f1fc} +263 Zimbabwe",code:"+263",country:"ZW"},{text:"\u{1f1f3}\u{1f1e6} +264 Namibia",code:"+264",country:"NA"},{text:"\u{1f1f2}\u{1f1fc} +265 Malawi",code:"+265",country:"MW"},{text:"\u{1f1f1}\u{1f1f8} +266 Lesotho",code:"+266",country:"LS"},{text:"\u{1f1e7}\u{1f1fc} +267 Botswana",code:"+267",country:"BW"},{text:"\u{1f1f8}\u{1f1ff} +268 Eswatini",code:"+268",country:"SZ"},{text:"\u{1f1f0}\u{1f1f2} +269 Comoros",code:"+269",country:"KM"},{text:"\u{1f1f8}\u{1f1ed} +290 Saint Helena",code:"+290",country:"SH"},{text:"\u{1f1ea}\u{1f1f7} +291 Eritrea",code:"+291",country:"ER"},{text:"\u{1f1e6}\u{1f1fc} +297 Aruba",code:"+297",country:"AW"},{text:"\u{1f1eb}\u{1f1f4} +298 Faroe Islands",code:"+298",country:"FO"},{text:"\u{1f1ec}\u{1f1f1} +299 Greenland",code:"+299",country:"GL"},{text:"\u{1f1ec}\u{1f1ee} +350 Gibraltar",code:"+350",country:"GI"},{text:"\u{1f1f5}\u{1f1f9} +351 Portugal",code:"+351",country:"PT"},{text:"\u{1f1f1}\u{1f1fa} +352 Luxembourg",code:"+352",country:"LU"},{text:"\u{1f1ee}\u{1f1ea} +353 Ireland",code:"+353",country:"IE"},{text:"\u{1f1ee}\u{1f1f8} +354 Iceland",code:"+354",country:"IS"},{text:"\u{1f1e6}\u{1f1f1} +355 Albania",code:"+355",country:"AL"},{text:"\u{1f1f2}\u{1f1f9} +356 Malta",code:"+356",country:"MT"},{text:"\u{1f1e8}\u{1f1fe} +357 Cyprus",code:"+357",country:"CY"},{text:"\u{1f1eb}\u{1f1ee} +358 Finland",code:"+358",country:"FI"},{text:"\u{1f1e7}\u{1f1ec} +359 Bulgaria",code:"+359",country:"BG"},{text:"\u{1f1f1}\u{1f1f9} +370 Lithuania",code:"+370",country:"LT"},{text:"\u{1f1f1}\u{1f1fb} +371 Latvia",code:"+371",country:"LV"},{text:"\u{1f1ea}\u{1f1ea} +372 Estonia",code:"+372",country:"EE"},{text:"\u{1f1f2}\u{1f1e9} +373 Moldova",code:"+373",country:"MD"},{text:"\u{1f1e6}\u{1f1f2} +374 Armenia",code:"+374",country:"AM"},{text:"\u{1f1e7}\u{1f1fe} +375 Belarus",code:"+375",country:"BY"},{text:"\u{1f1e6}\u{1f1e9} +376 Andorra",code:"+376",country:"AD"},{text:"\u{1f1f2}\u{1f1e8} +377 Monaco",code:"+377",country:"MC"},{text:"\u{1f1f8}\u{1f1f2} +378 San Marino",code:"+378",country:"SM"},{text:"\u{1f1fa}\u{1f1e6} +380 Ukraine",code:"+380",country:"UA"},{text:"\u{1f1f7}\u{1f1f8} +381 Serbia",code:"+381",country:"RS"},{text:"\u{1f1f2}\u{1f1ea} +382 Montenegro",code:"+382",country:"ME"},{text:"\u{1f1ed}\u{1f1f7} +385 Croatia",code:"+385",country:"HR"},{text:"\u{1f1f8}\u{1f1ee} +386 Slovenia",code:"+386",country:"SI"},{text:"\u{1f1e7}\u{1f1e6} +387 Bosnia and Herzegovina",code:"+387",country:"BA"},{text:"\u{1f1f2}\u{1f1f0} +389 North Macedonia",code:"+389",country:"MK"},{text:"\u{1f1e8}\u{1f1ff} +420 Czech Republic",code:"+420",country:"CZ"},{text:"\u{1f1f8}\u{1f1f0} +421 Slovakia",code:"+421",country:"SK"},{text:"\u{1f1f1}\u{1f1ee} +423 Liechtenstein",code:"+423",country:"LI"},{text:"\u{1f1eb}\u{1f1f0} +500 Falkland Islands",code:"+500",country:"FK"},{text:"\u{1f1e7}\u{1f1ff} +501 Belize",code:"+501",country:"BZ"},{text:"\u{1f1ec}\u{1f1f9} +502 Guatemala",code:"+502",country:"GT"},{text:"\u{1f1f8}\u{1f1fb} +503 El Salvador",code:"+503",country:"SV"},{text:"\u{1f1ed}\u{1f1f3} +504 Honduras",code:"+504",country:"HN"},{text:"\u{1f1f3}\u{1f1ee} +505 Nicaragua",code:"+505",country:"NI"},{text:"\u{1f1e8}\u{1f1f7} +506 Costa Rica",code:"+506",country:"CR"},{text:"\u{1f1f5}\u{1f1e6} +507 Panama",code:"+507",country:"PA"},{text:"\u{1f1f5}\u{1f1f2} +508 Saint Pierre and Miquelon",code:"+508",country:"PM"},{text:"\u{1f1ed}\u{1f1f9} +509 Haiti",code:"+509",country:"HT"},{text:"\u{1f1ec}\u{1f1f5} +590 Guadeloupe",code:"+590",country:"GP"},{text:"\u{1f1e7}\u{1f1f4} +591 Bolivia",code:"+591",country:"BO"},{text:"\u{1f1ec}\u{1f1fe} +592 Guyana",code:"+592",country:"GY"},{text:"\u{1f1ea}\u{1f1e8} +593 Ecuador",code:"+593",country:"EC"},{text:"\u{1f1ec}\u{1f1eb} +594 French Guiana",code:"+594",country:"GF"},{text:"\u{1f1f5}\u{1f1fe} +595 Paraguay",code:"+595",country:"PY"},{text:"\u{1f1f2}\u{1f1f6} +596 Martinique",code:"+596",country:"MQ"},{text:"\u{1f1f8}\u{1f1f7} +597 Suriname",code:"+597",country:"SR"},{text:"\u{1f1fa}\u{1f1fe} +598 Uruguay",code:"+598",country:"UY"},{text:"\u{1f1e8}\u{1f1fc} +599 Cura\xe7ao",code:"+599",country:"CW"},{text:"\u{1f1f9}\u{1f1f1} +670 Timor-Leste",code:"+670",country:"TL"},{text:"\u{1f1e6}\u{1f1f6} +672 Antarctica",code:"+672",country:"AQ"},{text:"\u{1f1e7}\u{1f1f3} +673 Brunei",code:"+673",country:"BN"},{text:"\u{1f1f3}\u{1f1f7} +674 Nauru",code:"+674",country:"NR"},{text:"\u{1f1f5}\u{1f1ec} +675 Papua New Guinea",code:"+675",country:"PG"},{text:"\u{1f1f9}\u{1f1f4} +676 Tonga",code:"+676",country:"TO"},{text:"\u{1f1f8}\u{1f1e7} +677 Solomon Islands",code:"+677",country:"SB"},{text:"\u{1f1fb}\u{1f1fa} +678 Vanuatu",code:"+678",country:"VU"},{text:"\u{1f1eb}\u{1f1ef} +679 Fiji",code:"+679",country:"FJ"},{text:"\u{1f1f5}\u{1f1fc} +680 Palau",code:"+680",country:"PW"},{text:"\u{1f1fc}\u{1f1eb} +681 Wallis and Futuna",code:"+681",country:"WF"},{text:"\u{1f1e8}\u{1f1f0} +682 Cook Islands",code:"+682",country:"CK"},{text:"\u{1f1f3}\u{1f1fa} +683 Niue",code:"+683",country:"NU"},{text:"\u{1f1fc}\u{1f1f8} +685 Samoa",code:"+685",country:"WS"},{text:"\u{1f1f0}\u{1f1ee} +686 Kiribati",code:"+686",country:"KI"},{text:"\u{1f1f3}\u{1f1e8} +687 New Caledonia",code:"+687",country:"NC"},{text:"\u{1f1f9}\u{1f1fb} +688 Tuvalu",code:"+688",country:"TV"},{text:"\u{1f1f5}\u{1f1eb} +689 French Polynesia",code:"+689",country:"PF"},{text:"\u{1f1f9}\u{1f1f0} +690 Tokelau",code:"+690",country:"TK"},{text:"\u{1f1eb}\u{1f1f2} +691 Federated States of Micronesia",code:"+691",country:"FM"},{text:"\u{1f1f2}\u{1f1ed} +692 Marshall Islands",code:"+692",country:"MH"},{text:"\u{1f1f0}\u{1f1f5} +850 North Korea",code:"+850",country:"KP"},{text:"\u{1f1ed}\u{1f1f0} +852 Hong Kong",code:"+852",country:"HK"},{text:"\u{1f1f2}\u{1f1f4} +853 Macau",code:"+853",country:"MO"},{text:"\u{1f1f0}\u{1f1ed} +855 Cambodia",code:"+855",country:"KH"},{text:"\u{1f1f1}\u{1f1e6} +856 Laos",code:"+856",country:"LA"},{text:"\u{1f1e7}\u{1f1e9} +880 Bangladesh",code:"+880",country:"BD"},{text:"\u{1f1f9}\u{1f1fc} +886 Taiwan",code:"+886",country:"TW"},{text:"\u{1f1f2}\u{1f1fb} +960 Maldives",code:"+960",country:"MV"},{text:"\u{1f1f1}\u{1f1e7} +961 Lebanon",code:"+961",country:"LB"},{text:"\u{1f1ef}\u{1f1f4} +962 Jordan",code:"+962",country:"JO"},{text:"\u{1f1f8}\u{1f1fe} +963 Syria",code:"+963",country:"SY"},{text:"\u{1f1ee}\u{1f1f6} +964 Iraq",code:"+964",country:"IQ"},{text:"\u{1f1f0}\u{1f1fc} +965 Kuwait",code:"+965",country:"KW"},{text:"\u{1f1f8}\u{1f1e6} +966 Saudi Arabia",code:"+966",country:"SA"},{text:"\u{1f1fe}\u{1f1ea} +967 Yemen",code:"+967",country:"YE"},{text:"\u{1f1f4}\u{1f1f2} +968 Oman",code:"+968",country:"OM"},{text:"\u{1f1f5}\u{1f1f8} +970 Palestine",code:"+970",country:"PS"},{text:"\u{1f1e6}\u{1f1ea} +971 United Arab Emirates",code:"+971",country:"AE"},{text:"\u{1f1ee}\u{1f1f1} +972 Israel",code:"+972",country:"IL"},{text:"\u{1f1e7}\u{1f1ed} +973 Bahrain",code:"+973",country:"BH"},{text:"\u{1f1f6}\u{1f1e6} +974 Qatar",code:"+974",country:"QA"},{text:"\u{1f1e7}\u{1f1f9} +975 Bhutan",code:"+975",country:"BT"},{text:"\u{1f1f2}\u{1f1f3} +976 Mongolia",code:"+976",country:"MN"},{text:"\u{1f1f3}\u{1f1f5} +977 Nepal",code:"+977",country:"NP"},{text:"\u{1f1f9}\u{1f1ef} +992 Tajikistan",code:"+992",country:"TJ"},{text:"\u{1f1f9}\u{1f1f2} +993 Turkmenistan",code:"+993",country:"TM"},{text:"\u{1f1e6}\u{1f1ff} +994 Azerbaijan",code:"+994",country:"AZ"},{text:"\u{1f1ec}\u{1f1ea} +995 Georgia",code:"+995",country:"GE"},{text:"\u{1f1f0}\u{1f1ec} +996 Kyrgyzstan",code:"+996",country:"KG"},{text:"\u{1f1fa}\u{1f1ff} +998 Uzbekistan",code:"+998",country:"UZ"}];var t=g(4438),v=g(1626),$=g(8810),S=g(9437),M=g(980),z=g(779);let gt=(()=>{class i{http;translationService;apiUrl="https://api.foresighta.co/api/account/insighter/individual/register-as-company";isLoadingSubject=new w.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(e,n){this.http=e,this.translationService=n,this.translationService.onLanguageChange().subscribe(o=>{this.currentLang=o||"en"})}setLoading(e){this.isLoadingSubject.next(e)}handleError(e){return(0,$.$)(e)}postInsighterToCompany(e){const n=new v.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.apiUrl,e,{headers:n}).pipe((0,I.T)(o=>o),(0,S.W)(o=>this.handleError(o)),(0,M.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||i)(t.KVO(v.Qq),t.KVO(z.L))};static \u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var mt=g(6360),_t=g(8688),ft=g(9634),ht=g(7192),bt=g(2016),R=g(7112),j=g(8542),W=g(6781),k=g(5779),L=g(5430),Z=g(5653),J=g(8833),q=g(8706),y=g(3955),Ct=g(5692);const vt=["logoInput"],xt=["fileInput"],yt=["certFileInput"],Tt=()=>({width:"550px"});function It(i,r){if(1&i&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.R7$(),t.JRh(e)}}function Et(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",74)(1,"div",75)(2,"i",76),t.nrm(3,"span",41)(4,"span",42)(5,"span",54),t.k0s(),t.j41(6,"strong"),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"ul",77),t.DNE(10,It,2,1,"li",78),t.k0s(),t.j41(11,"button",79),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showApiErrors=!1)}),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(7),t.JRh(t.bMT(8,2,"COMMON.ERROR")),t.R7$(3),t.Y8G("ngForOf",e.apiErrorMessages)}}function St(i,r){1&i&&(t.j41(0,"div",80),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.LEGAL_NAME_REQUIRED")," "))}function Mt(i,r){1&i&&(t.j41(0,"div",80),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.ABOUT_COMPANY_REQUIRED")," "))}function Rt(i,r){1&i&&(t.j41(0,"div",80),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.ADDRESS_REQUIRED")," "))}function Ot(i,r){1&i&&(t.j41(0,"div",80),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.COUNTRY_REQUIRED")," "))}function At(i,r){1&i&&(t.j41(0,"div",80),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_PHONE_REQUIRED")," "))}function Pt(i,r){1&i&&(t.j41(0,"div",80),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.COUNTRY_CODE_REQUIRED")," "))}function wt(i,r){1&i&&(t.j41(0,"div",81),t.nrm(1,"span",82),t.j41(2,"span",83),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&i&&(t.R7$(3),t.JRh(t.bMT(4,1,"INSIGHTER_WIZARD.LOADING_FIELDS")))}function kt(i,r){1&i&&(t.j41(0,"div",80),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.CONSULTING_FIELDS_REQUIRED")," "))}function Dt(i,r){1&i&&(t.j41(0,"div",80),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.INDUSTRY_REQUIRED")," "))}function Ft(i,r){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"div",84)(2,"shared-tree-selector",85),t.nI1(3,"translate"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.nI1(6,"translate"),t.nI1(7,"translate"),t.bIt("nodesSelected",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.onConsultingNodesSelected(o))}),t.k0s(),t.DNE(8,kt,3,3,"div",16),t.k0s(),t.j41(9,"div",84)(10,"shared-tree-selector",86),t.nI1(11,"translate"),t.nI1(12,"translate"),t.nI1(13,"translate"),t.nI1(14,"translate"),t.nI1(15,"translate"),t.bIt("nodesSelected",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.onIndustrySelected(o))}),t.k0s(),t.DNE(16,Dt,3,3,"div",16),t.k0s(),t.bVm()}if(2&i){let e,n;const o=t.XpG();t.R7$(2),t.Y8G("title",t.bMT(3,19,"INSIGHTER_WIZARD.CONSULTING_FIELDS"))("placeholder",t.bMT(4,21,"AUTH.REGISTRATION.CONSULTING_FIELD_PLACEHOLDER"))("otherFieldPlaceholder",t.bMT(5,23,"INSIGHTER_WIZARD.OTHER_FIELD_PLACEHOLDER"))("selectAllLabel","ar"===o.lang?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644":"Select All")("fetchedData",o.listOfConsultingFields)("cancelLabel",t.bMT(6,25,"BUTTONS.CANCEL"))("okLabel",t.bMT(7,27,"BUTTONS.OK"))("isRequired",!0)("currentLang",o.lang),t.R7$(6),t.Y8G("ngIf",(null==(e=o.form.get("consultingFields"))?null:e.hasError("required"))&&(null==(e=o.form.get("consultingFields"))?null:e.touched)),t.R7$(2),t.Y8G("title",t.bMT(11,29,"AUTH.REGISTRATION.INDUSTRY"))("placeholder",t.bMT(12,31,"AUTH.REGISTRATION.INDUSTRY_PLACEHOLDER"))("otherFieldPlaceholder",t.bMT(13,33,"INSIGHTER_WIZARD.OTHER_FIELD_PLACEHOLDER"))("selectAllLabel","ar"===o.lang?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644":"Select All")("fetchedData",o.nodes)("cancelLabel",t.bMT(14,35,"BUTTONS.CANCEL"))("okLabel",t.bMT(15,37,"BUTTONS.OK"))("isRequired",!0),t.R7$(6),t.Y8G("ngIf",(null==(n=o.form.get("isicCodes"))?null:n.hasError("required"))&&(null==(n=o.form.get("isicCodes"))?null:n.touched))}}function Nt(i,r){if(1&i&&(t.j41(0,"option",107),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Gt(i,r){1&i&&(t.j41(0,"div",108),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.DOCUMENT_TYPE_REQUIRED")," "))}function $t(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",87)(1,"div",88)(2,"div",89)(3,"i",90),t.nrm(4,"span",41)(5,"span",42),t.k0s()(),t.j41(6,"div",91),t.nrm(7,"img",92),t.k0s(),t.j41(8,"div",93)(9,"a",94),t.EFF(10),t.nI1(11,"truncateText"),t.k0s(),t.j41(12,"div",95),t.EFF(13),t.nI1(14,"number"),t.k0s()(),t.j41(15,"div",96)(16,"label",97),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"select",98)(20,"option",99),t.EFF(21),t.nI1(22,"translate"),t.k0s(),t.DNE(23,Nt,2,2,"option",100),t.k0s(),t.DNE(24,Gt,3,3,"div",101),t.k0s()(),t.j41(25,"div",102)(26,"button",103),t.nI1(27,"translate"),t.bIt("click",function(){const o=t.eBV(e).index,a=t.XpG();return t.Njj(a.removeCertification(o))}),t.j41(28,"i",104),t.nrm(29,"span",41)(30,"span",42)(31,"span",54)(32,"span",105)(33,"span",106),t.k0s()()()()}if(2&i){let e;const n=r.$implicit,o=t.XpG();t.Y8G("formGroup",n),t.R7$(7),t.Y8G("src",o.getFileIcon(n.value.file),t.B4B),t.R7$(3),t.SpI(" ",t.i5U(11,9,n.value.file.name,15)," "),t.R7$(3),t.SpI(" ",t.i5U(14,12,n.value.file.size/1e3,"1.0-2")," KB "),t.R7$(4),t.SpI(" ",t.bMT(18,15,"INSIGHTER_WIZARD.DOCUMENT_TYPE")," "),t.R7$(4),t.JRh(t.bMT(22,17,"INSIGHTER_WIZARD.SELECT_DOCUMENT_TYPE")),t.R7$(2),t.Y8G("ngForOf",o.documentTypes),t.R7$(),t.Y8G("ngIf",!(null!=(e=n.get("type"))&&e.value)),t.R7$(2),t.FS9("pTooltip",t.bMT(27,19,"BUTTONS.DELETE_FILE"))}}function jt(i,r){1&i&&(t.j41(0,"div",109),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_LOGO_REQUIRED")," "))}function Lt(i,r){1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.WEBSITE_REQUIRED")," "))}function Ut(i,r){1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.WEBSITE_INVALID_FORMAT")," "))}function Vt(i,r){if(1&i&&(t.j41(0,"div",80),t.DNE(1,Lt,3,3,"span",26)(2,Ut,3,3,"span",26),t.k0s()),2&i){let e,n;const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==(e=o.form.get("website"))?null:e.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(n=o.form.get("website"))?null:n.hasError("invalidWebsite"))}}function Yt(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.GET_CODE")," "))}function Bt(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.nrm(3,"span",121),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"AUTH.REGISTRATION.PLEASE_WAIT")," "))}function Ht(i,r){if(1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"async"),t.bVm()),2&i){const e=t.XpG(2);t.R7$(),t.Lme(" ",t.bMT(2,2,"INSIGHTER_WIZARD.PLEASE_WAIT")," (",t.bMT(3,4,e.getCodeCountdown$),"s) ")}}function Xt(i,r){1&i&&(t.j41(0,"div",122),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"EMAIL_DOMAIN_MATCH")," "))}function zt(i,r){1&i&&(t.j41(0,"div",80),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_EMAIL_REQUIRED")," "))}function Wt(i,r){1&i&&(t.j41(0,"div",80),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.CODE_REQUIRED")," "))}function Zt(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",13)(1,"div",13)(2,"label",14),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"input",110),t.nI1(6,"translate"),t.DNE(7,Vt,3,2,"div",16),t.k0s(),t.j41(8,"div",111)(9,"div",112)(10,"label",14),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"div",113)(14,"div",114),t.nrm(15,"input",115),t.nI1(16,"translate"),t.k0s(),t.j41(17,"div",116)(18,"button",117),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.getCode())}),t.DNE(19,Yt,3,3,"ng-container",26)(20,Bt,4,3,"ng-container",26)(21,Ht,4,6,"ng-container",26),t.k0s()()(),t.DNE(22,Xt,3,3,"div",118)(23,zt,3,3,"div",16),t.k0s(),t.j41(24,"div",119)(25,"label",14),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.nrm(28,"input",120),t.nI1(29,"translate"),t.DNE(30,Wt,3,3,"div",16),t.k0s()()()}if(2&i){let e,n,o,a,s;const c=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,14,"INSIGHTER_WIZARD.WEBSITE_DOMAIN")," "),t.R7$(2),t.FS9("placeholder",t.bMT(6,16,"INSIGHTER_WIZARD.WEBSITE_DOMAIN")),t.R7$(2),t.Y8G("ngIf",(null==(e=c.form.get("website"))?null:e.invalid)&&(null==(e=c.form.get("website"))?null:e.touched)),t.R7$(4),t.SpI(" ",t.bMT(12,18,"INSIGHTER_WIZARD.COMPANY_EMAIL")," "),t.R7$(4),t.FS9("placeholder",t.bMT(16,20,"INSIGHTER_WIZARD.COMPANY_EMAIL")),t.R7$(3),t.Y8G("disabled",!(null!=(n=c.form.get("companyEmail"))&&n.valid)||c.gettingCodeLoader||c.isGetCodeDisabled||!c.validateDomainMatching()),t.R7$(),t.Y8G("ngIf",!c.gettingCodeLoader&&!c.isGetCodeDisabled),t.R7$(),t.Y8G("ngIf",c.gettingCodeLoader),t.R7$(),t.Y8G("ngIf",c.isGetCodeDisabled&&!c.gettingCodeLoader),t.R7$(),t.Y8G("ngIf",(null==(o=c.form.get("companyEmail"))?null:o.value)&&(null==(o=c.form.get("website"))?null:o.value)&&c.hasEmailAtSymbol()&&!c.validateDomainMatching()),t.R7$(),t.Y8G("ngIf",(null==(a=c.form.get("companyEmail"))?null:a.invalid)&&(null==(a=c.form.get("companyEmail"))?null:a.touched)),t.R7$(3),t.SpI(" ",t.bMT(27,22,"INSIGHTER_WIZARD.CODE")," "),t.R7$(2),t.FS9("placeholder",t.bMT(29,24,"INSIGHTER_WIZARD.ENTER_CODE")),t.R7$(2),t.Y8G("ngIf",(null==(s=c.form.get("code"))?null:s.invalid)&&(null==(s=c.form.get("code"))?null:s.touched))}}function Jt(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",127),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onDropzoneClick())})("drop",function(o){t.eBV(e);const a=t.XpG(2);return t.Njj(a.onFileDrop(o))})("dragover",function(o){t.eBV(e);const a=t.XpG(2);return t.Njj(a.onDragOver(o))}),t.nrm(1,"i",128),t.j41(2,"h3",129),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"span",130),t.EFF(6),t.nI1(7,"translate"),t.k0s()()}2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,2,"INSIGHTER_WIZARD.DROP_OR_UPLOAD_REGISTRY_DOCUMENT")," "),t.R7$(3),t.SpI(" ",t.bMT(7,4,"INSIGHTER_WIZARD.VERIFY_COMPANY_ACCOUNT_BY_UPLOADING_REGISTRY_DOC")," "))}function qt(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",131)(1,"div",132)(2,"div",133)(3,"div",134),t.nrm(4,"img",92),t.k0s(),t.j41(5,"div")(6,"span",135),t.EFF(7),t.k0s(),t.j41(8,"span",130),t.EFF(9),t.nI1(10,"number"),t.k0s()()(),t.j41(11,"button",136),t.nI1(12,"translate"),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.removeRegisterDocument())}),t.j41(13,"i",104),t.nrm(14,"span",41)(15,"span",42)(16,"span",54)(17,"span",105)(18,"span",106),t.k0s()()()()}if(2&i){let e,n,o;const a=t.XpG(2);t.R7$(4),t.Y8G("src",a.getFileIcon(null==(e=a.form.get("registerDocument"))?null:e.value),t.B4B),t.R7$(3),t.SpI(" ",null==(n=a.form.get("registerDocument"))?null:n.value.name," "),t.R7$(2),t.SpI(" ",t.i5U(10,4,(null==(o=a.form.get("registerDocument"))?null:o.value.size)/1e3,"1.0-2")," KB "),t.R7$(2),t.FS9("pTooltip",t.bMT(12,7,"BUTTONS.DELETE_FILE"))}}function Kt(i,r){1&i&&(t.j41(0,"div",109),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.REGISTER_DOCUMENT_REQUIRED")," "))}function Qt(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",13)(1,"div",123),t.DNE(2,Jt,8,6,"div",124)(3,qt,19,9,"div",125),t.j41(4,"input",126,2),t.bIt("change",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.onFileSelected(o))}),t.k0s()(),t.DNE(6,Kt,3,3,"div",45),t.k0s()}if(2&i){let e,n,o;const a=t.XpG();t.R7$(2),t.Y8G("ngIf",!(null!=(e=a.form.get("registerDocument"))&&e.value)),t.R7$(),t.Y8G("ngIf",null==(n=a.form.get("registerDocument"))?null:n.value),t.R7$(3),t.Y8G("ngIf",(null==(o=a.form.get("registerDocument"))?null:o.invalid)&&(null==(o=a.form.get("registerDocument"))?null:o.touched))}}function te(i,r){1&i&&(t.j41(0,"div",137),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_AGREEMENT_REQUIRED")," "))}function ee(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",138)(1,"h5",139),t.EFF(2),t.k0s(),t.j41(3,"div",140)(4,"button",141),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.printTerms())}),t.nrm(5,"i",142),t.k0s(),t.j41(6,"button",143),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.saveTerms())}),t.nrm(7,"i",144),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(2),t.JRh((null==e.agreementContent?null:e.agreementContent.name)||"Company Terms of Service")}}function ne(i,r){1&i&&(t.j41(0,"div",145),t.nrm(1,"span",146),t.k0s())}function oe(i,r){if(1&i&&(t.j41(0,"div",147),t.nrm(1,"div",148),t.k0s()),2&i){const e=t.XpG();t.xc7("max-height","400px")("overflow-y","auto"),t.R7$(),t.Y8G("innerHTML",e.agreementContent.guideline,t.npT)}}function ie(i,r){1&i&&(t.j41(0,"div",149),t.EFF(1," Failed to load agreement content. Please try again later. "),t.k0s())}function ae(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",150)(1,"div",151),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",152)(5,"button",153),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.declineAgreement())}),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",154),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.acceptAgreement())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}2&i&&(t.R7$(2),t.JRh(t.bMT(3,3,"INSIGHTER_WIZARD.DOCUMENT_REGISTRY_APPROVAL_NOTE")),t.R7$(4),t.SpI(" ",t.bMT(7,5,"INSIGHTER_WIZARD.DECLINE")," "),t.R7$(3),t.SpI(" ",t.bMT(10,7,"INSIGHTER_WIZARD.ACCEPT")," "))}let re=(()=>{class i extends x.${fb;http;insighterAsCompany;router;commonService;_KnoldgFieldsService;_isicService;documentsService;translationService;_countriesService;profileService;cdr;form;logoPreview=null;gettingCodeLoader=!1;isGetCodeDisabled=!1;getCodeCountdown$=new w.t(null);updateProfile$;dialogWidth="50vw";logoInput;fileInput;certFileInput;defaultImage="https://au.eragroup.com/wp-content/uploads/2018/02/logo-placeholder.png";agreementChecked=!1;showAgreementError=!1;agreementContent=null;isLoadingAgreement=!1;showAgreementDialog=!1;attemptedSubmit=!1;listOfConsultingFields=[];nodes=[];allConsultingFieldSelected=[];allIndustriesSelected=[];isLoadingFields=!1;phoneNumbers=ut;isLoading$=(0,A.of)(!1);lang="en";countries=[];documentTypes=[];isLoadingDocumentTypes=!1;documentTypesError="";fizeSizeMessages=[];apiErrorMessages=[];showApiErrors=!1;currentUser;constructor(e,n,o,a,s,c,l,p,u,m,f,h,C){super(C),this.fb=e,this.http=n,this.insighterAsCompany=o,this.router=a,this.commonService=s,this._KnoldgFieldsService=c,this._isicService=l,this.documentsService=p,this.translationService=u,this._countriesService=m,this.profileService=f,this.cdr=h,this.updateProfile$=this.insighterAsCompany.isLoading$,this.lang=this.translationService.getSelectedLanguage()}ngOnInit(){this.initForm(),this.windowResize(),this.initApiCalls(),this.loadDocumentTypes(),this.setupSubscriptions(),this.setVerificationValidators(this.form.get("verificationMethod")?.value)}setupSubscriptions(){const e=this.translationService.onLanguageChange().subscribe(o=>{this.lang=o,this.initApiCalls()});this.unsubscribe.push(e);const n=this.form.get("verificationMethod")?.valueChanges.subscribe(o=>{this.setVerificationValidators(o)});n&&this.unsubscribe.push(n),this.setupDomainValidationSubscriptions()}setupDomainValidationSubscriptions(){const e=this.form.get("website")?.valueChanges.subscribe(()=>{this.validateDomainMatching()}),n=this.form.get("companyEmail")?.valueChanges.subscribe(()=>{this.validateDomainMatching()});e&&this.unsubscribe.push(e),n&&this.unsubscribe.push(n)}initApiCalls(){this.isLoadingFields=!0,this.isLoading$=(0,A.of)(!0);const e=(0,rt.p)({consultingFields:this._KnoldgFieldsService.getConsultingCodesTree(this.lang||"en"),isicCodes:this._isicService.getIsicCodesTree(this.lang||"en"),countries:this._countriesService.getCountries(),profile:this.profileService.getProfile()}).subscribe({next:n=>{this.listOfConsultingFields=n.consultingFields,this.nodes=n.isicCodes,this.countries=n.countries.map(o=>({...o,showFlag:!0})),this.isLoadingFields=!1,this.isLoading$=(0,A.of)(!1),this.setDefaultCountryFromProfile(n.profile),this.cdr.detectChanges()},error:n=>{console.error("Error loading fields:",n),this.handleApiError("Failed to load consulting fields or industries."),this.isLoadingFields=!1,this.isLoading$=(0,A.of)(!1)}});this.unsubscribe.push(e)}handleApiError(e){this.messageService.add({severity:"error",summary:"Error",detail:e})}loadDocumentTypes(){this.isLoadingDocumentTypes=!0;const e=this.documentsService.getDocumentsTypes().subscribe({next:n=>{this.documentTypes=n,this.isLoadingDocumentTypes=!1},error:n=>{this.documentTypesError="Failed to load document types.",this.isLoadingDocumentTypes=!1,this.handleApiError("Failed to load document types."),console.error(n)}});this.unsubscribe.push(e)}ngOnDestroy(){this.unsubscribe.forEach(e=>{e&&!e.closed&&e.unsubscribe()})}windowResize(){const n=(0,st.R)(window,"resize").pipe((0,I.T)(()=>window.innerWidth),(0,ct.Z)(window.innerWidth)).subscribe(o=>{this.dialogWidth=o<768?"100vw":"70vw"});this.unsubscribe.push(n)}openAgreementDialog(e){if(e&&e.originalEvent&&!e.checked)return this.form.get("agreement")?.setValue(!1),void(this.showAgreementError=this.attemptedSubmit);this.isLoadingAgreement=!0,this.showAgreementDialog=!0,this.commonService.getClientAgreement("company-agreement").subscribe({next:n=>{this.agreementContent=n.data,this.isLoadingAgreement=!1},error:n=>{console.error("Error loading agreement:",n),this.isLoadingAgreement=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load agreement. Please try again."})}})}acceptAgreement(){this.form.get("agreement")?.setValue(!0),this.form.get("agreement")?.markAsTouched(),this.showAgreementDialog=!1,this.showAgreementError=!1}declineAgreement(){this.form.get("agreement")?.setValue(!1),this.form.get("agreement")?.markAsTouched(),this.showAgreementDialog=!1,this.showAgreementError=!0}printTerms(){const e=window.open("","_blank");if(e){const n=this.agreementContent?.name||"Company Terms of Service",a=`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>${n}</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }\n            h1 { color: #333; text-align: center; margin-bottom: 20px; }\n            .content { margin: 0 auto; max-width: 800px; }\n          </style>\n        </head>\n        <body>\n          <h1>${n}</h1>\n          <div class="content">${this.agreementContent?.guideline||""}</div>\n        </body>\n        </html>\n      `;e.document.open(),e.document.write(a),e.document.close(),setTimeout(()=>{e.print()},500)}else this.messageService.add({severity:"error",summary:"Error",detail:"Could not open print window. Please check your browser settings."})}saveTerms(){if(this.agreementContent){const e=this.agreementContent.name||"Company-Terms-of-Service",n=this.stripHtmlTags(this.agreementContent.guideline),o=new Blob([n],{type:"text/plain"}),a=window.URL.createObjectURL(o),s=document.createElement("a");s.href=a,s.download=`${e.replace(/\s+/g,"-")}.txt`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(a),document.body.removeChild(s)}}stripHtmlTags(e){const n=document.createElement("div");return n.innerHTML=e,n.textContent||n.innerText||""}onConsultingNodesSelected(e){this.allConsultingFieldSelected=e&&e.length>0?e:[],this.form.get("consultingFields")?.setValue(this.allConsultingFieldSelected),this.form.get("consultingFields")?.markAsTouched(),this.form.get("consultingFields")?.updateValueAndValidity()}onIndustrySelected(e){this.allIndustriesSelected=e&&e.length>0?e:[],this.form.get("isicCodes")?.setValue(this.allIndustriesSelected),this.form.get("isicCodes")?.markAsTouched(),this.form.get("isicCodes")?.updateValueAndValidity()}initForm(){this.form=this.fb.group({legalName:["",d.k0.required],aboutCompany:["",d.k0.required],logo:[null,d.k0.required],address:["",d.k0.required],company_phone:["",d.k0.required],phoneCountryCode:["",d.k0.required],country:[null,d.k0.required],verificationMethod:["websiteEmail",d.k0.required],website:[""],companyEmail:["",d.k0.email],code:[""],registerDocument:[null],agreement:[!1,d.k0.requiredTrue],consultingFields:[[],[d.k0.required]],isicCodes:[[],[d.k0.required]],certifications:this.fb.array([])})}get certifications(){return this.form.get("certifications")}get certificationControls(){return this.certifications.controls}addCertification(e){const n=this.fb.group({type:[e?.type||"",[d.k0.required]],file:[e?.file||null,[d.k0.required]]});this.certifications.push(n)}removeCertification(e){this.certifications.removeAt(e)}onCertFileSelected(e){this.handleCertFiles(e.target.files),this.certFileInput&&(this.certFileInput.nativeElement.value="")}onCertDropzoneClick(){this.certFileInput&&this.certFileInput.nativeElement.click()}handleCertFiles(e){for(let a=0;a<e.length;a++){const s=e.item(a);if(s){if(s.size>2097152){this.messageService.add({severity:"error",summary:"File Too Large",detail:`File "${s.name}" exceeds the 2MB size limit.`});continue}this.addCertification({file:s})}}}getFileIcon(e){return e?`./assets/media/svg/files/${e.name.split(".").pop()?.toLowerCase()}.svg`:"./assets/media/svg/files/default.svg"}onPhoneNumberInput(e){let o=e.target.value.replace(/\D/g,"");o.length>10&&(o=o.slice(0,10)),this.form.controls.company_phone.setValue(o,{emitEvent:!1})}setVerificationValidators(e){"websiteEmail"===e?(this.form.get("website")?.setValidators([d.k0.required,this.websiteValidator()]),this.form.get("companyEmail")?.setValidators([d.k0.required,d.k0.email]),this.form.get("code")?.setValidators([d.k0.required]),this.form.get("registerDocument")?.clearValidators(),this.form.get("registerDocument")?.setValue(null)):"uploadDocument"===e&&(this.form.get("registerDocument")?.setValidators([d.k0.required]),this.form.get("website")?.clearValidators(),this.form.get("companyEmail")?.clearValidators(),this.form.get("code")?.clearValidators(),this.form.get("website")?.setValue(""),this.form.get("companyEmail")?.setValue(""),this.form.get("code")?.setValue("")),this.form.get("website")?.updateValueAndValidity(),this.form.get("companyEmail")?.updateValueAndValidity(),this.form.get("code")?.updateValueAndValidity(),this.form.get("registerDocument")?.updateValueAndValidity()}onLogoSelected(e){const n=e.target;if(n.files&&n.files[0]){const o=n.files[0];if(!["image/png","image/jpeg","image/jpg"].includes(o.type))return this.messageService.add({severity:"error",summary:"Invalid File Type",detail:"Please select a PNG or JPEG image."}),void this.form.get("logo")?.setErrors({invalidType:!0});if(o.size>2097152)return this.messageService.add({severity:"error",summary:"File Too Large",detail:"Logo must be smaller than 2MB."}),void this.form.get("logo")?.setErrors({maxSizeExceeded:!0});const c=new Image,l=new FileReader;l.onload=p=>{p.target&&(c.src=p.target.result,c.onload=()=>{if(c.width<500||c.height<300)return this.messageService.add({severity:"error",summary:"Low Resolution Image",detail:"Logo must be at least 500x300 pixels for high quality."}),this.form.get("logo")?.setErrors({lowResolution:!0}),this.logoPreview=null,void(this.logoInput&&(this.logoInput.nativeElement.value=""));this.form.patchValue({logo:o}),this.form.get("logo")?.updateValueAndValidity(),this.logoPreview=c.src})},l.readAsDataURL(o)}}removeLogo(){this.form.patchValue({logo:null}),this.logoPreview=null,this.logoInput&&(this.logoInput.nativeElement.value="")}getLogoBackgroundImage(){return`url(${this.logoPreview||this.defaultImage})`}getCode(){const e=this.form.get("companyEmail")?.value;if(e){this.gettingCodeLoader=!0;const n=this.http.post("https://api.foresighta.co/api/auth/company/code/send",{verified_email:e},{headers:{"Accept-Language":"en"}}).subscribe({next:o=>{this.messageService.add({severity:"success",summary:"Success",detail:"Verification email sent successfully."}),this.gettingCodeLoader=!1,this.startGetCodeCooldown()},error:o=>{console.error("Error sending code:",o),this.messageService.add({severity:"error",summary:"Error",detail:o?.error?.message||"Failed to send verification code."}),this.gettingCodeLoader=!1}});this.unsubscribe.push(n)}}startGetCodeCooldown(){this.isGetCodeDisabled=!0,this.getCodeCountdown$.next(30);const o=(0,lt.O)(0,1e3).pipe((0,dt.s)(31),(0,I.T)(a=>30-a)).subscribe({next:a=>{this.getCodeCountdown$.next(a)},complete:()=>{this.getCodeCountdown$.next(null),this.isGetCodeDisabled=!1}});this.unsubscribe.push(o)}onRegisterDocumentSelected(e){const n=e.target;n.files&&n.files[0]&&(this.form.patchValue({registerDocument:n.files[0]}),this.form.get("registerDocument")?.updateValueAndValidity())}removeRegisterDocument(){this.form.patchValue({registerDocument:null}),this.fileInput&&(this.fileInput.nativeElement.value="")}onDropzoneClick(){this.fileInput.nativeElement.click()}onFileSelected(e){const n=e.target.files[0];n&&(this.form.patchValue({registerDocument:n}),this.form.get("registerDocument")?.updateValueAndValidity())}onDragOver(e){e.preventDefault()}onFileDrop(e){e.preventDefault();const n=e.dataTransfer?.files;if(n&&n.length>0){const o=n.item(0);this.form.patchValue({registerDocument:o}),this.form.get("registerDocument")?.updateValueAndValidity()}}onSubmit(){if(this.attemptedSubmit=!0,this.markFormGroupTouched(this.form),this.form.invalid)return void window.scrollTo({top:0,behavior:"smooth"});const e=new FormData;if(e.append("legal_name",this.form.get("legalName")?.value),e.append("about_us",this.form.get("aboutCompany")?.value),e.append("logo",this.form.get("logo")?.value),e.append("address",this.form.get("address")?.value),e.append("country",this.form.get("country")?.value),this.form.get("company_phone")?.value){const l=this.form.get("company_phone")?.value;e.append("company_phone",l)}if(this.form.get("phoneCountryCode")?.value){const l=this.form.get("phoneCountryCode")?.value,p=l.code||l;if(p&&"string"==typeof p){const u=p.startsWith("+")?p.substring(1):p;e.append("phone_code",u)}}e.append("company_agreement","true");const n=this.form.get("verificationMethod")?.value;"websiteEmail"===n?(e.append("website",this.form.get("website")?.value),e.append("verified_email",this.form.get("companyEmail")?.value),e.append("code",this.form.get("code")?.value)):"uploadDocument"===n&&e.append("register_document",this.form.get("registerDocument")?.value);const o=this.form.get("consultingFields")?.value.filter(l=>"number"==typeof l.key),a=this.form.get("consultingFields")?.value.filter(l=>"string"==typeof l.key&&"selectAll"!==l.key&&l.data&&null!=l.data.customInput);o&&o.length>0&&o.forEach(l=>{e.append("consulting_field[]",l.key.toString())}),a&&a.length>0&&a.forEach((l,p)=>{e.append(`suggest_consulting_fields[${p}][parent_id]`,l.parent&&l.parent.key?"selectAll"===l.parent.key?"0":l.parent.key:"0"),e.append(`suggest_consulting_fields[${p}][name][en]`,l.data.customInput),e.append(`suggest_consulting_fields[${p}][name][ar]`,l.data.customInput)});const s=this.form.get("isicCodes")?.value.filter(l=>"number"==typeof l.key),c=this.form.get("isicCodes")?.value.filter(l=>"string"==typeof l.key&&"selectAll"!==l.key&&l.data&&null!=l.data.customInput);s&&s.length>0&&s.forEach(l=>{e.append("industries[]",l.key.toString())}),c&&c.length>0&&c.forEach((l,p)=>{e.append(`suggest_industries[${p}][parent_id]`,l.parent&&l.parent.key?"selectAll"===l.parent.key?"0":l.parent.key:"0"),e.append(`suggest_industries[${p}][name][en]`,l.data.customInput),e.append(`suggest_industries[${p}][name][ar]`,l.data.customInput)}),this.certifications.controls.length>0&&this.certifications.controls.forEach((l,p)=>{l.valid&&(e.append(`certification[${p}][type]`,l.value.type),e.append(`certification[${p}][file]`,l.value.file))}),this.apiPost(e)}apiPost(e){const n=this.insighterAsCompany.postInsighterToCompany(e).subscribe({next:o=>{G().fire({icon:"success",title:"ar"===this.lang?"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u062d\u0633\u0627\u0628\u0643 \u0628\u0646\u062c\u0627\u062d":"Your account has been successfully updated",text:"ar"===this.lang?"\u0633\u0646\u0642\u0648\u0645 \u0628\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u062d\u0633\u0627\u0628\u0643 \u0628\u0645\u062c\u0631\u062f \u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a.":"We will verify your account once the information is confirmed.",confirmButtonText:"ar"===this.lang?"\u062d\u0633\u0646\u0627\u064b":"OK",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location.href=window.location.href})},error:o=>{this.handleServerErrors(o)}});this.unsubscribe.push(n)}handleServerErrors(e){if(this.apiErrorMessages=[],e.error){if(e.error.message&&this.messageService.add({severity:"error",summary:"Error",detail:e.error.message}),e.error.errors){const n=e.error.errors;for(const o in n)if(n.hasOwnProperty(o)){const a=n[o];if("common"===o)this.apiErrorMessages=a,this.showApiErrors=!0;else{const s=this.form.get(o);s?s.setErrors({serverError:a.join(", ")}):(this.apiErrorMessages.push(`${o}: ${a.join(", ")}`),this.showApiErrors=!0)}}}}else this.messageService.add({severity:"error",summary:"Error",detail:"An unexpected error occurred."});this.showApiErrors&&window.scrollTo({top:0,behavior:"smooth"})}markFormGroupTouched(e){e instanceof d.gE?Object.keys(e.controls).forEach(n=>{const o=e.get(n);o&&(o instanceof d.gE||o instanceof d.Yp?this.markFormGroupTouched(o):o.markAsTouched())}):e instanceof d.Yp&&e.controls.forEach(n=>{n instanceof d.gE||n instanceof d.Yp?this.markFormGroupTouched(n):n.markAsTouched()})}setDefaultCountryFromProfile(e){if(!e||!this.countries?.length)return;const n=e?.data?.country_id||e?.country_id;if(!n)return;const o=this.countries.find(a=>a.id===n);if(o){const a=this.form.get("country");a&&(a.setValue(o.id),a.markAsTouched(),this.cdr.markForCheck())}}onFlagError(e){e.showFlag=!1}websiteValidator(){return e=>{if(!e.value)return null;const n=e.value.trim();return/^(https?:\/\/)?(www\.)?[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?(\S*)?$/.test(n)?null:{invalidWebsite:!0}}}validateDomainMatching(){if("websiteEmail"!==this.form.get("verificationMethod")?.value)return!0;const e=this.form.get("website")?.value,n=this.form.get("companyEmail")?.value;if(!e||!n)return!1;const o=this.extractDomainFromWebsite(e),a=this.extractDomainFromEmail(n);return!!(o&&a&&a.endsWith(o))}extractDomainFromWebsite(e){if(!e)return null;let n=e.trim().toLowerCase();return n=n.replace(/^(https?:\/\/)/i,""),n=n.replace(/^www\./i,""),n=n.split("/")[0],n=n.split("?")[0],n=n.split("#")[0],n=n.split(":")[0],n||null}extractDomainFromEmail(e){return e&&e.includes("@")?e.split("@")[1].toLowerCase():null}hasEmailAtSymbol(){const e=this.form.get("companyEmail")?.value;return e&&e.includes("@")}static \u0275fac=function(n){return new(n||i)(t.rXU(d.ok),t.rXU(v.Qq),t.rXU(gt),t.rXU(E.Ix),t.rXU(mt.h),t.rXU(_t.M),t.rXU(ft.I),t.rXU(ht.Q),t.rXU(X.L),t.rXU(bt.C),t.rXU(R.p),t.rXU(t.gRc),t.rXU(t.zZn))};static \u0275cmp=t.VBU({type:i,selectors:[["app-upgrade-to-company"]],viewQuery:function(n,o){if(1&n&&(t.GBs(vt,5),t.GBs(xt,5),t.GBs(yt,5)),2&n){let a;t.mGM(a=t.lsd())&&(o.logoInput=a.first),t.mGM(a=t.lsd())&&(o.fileInput=a.first),t.mGM(a=t.lsd())&&(o.certFileInput=a.first)}},features:[t.Vt3],decls:144,vars:119,consts:[["certFileInput",""],["logoInput",""],["fileInput",""],[1,"card"],[1,"card-body"],[1,"mil-up",3,"ngSubmit","formGroup"],["class","alert alert-danger mb-10",4,"ngIf"],[1,"mb-10"],[1,"fw-bolder","text-gray-900","mb-3"],[1,"text-gray-500","fw-bold","fs-6"],["href","#",1,"link-primary","fw-bolder"],[1,"card","mb-10"],[1,"card-body","p-8"],[1,"mb-8"],[1,"form-label","required","fw-bold"],["formControlName","legalName","type","text",1,"form-control",3,"placeholder"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["formControlName","aboutCompany","rows","4",1,"form-control"],["formControlName","address","type","text",1,"form-control",3,"placeholder"],["formControlName","country",3,"countries","placeholder","searchPlaceholder","enableSearch","showClear","lang","isInvalid"],[1,"input-group"],[1,"max-width-200px"],["formControlName","phoneCountryCode","optionLabel","text",1,"d-block","form-p-control","no-border-radius-start-end",3,"options","placeholder","filter","showClear"],["formControlName","company_phone","type","tel",1,"form-control","no-rtl-b-radius",3,"input","dir","placeholder"],[1,"row"],["class","d-flex justify-content-center align-items-center min-h-150px my-3 w-100",4,"ngIf"],[4,"ngIf"],[1,"form-label","mb-3"],[1,"mb-5"],[1,"mh-300px","scroll-y","me-n7","pe-7"],["class","d-flex flex-stack py-4 border border-top-0 border-left-0 border-right-0 border-dashed",3,"formGroup",4,"ngFor","ngForOf"],[1,"fv-row","mb-5","text-start"],["type","button",1,"btn","btn-lg","btn-primary",3,"click"],[1,"bi","bi-upload","me-2"],[1,"mt-2","text-muted","fs-6"],["type","file","multiple","","accept",".png, .jpg, .jpeg, .pdf",2,"display","none",3,"change"],[1,"d-flex","flex-column","align-items-start"],[1,"image-input","logo-placeholder","image-input-outline"],[1,"image-input-wrapper","logo-placeholder","w-225px","h-100px"],["data-kt-image-input-action","change","data-bs-toggle","tooltip","data-bs-dismiss","click",1,"btn","btn-icon","btn-circle","btn-color-muted","btn-active-color-primary","w-25px","h-25px","bg-body","position-absolute","top-0","end-0","m-2",3,"title"],[1,"ki-duotone","ki-pencil","fs-6"],[1,"path1"],[1,"path2"],["type","file","accept",".png, .jpg, .jpeg",3,"change"],["type","hidden","name","avatar_remove"],["class","fv-plugins-message-container invalid-feedback mt-2",4,"ngIf"],[1,"form-label","required","fw-bold","mb-4"],[1,"radio-options-container"],[1,"radio-option"],[1,"form-check","form-check-custom","form-check-solid"],["type","radio","formControlName","verificationMethod","name","verificationMethod","value","websiteEmail","id","verificationMethod1",1,"form-check-input"],["for","verificationMethod1",1,"form-check-label"],[1,"radio-icon"],[1,"ki-duotone","ki-icon","mx-2","fs-2"],[1,"path3"],[1,"radio-text"],["type","radio","formControlName","verificationMethod","name","verificationMethod","value","uploadDocument","id","verificationMethod2",1,"form-check-input"],["for","verificationMethod2",1,"form-check-label"],[1,"ki-duotone","ki-document","mx-2","fs-2"],["class","mb-8",4,"ngIf"],[1,"d-flex","align-items-start"],["formControlName","agreement","inputId","companyAgreement",3,"onChange","binary"],["for","companyAgreement",1,"ms-2","fs-6","text-gray-800","cursor-pointer",3,"click"],["href","javascript:void(0)",1,"ms-1","link-primary"],["class","fv-plugins-message-container invalid-feedback d-block mt-2",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-lg","btn-info","min-w-200px"],["appendTo","body","styleClass","terms-dialog",3,"visibleChange","visible","modal","closable","closeOnEscape","dismissableMask","draggable","resizable","focusOnShow","blockScroll"],["pTemplate","header"],["class","d-flex justify-content-center py-4",4,"ngIf"],[1,"terms-content-wrapper"],["class","agreement-content custom-scrollbar",3,"max-height","overflow-y",4,"ngIf"],["class","text-center text-danger py-4",4,"ngIf"],["pTemplate","footer"],[1,"alert","alert-danger","mb-10"],[1,"d-flex","align-items-center","mb-2"],[1,"ki-duotone","ki-information-5","fs-2x","me-4"],[1,"mb-0","ps-5"],[4,"ngFor","ngForOf"],["type","button","aria-label","Close",1,"btn-close","position-absolute","end-0","top-0","m-4",3,"click"],[1,"fv-plugins-message-container","invalid-feedback"],[1,"d-flex","justify-content-center","align-items-center","min-h-150px","my-3","w-100"],[1,"spinner-border","spinner-border-md","align-middle","mx-2","text-info"],[1,"text-muted","ms-2"],[1,"col-12","mb-8"],[3,"nodesSelected","title","placeholder","otherFieldPlaceholder","selectAllLabel","fetchedData","cancelLabel","okLabel","isRequired","currentLang"],[3,"nodesSelected","title","placeholder","otherFieldPlaceholder","selectAllLabel","fetchedData","cancelLabel","okLabel","isRequired"],[1,"d-flex","flex-stack","py-4","border","border-top-0","border-left-0","border-right-0","border-dashed",3,"formGroup"],[1,"d-flex","align-items-center","gap-3"],[1,"symbol","symbol-20px"],[1,"ki-duotone","ki-check-circle","fs-1","text-success"],[1,"symbol","symbol-35px"],["alt","icon",3,"src"],[1,"ms-6","w-200px"],["href","#",1,"fs-5","fw-bold","text-gray-900","text-hover-primary","mb-2"],[1,"fw-semibold","text-muted"],[1,"mt-2","w-200px"],[1,"form-label"],["formControlName","type",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"min-w-100px"],["type","button","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-danger","btn-sm","text-danger",3,"click","pTooltip"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path4"],[1,"path5"],[3,"value"],[1,"text-danger"],[1,"fv-plugins-message-container","invalid-feedback","mt-2"],["formControlName","website","type","text",1,"form-control",3,"placeholder"],[1,"row","g-4"],[1,"col-12","col-lg-9"],[1,"d-flex","flex-column","flex-sm-row","gap-2","gap-sm-3","mb-2"],[1,"flex-grow-1"],["formControlName","companyEmail","type","email",1,"form-control",3,"placeholder"],[1,"d-grid","d-sm-block"],["type","button",1,"btn","btn-info","w-100",3,"click","disabled"],["class","text-danger fs-7 mt-2",4,"ngIf"],[1,"col-12","col-sm-6","col-lg-3"],["formControlName","code","type","text",1,"form-control",3,"placeholder"],[1,"spinner-border","spinner-border-sm","ms-2"],[1,"text-danger","fs-7","mt-2"],[1,"fv-row"],["class","dropzone dz-clickable border-2 border-dashed border-info rounded p-8 text-center",3,"click","drop","dragover",4,"ngIf"],["class","border rounded p-4",4,"ngIf"],["type","file","accept",".png, .jpg, .jpeg, .pdf",2,"display","none",3,"change"],[1,"dropzone","dz-clickable","border-2","border-dashed","border-info","rounded","p-8","text-center",3,"click","drop","dragover"],[1,"ki-outline","ki-file-up","fs-3x","text-primary","mb-3"],[1,"fs-4","fw-bold","text-gray-900","mb-2"],[1,"fs-7","text-muted"],[1,"border","rounded","p-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-40px","me-4"],[1,"fs-6","fw-bold","text-gray-900","d-block"],["type","button","tooltipPosition","top",1,"btn","btn-icon","btn-light-danger","btn-sm",3,"click","pTooltip"],[1,"fv-plugins-message-container","invalid-feedback","d-block","mt-2"],[1,"d-flex","justify-content-between","align-items-center","w-100"],[1,"m-0"],[1,"d-flex"],[1,"btn","btn-sm","btn-icon","me-2",3,"click"],[1,"ki-outline","ki-printer","fs-3"],[1,"btn","btn-sm","btn-icon",3,"click"],[1,"ki-outline","ki-save-2","fs-3"],[1,"d-flex","justify-content-center","py-4"],[1,"spinner-border","spinner-border-lg","text-primary"],[1,"agreement-content","custom-scrollbar"],[3,"innerHTML"],[1,"text-center","text-danger","py-4"],[1,"d-flex","flex-column","justify-content-between","align-items-center","gap-3"],[1,"text-muted","fs-7"],[1,"d-flex","gap-2"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-info",3,"click"]],template:function(n,o){if(1&n){const a=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"form",5),t.bIt("ngSubmit",function(){return t.eBV(a),t.Njj(o.onSubmit())}),t.DNE(3,Et,12,4,"div",6),t.j41(4,"div",7)(5,"h2",8),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",9),t.EFF(9),t.nI1(10,"translate"),t.j41(11,"a",10),t.EFF(12),t.nI1(13,"translate"),t.k0s()()(),t.j41(14,"div",11)(15,"div",12)(16,"div",13)(17,"label",14),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.nrm(20,"input",15),t.nI1(21,"translate"),t.DNE(22,St,3,3,"div",16),t.k0s(),t.j41(23,"div",13)(24,"label",14),t.EFF(25),t.nI1(26,"translate"),t.k0s(),t.nrm(27,"textarea",17),t.DNE(28,Mt,3,3,"div",16),t.k0s(),t.j41(29,"div",13)(30,"label",14),t.EFF(31),t.nI1(32,"translate"),t.k0s(),t.nrm(33,"input",18),t.nI1(34,"translate"),t.DNE(35,Rt,3,3,"div",16),t.k0s(),t.j41(36,"div",13)(37,"label",14),t.EFF(38),t.nI1(39,"translate"),t.k0s(),t.nrm(40,"app-country-dropdown",19),t.nI1(41,"translate"),t.DNE(42,Ot,3,3,"div",16),t.k0s(),t.j41(43,"div",13)(44,"label",14),t.EFF(45),t.nI1(46,"translate"),t.k0s(),t.j41(47,"div",20)(48,"div",21),t.nrm(49,"p-dropdown",22),t.nI1(50,"translate"),t.k0s(),t.j41(51,"input",23),t.nI1(52,"translate"),t.bIt("input",function(c){return t.eBV(a),t.Njj(o.onPhoneNumberInput(c))}),t.k0s()(),t.DNE(53,At,3,3,"div",16)(54,Pt,3,3,"div",16),t.k0s(),t.j41(55,"div",24),t.DNE(56,wt,5,3,"div",25)(57,Ft,17,39,"ng-container",26),t.k0s(),t.j41(58,"div",7)(59,"label",27),t.EFF(60),t.nI1(61,"translate"),t.k0s(),t.j41(62,"div",28)(63,"div",29),t.DNE(64,$t,34,21,"div",30),t.k0s()(),t.j41(65,"div",31)(66,"button",32),t.bIt("click",function(){return t.eBV(a),t.Njj(o.onCertDropzoneClick())}),t.nrm(67,"i",33),t.EFF(68),t.nI1(69,"translate"),t.k0s(),t.j41(70,"div",34),t.EFF(71),t.nI1(72,"translate"),t.k0s(),t.j41(73,"input",35,0),t.bIt("change",function(c){return t.eBV(a),t.Njj(o.onCertFileSelected(c))}),t.k0s()()(),t.j41(75,"div",13)(76,"label",14),t.EFF(77),t.nI1(78,"translate"),t.k0s(),t.j41(79,"div",36)(80,"div",37),t.nrm(81,"div",38),t.j41(82,"label",39),t.nI1(83,"translate"),t.j41(84,"i",40),t.nrm(85,"span",41)(86,"span",42),t.k0s(),t.j41(87,"input",43,1),t.bIt("change",function(c){return t.eBV(a),t.Njj(o.onLogoSelected(c))}),t.k0s(),t.nrm(89,"input",44),t.k0s()(),t.DNE(90,jt,3,3,"div",45),t.k0s()()()(),t.j41(91,"div",11)(92,"div",12)(93,"div",13)(94,"label",46),t.EFF(95),t.nI1(96,"translate"),t.k0s(),t.j41(97,"div",47)(98,"div",48)(99,"div",49),t.nrm(100,"input",50),t.j41(101,"label",51)(102,"span",52)(103,"i",53),t.nrm(104,"span",41)(105,"span",42)(106,"span",54),t.k0s()(),t.j41(107,"span",55),t.EFF(108),t.nI1(109,"translate"),t.k0s()()()(),t.j41(110,"div",48)(111,"div",49),t.nrm(112,"input",56),t.j41(113,"label",57)(114,"span",52)(115,"i",58),t.nrm(116,"span",41)(117,"span",42),t.k0s()(),t.j41(118,"span",55),t.EFF(119),t.nI1(120,"translate"),t.k0s()()()()()(),t.DNE(121,Zt,31,26,"div",59)(122,Qt,7,3,"div",59),t.j41(123,"div",28)(124,"div",60)(125,"p-checkbox",61),t.bIt("onChange",function(){return t.eBV(a),t.Njj(o.openAgreementDialog())}),t.k0s(),t.j41(126,"label",62),t.bIt("click",function(){return t.eBV(a),t.Njj(o.openAgreementDialog())}),t.EFF(127),t.nI1(128,"translate"),t.j41(129,"a",63),t.EFF(130),t.nI1(131,"translate"),t.k0s()()(),t.DNE(132,te,3,3,"div",64),t.k0s()()(),t.j41(133,"div",65)(134,"button",66),t.EFF(135),t.nI1(136,"translate"),t.k0s()()()()(),t.j41(137,"p-dialog",67),t.mxI("visibleChange",function(c){return t.eBV(a),t.DH7(o.showAgreementDialog,c)||(o.showAgreementDialog=c),t.Njj(c)}),t.DNE(138,ee,8,1,"ng-template",68)(139,ne,2,0,"div",69),t.j41(140,"div",70),t.DNE(141,oe,2,5,"div",71)(142,ie,2,0,"div",72),t.k0s(),t.DNE(143,ae,11,9,"ng-template",73),t.k0s()}if(2&n){let a,s,c,l,p,u,m,f,h,C,b,O;t.R7$(2),t.Y8G("formGroup",o.form),t.R7$(),t.Y8G("ngIf",o.showApiErrors&&o.apiErrorMessages.length>0),t.R7$(3),t.SpI(" ",t.bMT(7,70,"INSIGHTER_WIZARD.UPGRADE_TO_CORPORATE_ACCOUNT")," "),t.R7$(3),t.SpI(" ",t.bMT(10,72,"INSIGHTER_WIZARD.IF_NEED_MORE_INFO_VERIFICATION")," "),t.R7$(3),t.SpI(" ",t.bMT(13,74,"INSIGHTER_WIZARD.HELP_PAGE")," "),t.R7$(6),t.SpI(" ",t.bMT(19,76,"ACCOUNT_SETTINGS.COMPANY_LEGAL_NAME")," "),t.R7$(2),t.FS9("placeholder",t.bMT(21,78,"ACCOUNT_SETTINGS.COMPANY_LEGAL_NAME")),t.R7$(2),t.Y8G("ngIf",(null==(a=o.form.get("legalName"))?null:a.invalid)&&(null==(a=o.form.get("legalName"))?null:a.touched)),t.R7$(3),t.SpI(" ",t.bMT(26,80,"INSIGHTER_WIZARD.ABOUT_COMPANY")," "),t.R7$(3),t.Y8G("ngIf",(null==(s=o.form.get("aboutCompany"))?null:s.invalid)&&(null==(s=o.form.get("aboutCompany"))?null:s.touched)),t.R7$(3),t.SpI(" ",t.bMT(32,82,"INSIGHTER_WIZARD.ADDRESS")," "),t.R7$(2),t.FS9("placeholder",t.bMT(34,84,"INSIGHTER_WIZARD.ADDRESS_PLACEHOLDER")),t.R7$(2),t.Y8G("ngIf",(null==(c=o.form.get("address"))?null:c.invalid)&&(null==(c=o.form.get("address"))?null:c.touched)),t.R7$(3),t.SpI(" ",t.bMT(39,86,"INSIGHTER_WIZARD.COUNTRY")," "),t.R7$(2),t.Y8G("countries",o.countries)("placeholder",t.bMT(41,88,"INSIGHTER_WIZARD.COUNTRY_PLACEHOLDER"))("searchPlaceholder","Search countries...")("enableSearch",!0)("showClear",!0)("lang",o.lang)("isInvalid",!(null==(l=o.form.get("country"))||!l.hasError("required")||null==(l=o.form.get("country"))||!l.touched)),t.R7$(2),t.Y8G("ngIf",(null==(p=o.form.get("country"))?null:p.invalid)&&(null==(p=o.form.get("country"))?null:p.touched)),t.R7$(3),t.SpI(" ",t.bMT(46,90,"INSIGHTER_WIZARD.COMPANY_PHONE")," "),t.R7$(4),t.FS9("placeholder",t.bMT(50,92,"INSIGHTER_WIZARD.COUNTRY_PLACEHOLDER")),t.Y8G("options",o.phoneNumbers)("filter",!0)("showClear",!0),t.R7$(2),t.AVh("is-invalid",(null==(u=o.form.get("company_phone"))?null:u.invalid)&&(null==(u=o.form.get("company_phone"))?null:u.touched)),t.FS9("placeholder",t.bMT(52,94,"INSIGHTER_WIZARD.COMPANY_PHONE_PLACEHOLDER")),t.Y8G("dir","ar"==o.lang?"rtl":"ltr"),t.R7$(2),t.Y8G("ngIf",(null==(m=o.form.get("company_phone"))?null:m.invalid)&&(null==(m=o.form.get("company_phone"))?null:m.touched)),t.R7$(),t.Y8G("ngIf",(null==(f=o.form.get("phoneCountryCode"))?null:f.invalid)&&(null==(f=o.form.get("phoneCountryCode"))?null:f.touched)),t.R7$(2),t.Y8G("ngIf",o.isLoadingFields),t.R7$(),t.Y8G("ngIf",!o.isLoadingFields),t.R7$(3),t.SpI(" ",t.bMT(61,96,"COMPANY_CERTIFICATIONS")," "),t.R7$(4),t.Y8G("ngForOf",o.certificationControls),t.R7$(4),t.SpI(" ",t.bMT(69,98,"INSIGHTER_WIZARD.DROP_FILES_HERE_OR_CLICK")," "),t.R7$(3),t.SpI(" ",t.bMT(72,100,"INSIGHTER_WIZARD.UPLOAD_UP_TO_FILES")," "),t.R7$(6),t.SpI(" ",t.bMT(78,102,"INSIGHTER_WIZARD.COMPANYLOGO")," "),t.R7$(3),t.xc7("background-image",o.getLogoBackgroundImage()),t.R7$(),t.xc7("background-image",o.getLogoBackgroundImage()),t.R7$(),t.FS9("title",t.bMT(83,104,"INSIGHTER_WIZARD.CHANGE_LOGO")),t.R7$(8),t.Y8G("ngIf",(null==(h=o.form.get("logo"))?null:h.invalid)&&(null==(h=o.form.get("logo"))?null:h.touched)),t.R7$(5),t.SpI(" ",t.bMT(96,106,"INSIGHTER_WIZARD.CHOOSE_VERIFICATION_METHOD")," "),t.R7$(13),t.JRh(t.bMT(109,108,"INSIGHTER_WIZARD.BY_WEBSITE_COMPANY_EMAIL")),t.R7$(11),t.JRh(t.bMT(120,110,"INSIGHTER_WIZARD.BY_UPLOADING_REGISTRY_DOCUMENT")),t.R7$(2),t.Y8G("ngIf","websiteEmail"===(null==(C=o.form.get("verificationMethod"))?null:C.value)),t.R7$(),t.Y8G("ngIf","uploadDocument"===(null==(b=o.form.get("verificationMethod"))?null:b.value)),t.R7$(3),t.Y8G("binary",!0),t.R7$(2),t.SpI(" ",t.bMT(128,112,"INSIGHTER_WIZARD.I_ACCEPT_THE")," "),t.R7$(3),t.SpI(" ",t.bMT(131,114,"INSIGHTER_WIZARD.COMPANY_TERMS")," "),t.R7$(2),t.Y8G("ngIf",(null==(O=o.form.get("agreement"))?null:O.invalid)&&((null==(O=o.form.get("agreement"))?null:O.touched)||o.attemptedSubmit)),t.R7$(3),t.SpI(" ",t.bMT(136,116,"INSIGHTER_WIZARD.UPGRADE_TO_CORPORATE_ACCOUNT")," "),t.R7$(2),t.Aen(t.lJ4(118,Tt)),t.R50("visible",o.showAgreementDialog),t.Y8G("modal",!0)("closable",!0)("closeOnEscape",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!0)("blockScroll",!0),t.R7$(2),t.Y8G("ngIf",o.isLoadingAgreement),t.R7$(2),t.Y8G("ngIf",!o.isLoadingAgreement&&o.agreementContent),t.R7$(),t.Y8G("ngIf",!o.isLoadingAgreement&&!o.agreementContent)}},dependencies:[_.Sq,_.bT,d.qT,d.xH,d.y7,d.me,d.wz,d.Fm,d.BC,d.cb,j.m,d.j4,d.JD,W.l,k.Ei,L.Sc,Z.o,J.ms,q.R,_.Jj,_.QX,y.D9,Ct._],styles:[".max-width-200px[_ngcontent-%COMP%]{max-width:250px;width:250px}.logo-placeholder[_ngcontent-%COMP%]{background-size:contain;background-position:center}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.radio-options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.radio-option[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding-left:0;margin-bottom:0}.radio-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{float:none;margin-left:0;margin-right:.75rem}.radio-option[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1rem;border-radius:.475rem;transition:all .2s ease;cursor:pointer}.radio-option[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]:hover{background-color:#f5f8fa}.radio-option[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;margin-right:.75rem;color:#7e8299}.radio-option[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.radio-option[_ngcontent-%COMP%]   .radio-text[_ngcontent-%COMP%]{font-weight:500;color:#181c32}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]{background-color:#f1faff;border-color:#e1f0ff}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{color:#0978b9}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]   .radio-text[_ngcontent-%COMP%]{color:#0978b9;font-weight:600}.agreement-content[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#5e6278;padding:.5rem}.agreement-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#181c32;margin-bottom:.75rem;font-weight:600}.agreement-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.agreement-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:1rem;padding-left:1.5rem}.agreement-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0275d8;text-decoration:none}.agreement-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}  .terms-dialog .p-dialog-header{padding:1rem 1.5rem;border-bottom:1px solid #eff2f5}  .terms-dialog .p-dialog-content{padding:0}  .terms-dialog .p-dialog-footer{padding:1rem 1.5rem;border-top:1px solid #eff2f5}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.form-check-label[_ngcontent-%COMP%]{cursor:pointer}.terms-content-wrapper[_ngcontent-%COMP%]{padding:1rem}@media (max-width: 767px){  .p-dialog{max-width:100vw!important;max-height:90vh!important}}"]})}return i})();var T=g(2100);let K=(()=>{class i{http;baseUrl="https://api.foresighta.co/api";isLoadingSubject=new w.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(e){this.http=e}setLoading(e){this.isLoadingSubject.next(e)}handleError(e){return(0,$.$)(()=>e)}deactivateCompanyWithDelete(e,n,o){const a=new v.Lr({Accept:"application/json","Accept-Language":o}),s=new FormData;return s.append("comments",e),s.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/company/request/deactivate-delete`,s,{headers:a}).pipe((0,I.T)(c=>c),(0,S.W)(c=>this.handleError(c)),(0,M.j)(()=>this.setLoading(!1)))}deactivateInsighterWithDelete(e,n,o){const a=new v.Lr({Accept:"application/json","Accept-Language":o}),s=new FormData;return s.append("comments",e),s.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/insighter/request/deactivate-delete`,s,{headers:a}).pipe((0,I.T)(c=>c),(0,S.W)(c=>this.handleError(c)),(0,M.j)(()=>this.setLoading(!1)))}deactivateCompanyWithoutDelete(e,n,o){const a=new v.Lr({Accept:"application/json","Accept-Language":o}),s=new FormData;return s.append("comments",e),s.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/company/deactivate`,s,{headers:a}).pipe((0,I.T)(c=>c),(0,S.W)(c=>this.handleError(c)),(0,M.j)(()=>this.setLoading(!1)))}deactivateInsighterWithoutDelete(e,n,o){const a=new v.Lr({Accept:"application/json","Accept-Language":o}),s=new FormData;return s.append("comments",e),s.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/insighter/deactivate`,s,{headers:a}).pipe((0,I.T)(c=>c),(0,S.W)(c=>this.handleError(c)),(0,M.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||i)(t.KVO(v.Qq))};static \u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Q=g(1880);const se=["input"],ce=(i,r,e,n)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":i,"p-radiobutton-disabled":r,"p-radiobutton-focused":e,"p-variant-filled":n}),le=(i,r,e)=>({"p-radiobutton-box":!0,"p-highlight":i,"p-disabled":r,"p-focus":e}),de=(i,r,e)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":i,"p-disabled":r,"p-radiobutton-label-focus":e});function pe(i,r){if(1&i){const e=t.RV6();t.j41(0,"label",7),t.bIt("click",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.select(o))}),t.EFF(1),t.k0s()}if(2&i){const e=t.XpG(),n=t.sdS(3);t.HbH(e.labelStyleClass),t.Y8G("ngClass",t.sMw(6,de,n.checked,e.disabled,e.focused)),t.BMQ("for",e.inputId)("data-pc-section","label"),t.R7$(),t.JRh(e.label)}}const ue={provide:d.kq,useExisting:(0,t.Rfq)(()=>tt),multi:!0};let ge=(()=>{class i{accessors=[];add(e,n){this.accessors.push([e,n])}remove(e){this.accessors=this.accessors.filter(n=>n[1]!==e)}select(e){this.accessors.forEach(n=>{this.isSameGroup(n,e)&&n[1]!==e&&n[1].writeValue(e.value)})}isSameGroup(e,n){return!!e[0].control&&e[0].control.root===n.control.control.root&&e[1].name===n.name}static \u0275fac=function(n){return new(n||i)};static \u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),tt=(()=>{class i{cd;injector;registry;config;value;formControlName;name;disabled;label;variant="outlined";tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;autofocus;onClick=new t.bkB;onFocus=new t.bkB;onBlur=new t.bkB;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(e,n,o,a){this.cd=e,this.injector=n,this.registry=o,this.config=a}ngOnInit(){this.control=this.injector.get(d.vO),this.checkName(),this.registry.add(this.control,this)}handleClick(e,n,o){this.disabled||(this.select(e),o&&n.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}static \u0275fac=function(n){return new(n||i)(t.rXU(t.gRc),t.rXU(t.zZn),t.rXU(ge),t.rXU(k.r1))};static \u0275cmp=t.VBU({type:i,selectors:[["p-radioButton"]],viewQuery:function(n,o){if(1&n&&t.GBs(se,5),2&n){let a;t.mGM(a=t.lsd())&&(o.inputViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:[t.Mj6.HasDecoratorInputTransform,"disabled","disabled",t.L39],label:"label",variant:"variant",tabindex:[t.Mj6.HasDecoratorInputTransform,"tabindex","tabindex",t.Udg],inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",autofocus:[t.Mj6.HasDecoratorInputTransform,"autofocus","autofocus",t.L39]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[t.Jv_([ue]),t.GFd],decls:7,vars:30,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio","pAutoFocus","",3,"focus","blur","checked","disabled","value","autofocus"],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"click","ngClass"]],template:function(n,o){if(1&n){const a=t.RV6();t.j41(0,"div",1),t.bIt("click",function(c){t.eBV(a);const l=t.sdS(3);return t.Njj(o.handleClick(c,l,!0))}),t.j41(1,"div",2)(2,"input",3,0),t.bIt("focus",function(c){return t.eBV(a),t.Njj(o.onInputFocus(c))})("blur",function(c){return t.eBV(a),t.Njj(o.onInputBlur(c))}),t.k0s()(),t.j41(4,"div",4),t.nrm(5,"span",5),t.k0s()(),t.DNE(6,pe,2,10,"label",6)}2&n&&(t.HbH(o.styleClass),t.Y8G("ngStyle",o.style)("ngClass",t.ziG(21,ce,o.checked,o.disabled,o.focused,"filled"===o.variant||"filled"===o.config.inputStyle())),t.BMQ("data-pc-name","radiobutton")("data-pc-section","root"),t.R7$(),t.BMQ("data-pc-section","hiddenInputWrapper"),t.R7$(),t.Y8G("checked",o.checked)("disabled",o.disabled)("value",o.value)("autofocus",o.autofocus),t.BMQ("id",o.inputId)("name",o.name)("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("tabindex",o.tabindex)("data-pc-section","hiddenInput"),t.R7$(2),t.Y8G("ngClass",t.sMw(26,le,o.checked,o.disabled,o.focused)),t.BMQ("data-pc-section","input"),t.R7$(),t.BMQ("data-pc-section","icon"),t.R7$(),t.Y8G("ngIf",o.label))},dependencies:[_.YU,_.bT,_.B3,Q.q],encapsulation:2,changeDetection:0})}return i})(),me=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=t.$C({type:i});static \u0275inj=t.G2t({imports:[_.MD,Q.u]})}return i})();const D=()=>["company"],U=()=>["company-insighter"],V=()=>["insighter"];function _e(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.TITLE_COMPANY")," "))}function fe(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.TITLE_INSIGHTER")," "))}function he(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.DESCRIPTION_COMPANY")," "))}function be(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.DESCRIPTION_INSIGHTER")," "))}function Ce(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",16)(1,"p-radioButton",17),t.mxI("ngModelChange",function(o){t.eBV(e);const a=t.XpG(3);return t.DH7(a.deactivationType,o)||(a.deactivationType=o),t.Njj(o)}),t.k0s(),t.j41(2,"label",18),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}if(2&i){const e=t.XpG(3);t.R7$(),t.R50("ngModel",e.deactivationType),t.Y8G("inputId","user"),t.R7$(),t.Y8G("for","user"),t.R7$(),t.JRh(t.bMT(4,4,"DEACTIVATE_ACCOUNT.MODAL.DEACTIVATE_USER_ONLY"))}}function ve(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",16)(1,"p-radioButton",19),t.mxI("ngModelChange",function(o){t.eBV(e);const a=t.XpG(3);return t.DH7(a.deactivationType,o)||(a.deactivationType=o),t.Njj(o)}),t.k0s(),t.j41(2,"label",18),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}if(2&i){const e=t.XpG(3);t.R7$(),t.R50("ngModel",e.deactivationType),t.Y8G("inputId","company"),t.R7$(),t.Y8G("for","company"),t.R7$(),t.JRh(t.bMT(4,4,"DEACTIVATE_ACCOUNT.MODAL.DEACTIVATE_COMPANY_ONLY"))}}function xe(i,r){if(1&i&&(t.j41(0,"div",12)(1,"label",13),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",14),t.DNE(5,Ce,5,6,"div",15)(6,ve,5,6,"div",15),t.k0s()()),2&i){const e=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,3,"DEACTIVATE_ACCOUNT.MODAL.DEACTIVATION_TYPE")),t.R7$(3),t.Y8G("ngIf","active"===e.config.data.insighter_status),t.R7$(),t.Y8G("ngIf","active"===e.config.data.company_status)}}function ye(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_USER")," "))}function Te(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_COMPANY")," "))}function Ie(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_BOTH")," "))}function Ee(i,r){if(1&i&&(t.qex(0),t.DNE(1,ye,3,3,"ng-container",0)(2,Te,3,3,"ng-container",0)(3,Ie,3,3,"ng-container",0),t.bVm()),2&i){const e=t.XpG(3);t.R7$(),t.Y8G("ngIf","user"===e.deactivationType),t.R7$(),t.Y8G("ngIf","company"===e.deactivationType),t.R7$(),t.Y8G("ngIf","both"===e.deactivationType)}}function Se(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_COMPANY")," "))}function Me(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_INSIGHTER")," "))}function Re(i,r){if(1&i&&(t.qex(0),t.DNE(1,Ee,4,3,"ng-container",0)(2,Se,3,3,"ng-container",0)(3,Me,3,3,"ng-container",0),t.bVm()),2&i){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.hasRole(t.lJ4(3,D))),t.R7$(),t.Y8G("ngIf",e.hasRole(t.lJ4(4,U))),t.R7$(),t.Y8G("ngIf",e.hasRole(t.lJ4(5,V)))}}function Oe(i,r){1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.nrm(3,"span",20),t.bVm()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"COMMON.PLEASE_WAIT")," "))}function Ae(i,r){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.DNE(5,_e,3,3,"ng-container",0)(6,fe,3,3,"ng-container",0),t.k0s(),t.j41(7,"p",5),t.DNE(8,he,3,3,"ng-container",0)(9,be,3,3,"ng-container",0),t.k0s()(),t.DNE(10,xe,7,5,"div",6),t.j41(11,"div",7)(12,"label",8),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"textarea",9),t.nI1(16,"translate"),t.mxI("ngModelChange",function(o){t.eBV(e);const a=t.XpG();return t.DH7(a.deactivationReason,o)||(a.deactivationReason=o),t.Njj(o)}),t.k0s()(),t.j41(17,"div",10)(18,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.deactivateAccount())}),t.DNE(19,Re,4,6,"ng-container",0)(20,Oe,4,3,"ng-container",0),t.k0s()()()(),t.bVm()}if(2&i){const e=t.XpG();t.R7$(5),t.Y8G("ngIf",e.hasRole(t.lJ4(15,D))||e.hasRole(t.lJ4(16,U))),t.R7$(),t.Y8G("ngIf",e.hasRole(t.lJ4(17,V))),t.R7$(2),t.Y8G("ngIf",e.hasRole(t.lJ4(18,D))||e.hasRole(t.lJ4(19,U))),t.R7$(),t.Y8G("ngIf",e.hasRole(t.lJ4(20,V))),t.R7$(),t.Y8G("ngIf",e.hasRole(t.lJ4(21,D))),t.R7$(3),t.JRh(t.bMT(14,11,"DEACTIVATE_ACCOUNT.MODAL.REASON_LABEL")),t.R7$(2),t.R50("ngModel",e.deactivationReason),t.Y8G("placeholder",t.bMT(16,13,"DEACTIVATE_ACCOUNT.MODAL.REASON_PLACEHOLDER")),t.R7$(3),t.Y8G("disabled",!e.deactivationReason||e.isLoading),t.R7$(),t.Y8G("ngIf",!e.isLoading),t.R7$(),t.Y8G("ngIf",e.isLoading)}}function Pe(i,r){1&i&&(t.qex(0),t.j41(1,"div",21)(2,"div",2)(3,"div",22)(4,"div",23),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.nrm(7,"app-keenicon",24),t.k0s()()(),t.bVm()),2&i&&(t.R7$(5),t.SpI(" ",t.bMT(6,1,"DEACTIVATE_ACCOUNT_SUCCESS_MESSAGE")," "))}let we=(()=>{class i extends x.${deactivateService;getProfileService;ref;config;deactivationReason="";step=1;roles=[];isLoading=!1;deactivationType="both";constructor(e,n,o,a,s){super(e),this.deactivateService=n,this.getProfileService=o,this.ref=a,this.config=s}ngOnInit(){this.config.data&&this.config.data.deactivationType&&(this.deactivationType=this.config.data.deactivationType);const e=this.getProfileService.getProfile().subscribe({next:n=>{this.roles=n.roles,this.hasRole(["company"])&&!this.config.data?.deactivationType&&(this.deactivationType="both")}});this.unsubscribe.push(e)}deactivateInsighter(){this.isLoading=!0;const e=this.deactivateService.deactivateInsighterWithoutDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0628\u0646\u062c\u0627\u062d":"Account deactivated successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(e)}deactivateCompany(){this.isLoading=!0;const e=this.deactivateService.deactivateCompanyWithoutDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0628\u0646\u062c\u0627\u062d":"Account deactivated successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(e)}deactivateAccount(){if(this.hasRole(["insighter"]))this.deactivateInsighter();else if(this.hasRole(["company"]))if("user"===this.deactivationType)this.deactivateInsighter();else if("company"===this.deactivationType)this.deactivateCompany();else if("both"===this.deactivationType){const e=this.deactivateService.deactivateCompanyWithoutDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.deactivateInsighter()},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(e)}}hasRole(e){return this.roles.some(n=>e.includes(n))}handleServerErrors(e){if(e.error&&e.error.errors){const n=e.error.errors;for(const o in n)n.hasOwnProperty(o)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[o].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||i)(t.rXU(t.zZn),t.rXU(K),t.rXU(R.p),t.rXU(T.Pw),t.rXU(T.sb))};static \u0275cmp=t.VBU({type:i,selectors:[["app-deactivate-dialog"]],features:[t.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[1,"card","border-0","shadow-none"],[1,"card-body"],[1,"mb-5"],[1,"text-xl","font-bold","mb-3"],[1,"text-gray-600"],["class","form-group mb-4",4,"ngIf"],[1,"form-group"],[1,"form-label","required"],["rows","4",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","justify-content-end","mt-5"],["type","button",1,"btn","btn-danger","w-100",3,"click","disabled"],[1,"form-group","mb-4"],[1,"form-label"],[1,"d-flex","flex-column","gap-2","mt-2"],["class","p-field-radiobutton",4,"ngIf"],[1,"p-field-radiobutton"],["name","deactivationType","value","user",3,"ngModelChange","ngModel","inputId"],[1,"ms-2",3,"for"],["name","deactivationType","value","company",3,"ngModelChange","ngModel","inputId"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"card"],[1,"text-center"],[1,"text-success","font-bold","text-xl","mb-3"],["name","check",1,"text-success","fs-3xl"]],template:function(n,o){1&n&&t.DNE(0,Ae,21,22,"ng-container",0)(1,Pe,8,3,"ng-container",0),2&n&&(t.Y8G("ngIf",1===o.step),t.R7$(),t.Y8G("ngIf",2===o.step))},dependencies:[_.bT,d.me,d.BC,d.vS,tt,y.D9],encapsulation:2})}return i})();function ke(i,r){1&i&&(t.j41(0,"span",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.CONFIRM_BUTTON")," "))}function De(i,r){1&i&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"translate"),t.nrm(3,"span",19),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"COMMON.PLEASE_WAIT")," "))}function Fe(i,r){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"p",5),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"div",6)(11,"i",7),t.nrm(12,"span",8)(13,"span",9),t.k0s(),t.EFF(14),t.nI1(15,"translate"),t.k0s()(),t.j41(16,"div",10)(17,"label",11),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.j41(20,"textarea",12),t.nI1(21,"translate"),t.mxI("ngModelChange",function(o){t.eBV(e);const a=t.XpG();return t.DH7(a.deactivationReason,o)||(a.deactivationReason=o),t.Njj(o)}),t.k0s()(),t.j41(22,"div",13)(23,"button",14),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.deactivateAccount())}),t.DNE(24,ke,3,3,"span",15)(25,De,4,3,"span",16),t.k0s()()()(),t.bVm()}if(2&i){const e=t.XpG();t.R7$(5),t.SpI(" ",t.bMT(6,9,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.TITLE")," "),t.R7$(3),t.SpI(" ",t.bMT(9,11,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.DESCRIPTION")," "),t.R7$(6),t.SpI(" ",t.bMT(15,13,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.WARNING")," "),t.R7$(4),t.JRh(t.bMT(19,15,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.REASON_LABEL")),t.R7$(2),t.R50("ngModel",e.deactivationReason),t.Y8G("placeholder",t.bMT(21,17,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.REASON_PLACEHOLDER")),t.R7$(3),t.Y8G("disabled",!e.deactivationReason||e.isLoading),t.R7$(),t.Y8G("ngIf",!e.isLoading),t.R7$(),t.Y8G("ngIf",e.isLoading)}}function Ne(i,r){1&i&&(t.qex(0),t.j41(1,"div",1)(2,"div",2)(3,"div",20)(4,"div",21),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.nrm(7,"app-keenicon",22),t.k0s()()(),t.bVm()),2&i&&(t.R7$(5),t.SpI(" ",t.bMT(6,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.SUCCESS_MESSAGE")," "))}let Ge=(()=>{class i extends x.${deactivateService;getProfileService;ref;deactivationReason="";step=1;roles=[];isLoading=!1;constructor(e,n,o,a){super(e),this.deactivateService=n,this.getProfileService=o,this.ref=a}ngOnInit(){const e=this.getProfileService.getProfile().subscribe({next:n=>{this.roles=n.roles}});this.unsubscribe.push(e)}deactivateInsighter(){this.isLoading=!0;const e=this.deactivateService.deactivateInsighterWithDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0648\u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d":"Account deactivated and data deleted successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(e)}deactivateCompany(){this.isLoading=!0;const e=this.deactivateService.deactivateCompanyWithDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0648\u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d":"Account deactivated and data deleted successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(e)}deactivateAccount(){this.hasRole(["insighter"])?this.deactivateInsighter():this.hasRole(["company"])&&this.deactivateCompany()}hasRole(e){return this.roles.some(n=>e.includes(n))}handleServerErrors(e){if(e.error&&e.error.errors){const n=e.error.errors;for(const o in n)n.hasOwnProperty(o)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[o].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||i)(t.rXU(t.zZn),t.rXU(K),t.rXU(R.p),t.rXU(T.Pw))};static \u0275cmp=t.VBU({type:i,selectors:[["app-delete-dialog"]],features:[t.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[1,"card","shadow-none","border-0"],[1,"card-body"],[1,"mb-5"],[1,"text-xl","font-bold","mb-3"],[1,"text-gray-600"],[1,"alert","alert-danger","mt-4"],[1,"ki-duotone","ki-warning-2","fs-2","me-2"],[1,"path1"],[1,"path2"],[1,"form-group"],[1,"form-label","required"],["rows","4",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","justify-content-end","mt-5"],["type","button",1,"btn","btn-danger","w-100",3,"click","disabled"],["class","indicator-label",4,"ngIf"],["class","indicator-progress",4,"ngIf"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"text-center"],[1,"text-success","font-bold","text-xl","mb-3"],["name","check",1,"text-success","fs-3xl"]],template:function(n,o){1&n&&t.DNE(0,Fe,26,19,"ng-container",0)(1,Ne,8,3,"ng-container",0),2&n&&(t.Y8G("ngIf",1===o.step),t.R7$(),t.Y8G("ngIf",2===o.step))},dependencies:[_.bT,d.me,d.BC,d.vS,y.D9],encapsulation:2})}return i})();var $e=g(152),je=g(3294),Le=g(5558),Y=g(6977);let Ue=(()=>{class i{http;translationService;apiUrl="https://api.foresighta.co/api/company/transfer/account/invitation";isLoadingSubject=new w.t(!1);searchInsighterUrl="https://api.foresighta.co/api/insighter/search/insighter";isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(e,n){this.http=e,this.translationService=n,this.translationService.onLanguageChange().subscribe(o=>{this.currentLang=o||"en"})}setLoading(e){this.isLoadingSubject.next(e)}handleError(e){return(0,$.$)(e)}sendTransferInvitation(e,n){const o=new v.Lr({Accept:"application/json","Accept-Language":n}),a=new FormData;return a.append("email",e),this.setLoading(!0),this.http.post(this.apiUrl,a,{headers:o}).pipe((0,I.T)(s=>s),(0,S.W)(s=>this.handleError(s)),(0,M.j)(()=>this.setLoading(!1)))}verifyTransferInvitation(e,n,o){const a=new v.Lr({Accept:"application/json","Accept-Language":o}),s=new FormData;return s.append("email",e),s.append("code",n),this.setLoading(!0),this.http.post("https://api.foresighta.co/api/company/transfer/account/verification",s,{headers:a}).pipe((0,I.T)(c=>c),(0,S.W)(c=>this.handleError(c)),(0,M.j)(()=>this.setLoading(!1)))}searchInsighters(e,n="en"){const o=new v.Lr({"Accept-Language":n});return this.http.get(this.searchInsighterUrl,{headers:o,params:{keyword:e}})}static \u0275fac=function(n){return new(n||i)(t.KVO(v.Qq),t.KVO(z.L))};static \u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Ve(i,r){if(1&i&&t.nrm(0,"img",25),2&i){const e=t.XpG().$implicit;t.Y8G("src",e.profile_image,t.B4B)("alt",e.name)}}function Ye(i,r){if(1&i&&(t.j41(0,"span",26),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit,n=t.XpG(3);t.Y8G("ngClass",e.bgClass),t.R7$(),t.SpI(" ",n.getInitials(e.name)," ")}}function Be(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",16)(1,"div",17)(2,"div",18),t.DNE(3,Ve,1,2,"img",19)(4,Ye,2,2,"span",20),t.k0s(),t.j41(5,"div",21)(6,"div",22),t.EFF(7),t.k0s(),t.j41(8,"div",23),t.EFF(9),t.k0s()()(),t.j41(10,"button",24),t.bIt("click",function(){const o=t.eBV(e).$implicit,a=t.XpG(3);return t.Njj(a.inviteUser(o))}),t.EFF(11),t.nI1(12,"translate"),t.k0s()()}if(2&i){const e=r.$implicit;t.R7$(3),t.Y8G("ngIf",e.profile_image),t.R7$(),t.Y8G("ngIf",!e.profile_image),t.R7$(3),t.JRh(e.name),t.R7$(2),t.JRh(e.email),t.R7$(2),t.SpI(" ",t.bMT(12,5,"TRANSFER_COMPANY_ACCOUNT.INVITE")," ")}}function He(i,r){1&i&&(t.j41(0,"div",27),t.nrm(1,"span",28),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"COMMON.LOADING")," "))}function Xe(i,r){1&i&&(t.j41(0,"div",27),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"TRANSFER_COMPANY_ACCOUNT.NO_USERS_FOUND")," "))}function ze(i,r){if(1&i&&(t.qex(0),t.j41(1,"div",13),t.DNE(2,Be,13,7,"div",14)(3,He,4,3,"div",15)(4,Xe,3,3,"div",15),t.k0s(),t.bVm()),2&i){const e=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",e.fetchedUsers),t.R7$(),t.Y8G("ngIf",e.isLoading),t.R7$(),t.Y8G("ngIf",!e.isLoading&&0===e.fetchedUsers.length)}}function We(i,r){if(1&i&&(t.qex(0),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",5),t.EFF(8),t.nI1(9,"translate"),t.j41(10,"a",6),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.EFF(13,". "),t.k0s()(),t.j41(14,"div",7)(15,"span",8)(16,"i",9),t.nrm(17,"span",10)(18,"span",11),t.k0s()(),t.nrm(19,"input",12),t.nI1(20,"translate"),t.k0s(),t.DNE(21,ze,5,3,"ng-container",0),t.k0s()(),t.bVm()),2&i){const e=t.XpG();t.R7$(5),t.JRh(t.bMT(6,6,"TRANSFER_COMPANY_ACCOUNT.TRANSFER_TO")),t.R7$(3),t.SpI(" ",t.bMT(9,8,"TRANSFER_COMPANY_ACCOUNT.MORE_INFO_TEXT")," "),t.R7$(3),t.JRh(t.bMT(12,10,"TRANSFER_COMPANY_ACCOUNT.THIS_PAGE")),t.R7$(8),t.Y8G("placeholder",t.bMT(20,12,"COMMON.SEARCH"))("formControl",e.searchControl),t.R7$(2),t.Y8G("ngIf",e.searchControl.value.length>0)}}function Ze(i,r){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",23),t.EFF(8),t.nI1(9,"translate"),t.j41(10,"div",29),t.EFF(11),t.k0s()()(),t.j41(12,"div",30)(13,"input",31),t.nI1(14,"translate"),t.mxI("ngModelChange",function(o){t.eBV(e);const a=t.XpG();return t.DH7(a.code,o)||(a.code=o),t.Njj(o)}),t.k0s(),t.j41(15,"button",32),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.transfer())}),t.EFF(16),t.nI1(17,"translate"),t.k0s()()()(),t.bVm()}if(2&i){const e=t.XpG();t.R7$(5),t.JRh(t.bMT(6,7,"AUTH.TWO_FA.VERIFY_PHONE")),t.R7$(3),t.SpI(" ",t.bMT(9,9,"AUTH.TWO_FA.ENTER_VERIFICATION_CODE")," "),t.R7$(3),t.JRh(null==e.selectedUser?null:e.selectedUser.email),t.R7$(2),t.R50("ngModel",e.code),t.Y8G("placeholder",t.bMT(14,11,"AUTH.TWO_FA.ENTER_CODE")),t.R7$(2),t.Y8G("disabled",6!==e.code.length),t.R7$(),t.SpI(" ",t.bMT(17,13,"TRANSFER_COMPANY_ACCOUNT.BUTTON_TEXT")," ")}}let Je=(()=>{class i extends x.${transferCoporateAccountService;ref;step=1;isLoading=!1;fetchedUsers=[];selectedUser=null;searchControl=new d.MJ("");code="";constructor(e,n,o){super(e),this.transferCoporateAccountService=n,this.ref=o}ngOnInit(){this.searchControl.valueChanges.pipe((0,$e.B)(300),(0,je.F)(),(0,Le.n)(e=>""===e.trim()?(0,A.of)([]):(this.isLoading=!0,this.transferCoporateAccountService.searchInsighters(e,this.lang??"en"))),(0,Y.Q)(this.unsubscribe$)).subscribe({next:e=>{const n=Array.isArray(e)?e:e.data||[];this.fetchedUsers=n.map(o=>({...o,bgClass:this.getRandomClass()})),this.isLoading=!1},error:e=>{this.handleServerErrors(e),this.isLoading=!1}})}inviteUser(e){const n=e.email;this.selectedUser=e;const o=this.transferCoporateAccountService.sendTransferInvitation(n,this.lang??"en").subscribe({next:()=>{this.showSuccess("ar"===this.lang?"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062f\u0639\u0648\u0629 \u0628\u0646\u062c\u0627\u062d":"Invitation sent successfully","ar"===this.lang?`\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062f\u0639\u0648\u0629 \u0625\u0644\u0649 ${n} \u0628\u0646\u062c\u0627\u062d`:`Invitation sent to ${n} successfully`),this.step=2},error:a=>this.handleServerErrors(a)});this.unsubscribe.push(o)}transfer(){if(!this.selectedUser)return;const e=this.transferCoporateAccountService.verifyTransferInvitation(this.selectedUser.email,this.code,this.lang??"en").subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0627\u0644\u062a\u062d\u0642\u0642 \u0628\u0646\u062c\u0627\u062d":"Verification successful"),this.ref.close(!0),window.location.reload()},error:n=>this.handleServerErrors(n)});this.unsubscribe.push(e)}getInitials(e){return e.split(" ").map(n=>n[0]).join("")}getRandomClass(){const e=["bg-light-success","bg-light-info","bg-light-primary","bg-light-warning","bg-light-danger","bg-light-secondary","bg-light-dark"];return e[Math.floor(Math.random()*e.length)]}handleServerErrors(e){if(e.error&&e.error.errors){const n=e.error.errors;for(const o in n)n.hasOwnProperty(o)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[o].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||i)(t.rXU(t.zZn),t.rXU(Ue),t.rXU(T.Pw))};static \u0275cmp=t.VBU({type:i,selectors:[["app-transfer-dialog"]],features:[t.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[1,"card"],[1,"card-body"],[1,"text-center","mb-8"],[1,"mb-3"],[1,"text-muted","fw-semibold"],[1,"link-primary","fw-bold"],[1,"input-group","mb-5"],[1,"input-group-text","border-0"],[1,"ki-duotone","ki-magnifier","fs-3"],[1,"path1"],[1,"path2"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"mh-300px","overflow-auto"],["class","d-flex align-items-center justify-content-between p-4 border-bottom",4,"ngFor","ngForOf"],["class","text-center py-4",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between","p-4","border-bottom"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-35px","symbol-circle"],[3,"src","alt",4,"ngIf"],["class","symbol-label fw-semibold",3,"ngClass",4,"ngIf"],[1,"ms-4"],[1,"fs-5","fw-bold","text-gray-900"],[1,"text-muted"],[1,"btn","btn-sm","btn-light",3,"click"],[3,"src","alt"],[1,"symbol-label","fw-semibold",3,"ngClass"],[1,"text-center","py-4"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fw-bold","mt-2"],[1,"d-flex","flex-column","align-items-center","gap-4"],["type","text","maxlength","6",1,"form-control","form-control-lg","text-center","w-200px",3,"ngModelChange","ngModel","placeholder"],[1,"btn","btn-primary","w-200px",3,"click","disabled"]],template:function(n,o){1&n&&t.DNE(0,We,22,14,"ng-container",0)(1,Ze,18,15,"ng-container",0),2&n&&(t.Y8G("ngIf",1===o.step),t.R7$(),t.Y8G("ngIf",2===o.step))},dependencies:[_.YU,_.Sq,_.bT,d.me,d.BC,d.tU,d.vS,d.l_,y.D9],styles:[".card[_ngcontent-%COMP%]{border:none;box-shadow:none}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.symbol[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;position:relative;border-radius:50%;background-color:var(--bs-gray-100)}.symbol-35px[_ngcontent-%COMP%]{width:35px;height:35px}.symbol-label[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:500;color:var(--bs-gray-800);border-radius:50%}.bg-light-success[_ngcontent-%COMP%]{background-color:var(--bs-light-success)}.bg-light-info[_ngcontent-%COMP%]{background-color:var(--bs-light-info)}.bg-light-primary[_ngcontent-%COMP%]{background-color:var(--bs-light-primary)}.bg-light-warning[_ngcontent-%COMP%]{background-color:var(--bs-light-warning)}.bg-light-danger[_ngcontent-%COMP%]{background-color:var(--bs-light-danger)}.bg-light-secondary[_ngcontent-%COMP%]{background-color:var(--bs-light-secondary)}.bg-light-dark[_ngcontent-%COMP%]{background-color:var(--bs-light-dark)}.mh-300px[_ngcontent-%COMP%]{max-height:300px}.w-200px[_ngcontent-%COMP%]{width:200px}.gap-4[_ngcontent-%COMP%]{gap:1rem}"]})}return i})();var et=g(8600);function qe(i,r){1&i&&(t.j41(0,"span",8),t.EFF(1," Please wait... "),t.nrm(2,"span",9),t.k0s())}function Ke(i,r){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"div",1)(2,"h2",2),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p",3),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"div",4)(9,"button",5),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.reactivateAccount())}),t.j41(10,"span",6),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.DNE(13,qe,3,0,"span",7),t.k0s()(),t.bVm()}if(2&i){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,5,"REACTIVATE_ACCOUNT.MODAL.TITLE")),t.R7$(3),t.JRh(t.bMT(7,7,"REACTIVATE_ACCOUNT.MODAL.DESCRIPTION")),t.R7$(3),t.Y8G("disabled",e.isLoading),t.R7$(2),t.SpI(" ",t.bMT(12,9,"REACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON")," "),t.R7$(2),t.Y8G("ngIf",e.isLoading)}}function Qe(i,r){1&i&&(t.qex(0),t.j41(1,"div",10)(2,"div",11),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"app-keenicon",12),t.k0s(),t.bVm()),2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"REACTIVATE_ACCOUNT.MODAL.SUCCESS_MESSAGE")," "))}function tn(i,r){1&i&&(t.qex(0),t.j41(1,"div",10)(2,"div",13),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"i",14),t.k0s(),t.bVm()),2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"REACTIVATE_ACCOUNT.MODAL.ERROR_MESSAGE")," "))}let en=(()=>{class i extends x.${userRequestsService;ref;profileService;step=1;successStep=!1;errorStep=!1;isLoading=!1;roles=[];constructor(e,n,o,a){super(e),this.userRequestsService=n,this.ref=o,this.profileService=a}ngOnInit(){this.profileService.getProfile().subscribe(n=>{this.roles=n.roles})}reactivateAccount(){this.isLoading=!0,this.userRequestsService.sendReactivateRequest(this.roles.includes("company")?"company":"insighter").subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0639\u0627\u062f\u0629 \u062a\u0641\u0639\u064a\u0644 \u062d\u0633\u0627\u0628\u0643 \u0628\u0646\u062c\u0627\u062d":"Your account has been successfully reactivated"),this.successStep=!0,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0),window.location.reload()},1500)},error:()=>{this.errorStep=!0,this.isLoading=!1,this.showError("","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0639\u0627\u062f\u0629 \u062a\u0641\u0639\u064a\u0644 \u062d\u0633\u0627\u0628\u0643":"An error occurred while reactivating your account"),setTimeout(()=>{this.ref.close(!1)},1500)}})}static \u0275fac=function(n){return new(n||i)(t.rXU(t.zZn),t.rXU(et.J),t.rXU(T.Pw),t.rXU(R.p))};static \u0275cmp=t.VBU({type:i,selectors:[["app-reactivate-dialog"]],features:[t.Vt3],decls:3,vars:3,consts:[[4,"ngIf"],[1,"text-center","mb-5"],[1,"text-xl","font-bold","mb-2"],[1,"text-gray-600"],[1,"flex","justify-content-center"],["type","button",1,"btn","btn-success","w-100",3,"click","disabled"],[1,"indicator-label"],["class","indicator-progress",4,"ngIf"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"text-center"],[1,"text-success","font-bold","text-xl","mb-3"],["name","check",1,"text-success","fs-3xl"],[1,"text-danger","font-bold","text-xl","mb-3"],[1,"pi","pi-times-circle","text-danger",2,"font-size","3rem"]],template:function(n,o){1&n&&t.DNE(0,Ke,14,11,"ng-container",0)(1,Qe,6,3,"ng-container",0)(2,tn,6,3,"ng-container",0),2&n&&(t.Y8G("ngIf",1===o.step&&!o.successStep&&!o.errorStep),t.R7$(),t.Y8G("ngIf",o.successStep),t.R7$(),t.Y8G("ngIf",o.errorStep))},dependencies:[_.bT,y.D9]})}return i})();function nn(i,r){if(1&i&&(t.j41(0,"div",6),t.EFF(1),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.SpI(" ","ar"===e.lang?"\u0627\u0639\u0627\u062f\u0629 \u062a\u0646\u0634\u064a\u0637 \u062d\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629":"Reactivate Company Account"," ")}}function on(i,r){if(1&i&&(t.j41(0,"div",6),t.EFF(1),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.SpI(" ","ar"===e.lang?"\u0627\u0639\u0627\u062f\u0629 \u062a\u0646\u0634\u064a\u0637 \u062d\u0633\u0627\u0628 \u0627\u0644\u0627\u0646\u0633\u0627\u064a\u062a\u0631":"Reactivate Insighter Account"," ")}}let an=(()=>{class i extends x.${dialogService;ref;role="company";constructor(e,n){super(n),this.dialogService=e}showReactivateDialog(){this.ref=this.dialogService.open(en,{header:"Reactivate Account",width:"450px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0}),this.ref.onClose.subscribe(e=>{e&&window.location.reload()})}ngOnDestroy(){this.ref&&this.ref.close()}static \u0275fac=function(n){return new(n||i)(t.rXU(T.o3),t.rXU(t.zZn))};static \u0275cmp=t.VBU({type:i,selectors:[["app-activate-account"]],inputs:{role:"role"},features:[t.Jv_([T.o3]),t.Vt3],decls:11,vars:8,consts:[[1,"delete-section","border-1","border-light-danger","w-100","mb-10"],[1,"p-24px"],["class","fs-2 fw-bolder",4,"ngIf"],[1,"warning-text"],[1,"action-footer","bg-light-success"],[1,"delete-button",3,"click"],[1,"fs-2","fw-bolder"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,nn,2,1,"div",2)(3,on,2,1,"div",2),t.j41(4,"p",3),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"div",4)(8,"button",5),t.bIt("click",function(){return o.showReactivateDialog()}),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()),2&n&&(t.R7$(2),t.Y8G("ngIf","company"===o.role),t.R7$(),t.Y8G("ngIf","insighter"===o.role),t.R7$(2),t.SpI(" ",t.bMT(6,4,"REACTIVATE_ACCOUNT.DESCRIPTION")," "),t.R7$(4),t.SpI(" ",t.bMT(10,6,"REACTIVATE_ACCOUNT.BUTTON_TEXT")," "))},dependencies:[_.bT,y.D9],styles:[".delete-section[_ngcontent-%COMP%]{border-radius:6px}.p-24px[_ngcontent-%COMP%]{padding:24px}.border-light-danger[_ngcontent-%COMP%]{border:1px solid #bdfdc5}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 16px}.warning-text[_ngcontent-%COMP%]{color:#4b5563;margin-bottom:24px;line-height:1.5}.project-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:#fafafa;border:1px solid #eaeaea;border-radius:6px}.project-icon[_ngcontent-%COMP%]{margin-right:16px}.placeholder-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#eaeaea;border-radius:4px}.project-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:0}.last-updated[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:4px 0 0}.action-footer[_ngcontent-%COMP%]{padding:12px 24px;display:flex;justify-content:flex-end}.delete-button[_ngcontent-%COMP%]{background:#26dc60;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.delete-button[_ngcontent-%COMP%]:hover{background:#1cb91f}"]})}return i})();var nt=g(1413),rn=g(3804);const B=(i,r,e,n)=>({"bi bi-eye-slash":i,"bi bi-eye":r,"end-0 pe-3":e,"start-0 ps-3":n});function sn(i,r){1&i&&(t.j41(0,"div",11)(1,"div",12),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",13),t.EFF(5,"************"),t.k0s()()),2&i&&(t.R7$(2),t.JRh(t.bMT(3,1,"ACCOUNT_SETTINGS.PASSWORD")))}function cn(i,r){1&i&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ACCOUNT_SETTINGS.PASSWORDS_DO_NOT_MATCH")," "))}function ln(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",14)(1,"form",15,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.changePassword())}),t.j41(3,"div",16)(4,"div",17)(5,"div",18)(6,"label",19),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",20)(10,"input",21),t.mxI("ngModelChange",function(o){t.eBV(e);const a=t.XpG();return t.DH7(a.oldPassword,o)||(a.oldPassword=o),t.Njj(o)}),t.k0s(),t.j41(11,"i",22),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleOldPasswordVisibility())}),t.k0s()()()(),t.j41(12,"div",17)(13,"div",18)(14,"label",23),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.j41(17,"div",20)(18,"input",24),t.mxI("ngModelChange",function(o){t.eBV(e);const a=t.XpG();return t.DH7(a.newPassword,o)||(a.newPassword=o),t.Njj(o)}),t.k0s(),t.j41(19,"i",22),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleNewPasswordVisibility())}),t.k0s()()()(),t.j41(20,"div",17)(21,"div",18)(22,"label",25),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"div",20)(26,"input",26),t.mxI("ngModelChange",function(o){t.eBV(e);const a=t.XpG();return t.DH7(a.confirmPassword,o)||(a.confirmPassword=o),t.Njj(o)}),t.k0s(),t.j41(27,"i",22),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleConfirmPasswordVisibility())}),t.k0s()()(),t.DNE(28,cn,3,3,"div",27),t.k0s()(),t.j41(29,"div",28),t.EFF(30),t.nI1(31,"translate"),t.k0s(),t.j41(32,"div",29)(33,"button",30),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.j41(36,"button",31),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.cancelEdit())}),t.EFF(37),t.nI1(38,"translate"),t.k0s()()()()}if(2&i){const e=t.sdS(2),n=t.XpG();t.R7$(7),t.SpI(" ",t.bMT(8,17,"ACCOUNT_SETTINGS.CURRENT_PASSWORD")," "),t.R7$(3),t.Y8G("type",n.showOldPassword()?"text":"password"),t.R50("ngModel",n.oldPassword),t.R7$(),t.Y8G("ngClass",t.ziG(29,B,n.showOldPassword(),!n.showOldPassword(),!n.isRtl(),n.isRtl())),t.R7$(4),t.SpI(" ",t.bMT(16,19,"ACCOUNT_SETTINGS.NEW_PASSWORD")," "),t.R7$(3),t.Y8G("type",n.showNewPassword()?"text":"password"),t.R50("ngModel",n.newPassword),t.R7$(),t.Y8G("ngClass",t.ziG(34,B,n.showNewPassword(),!n.showNewPassword(),!n.isRtl(),n.isRtl())),t.R7$(4),t.SpI(" ",t.bMT(24,21,"ACCOUNT_SETTINGS.CONFIRM_NEW_PASSWORD")," "),t.R7$(3),t.Y8G("type",n.showConfirmPassword()?"text":"password"),t.R50("ngModel",n.confirmPassword),t.R7$(),t.Y8G("ngClass",t.ziG(39,B,n.showConfirmPassword(),!n.showConfirmPassword(),!n.isRtl(),n.isRtl())),t.R7$(),t.Y8G("ngIf",!n.passwordsMatch()&&n.isEditing()),t.R7$(2),t.SpI(" ",t.bMT(31,23,"ACCOUNT_SETTINGS.PASSWORD_RULES")," "),t.R7$(3),t.Y8G("disabled",!n.passwordsMatch()||e.invalid),t.R7$(),t.SpI(" ",t.bMT(35,25,"ACCOUNT_SETTINGS.UPDATE_PASSWORD")," "),t.R7$(3),t.SpI(" ",t.bMT(38,27,"ACCOUNT_SETTINGS.CANCEL")," ")}}function dn(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",33)(1,"button",34),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.editPassword())}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"ACCOUNT_SETTINGS.CHANGE_PASSWORD")," "))}let pn=(()=>{class i extends x.${_changepassword;constructor(e,n){super(n),this._changepassword=e}unsub$=new nt.B;_oldPassword=(0,t.vPA)("");_newPassword=(0,t.vPA)("");_confirmPassword=(0,t.vPA)("");showOldPassword=(0,t.vPA)(!1);showNewPassword=(0,t.vPA)(!1);showConfirmPassword=(0,t.vPA)(!1);isRtl(){return"ar"===this.lang}toggleOldPasswordVisibility(){this.showOldPassword.update(e=>!e)}toggleNewPasswordVisibility(){this.showNewPassword.update(e=>!e)}toggleConfirmPasswordVisibility(){this.showConfirmPassword.update(e=>!e)}get oldPassword(){return this._oldPassword()}set oldPassword(e){this._oldPassword.set(e)}get newPassword(){return this._newPassword()}set newPassword(e){this._newPassword.set(e)}get confirmPassword(){return this._confirmPassword()}set confirmPassword(e){this._confirmPassword.set(e)}passwordsMatch=(0,t.EWP)(()=>this._newPassword()===this._confirmPassword());_messages=(0,t.vPA)([]);get messages(){return this._messages()}set messages(e){this._messages.set(e)}isEditing=(0,t.vPA)(!1);handleServerErrors(e){if(e.error&&e.error.errors){const n=e.error.errors;for(const o in n)n.hasOwnProperty(o)&&this.showError("",n[o].join(", "))}else this.showError("","An unexpected error occurred.")}changePassword(){if(!this.passwordsMatch())return void this._messages.set([{severity:"error",summary:"Validation Error",detail:"New Password and Confirm Password do not match."}]);const e={old_password:this._oldPassword(),new_password:this._newPassword(),password_confirmation:this._confirmPassword()};this.isEditing.set(!0),this._changepassword.changePassword(e).pipe((0,Y.Q)(this.unsub$)).subscribe({next:()=>{this.showSuccess("","Changes Successfully"),this.isEditing.set(!1),this.clearForm()},error:n=>{this.handleServerErrors(n),this.isEditing.set(!0)}})}clearForm(){this._oldPassword.set(""),this._newPassword.set(""),this._confirmPassword.set(""),this.showOldPassword.set(!1),this.showNewPassword.set(!1),this.showConfirmPassword.set(!1)}editPassword(){this.isEditing.set(!0)}cancelEdit(){this.isEditing.set(!1),this.clearForm()}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}static \u0275fac=function(n){return new(n||i)(t.rXU(rn.F),t.rXU(t.zZn))};static \u0275cmp=t.VBU({type:i,selectors:[["app-reset-password"]],features:[t.Vt3],decls:12,vars:6,consts:[["passwordForm","ngForm"],[1,"card","mb-5","mb-xl-10","shadow-none","border-1","border","border-gray-300","rounded-2"],["role","button",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bold","m-0"],["id","kt_account_signin_method"],[1,"card-body","border-top","p-9"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-10"],["id","kt_signin_password",4,"ngIf"],["id","kt_signin_password_edit","class","flex-row-fluid",4,"ngIf"],["id","kt_signin_password_button",4,"ngIf"],["id","kt_signin_password"],[1,"fs-6","fw-bold","mb-1"],[1,"fw-semibold","text-gray-600"],["id","kt_signin_password_edit",1,"flex-row-fluid"],[3,"ngSubmit"],[1,"row","mb-1"],[1,"col-lg-4"],[1,"fv-row","mb-0"],["for","currentpassword",1,"form-label","fs-6","fw-bold","mb-3"],[1,"position-relative"],["pInputText","","id","currentpassword","name","currentpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","type","ngModel"],[1,"position-absolute","top-50","translate-middle-y","cursor-pointer",3,"click","ngClass"],["for","newpassword",1,"form-label","fs-6","fw-bold","mb-3"],["pInputText","","id","newpassword","name","newpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","type","ngModel"],["for","confirmpassword",1,"form-label","fs-6","fw-bold","mb-3"],["pInputText","","id","confirmpassword","name","confirmpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","type","ngModel"],["class","text-danger mb-3",4,"ngIf"],[1,"form-text","mb-5"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","me-2","px-6",3,"disabled"],["type","button",1,"btn","btn-color-gray-500","btn-active-light-primary","px-6",3,"click"],[1,"text-danger","mb-3"],["id","kt_signin_password_button"],[1,"btn","btn-light","btn-sm","btn-active-light-primary",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),t.EFF(4),t.nI1(5,"translate"),t.k0s()()(),t.j41(6,"div",5)(7,"div",6)(8,"div",7),t.DNE(9,sn,6,3,"div",8)(10,ln,39,44,"div",9)(11,dn,4,3,"div",10),t.k0s()()()()),2&n&&(t.R7$(4),t.JRh(t.bMT(5,4,"ACCOUNT_SETTINGS.CHANGE_PASSWORD")),t.R7$(5),t.Y8G("ngIf",!o.isEditing()),t.R7$(),t.Y8G("ngIf",o.isEditing()),t.R7$(),t.Y8G("ngIf",!o.isEditing()))},dependencies:[_.YU,_.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.vS,d.cV,y.D9]})}return i})();const P=()=>["company"],un=()=>["insighter"],ot=()=>["company-insighter"];function gn(i,r){1&i&&t.nrm(0,"app-reset-password")}function mn(i,r){1&i&&t.nrm(0,"app-activate-account",6),2&i&&t.Y8G("role","insighter")}function _n(i,r){if(1&i&&(t.qex(0),t.DNE(1,mn,1,1,"app-activate-account",2),t.bVm()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.isPrimaryKey)}}function fn(i,r){if(1&i&&t.nrm(0,"app-activate-account",6),2&i){const e=t.XpG();t.Y8G("role",e.hasRole(t.lJ4(1,P))||e.hasRole(t.lJ4(2,ot))?"company":"insighter")}}function hn(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",0)(4,"div",10),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"span",11),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()(),t.j41(10,"div",12)(11,"button",13),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showTransferDialog())}),t.EFF(12),t.nI1(13,"translate"),t.k0s()()()}2&i&&(t.R7$(5),t.SpI(" ",t.bMT(6,3,"TRANSFER_COMPANY_ACCOUNT.TITLE")," "),t.R7$(3),t.SpI(" ",t.bMT(9,5,"TRANSFER_COMPANY_ACCOUNT.DESCRIPTION")," "),t.R7$(4),t.SpI(" ",t.bMT(13,7,"TRANSFER_COMPANY_ACCOUNT.BUTTON_TEXT")," "))}function bn(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",14)(1,"div",0)(2,"div",10),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"p",15),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",16)(8,"button",17),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showDeactivateDialog())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,3,"DEACTIVATE_ACCOUNT.TITLE_INSIGHTER")," "),t.R7$(2),t.Y8G("innerHTML",t.bMT(6,5,"DEACTIVATE_ACCOUNT.DESCRIPTION"),t.npT),t.R7$(4),t.SpI(" ",t.bMT(10,7,"DEACTIVATE_ACCOUNT.BUTTON_TEXT_INSIGHTER")," "))}function Cn(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",14)(1,"div",0)(2,"div",10),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"p",15),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",16)(8,"button",17),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showDeactivateDialog("user"))}),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,3,"DEACTIVATE_ACCOUNT.TITLE_ACCOUNT")," "),t.R7$(2),t.Y8G("innerHTML",t.bMT(6,5,"DEACTIVATE_ACCOUNT.DESCRIPTION_USER_ONLY"),t.npT),t.R7$(4),t.SpI(" ",t.bMT(10,7,"DEACTIVATE_ACCOUNT.TITLE_ACCOUNT")," "))}function vn(i,r){if(1&i){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showDeleteDialog())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.BUTTON_TEXT")," "))}function xn(i,r){1&i&&(t.j41(0,"div",21),t.nrm(1,"i",22),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.PENDING_REQUEST")," "))}function yn(i,r){if(1&i&&(t.j41(0,"div",18)(1,"div",0)(2,"div",10),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"p",15),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",16),t.DNE(8,vn,3,3,"button",19)(9,xn,4,3,"div",20),t.k0s()()),2&i){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,4,"DEACTIVATE_ACCOUNT_WITH_DELETE.TITLE")),t.R7$(2),t.Y8G("innerHTML",t.bMT(6,6,"DEACTIVATE_ACCOUNT_WITH_DELETE.DESCRIPTION"),t.npT),t.R7$(3),t.Y8G("ngIf",!e.hasPendingDeactivationRequest),t.R7$(),t.Y8G("ngIf",e.hasPendingDeactivationRequest)}}let Tn=(()=>{class i extends x.${getProfileService;dialogService;userRequestsService;cdr;profile;roles;isActive=!0;isPrimaryKey=!1;ref;hasPendingDeactivationRequest=!1;isClient$;constructor(e,n,o,a,s){super(e),this.getProfileService=n,this.dialogService=o,this.userRequestsService=a,this.cdr=s}ngOnInit(){this.getProfile(),this.checkPendingRequests(),this.isClient$=this.getProfileService.isClient()}getProfile(){const e=this.getProfileService.getProfile().subscribe(n=>{switch(this.profile=n,this.roles=n.roles,!0){case this.hasRole(["insighter"]):this.isActive="active"===n.insighter_status,this.isPrimaryKey=!0;break;case this.hasRole(["company"]):this.isActive="active"===n.company?.status,this.isPrimaryKey=!!n.company?.primary_activate_at;break;default:this.isActive=!1}this.cdr.detectChanges()});this.unsubscribe.push(e)}checkPendingRequests(){if(!this.hasRole(["insighter"]))return void console.log("User is not an insighter, skipping deactivation request check");const e=this.userRequestsService.getAllUserRequests(this.lang).subscribe({next:n=>{if(console.log("All user requests:",n),!n||0===n.length)return console.log("No requests returned from API"),this.hasPendingDeactivationRequest=!1,void this.cdr.detectChanges();this.hasPendingDeactivationRequest=n.some(o=>{const a=(o.type?.key||"").toLowerCase(),s=(o.type?.label||"").toLowerCase(),c=(o.status||"").toLowerCase(),l=(o.requestable_type||"").toLowerCase();console.log("Request data:",{typeKey:a,typeName:s,status:c,requestableType:l});const u=["deactivat","delet","remov","cancel"].some(b=>a.includes(b)||s.includes(b)),f=["insighter","expert","consultant"].some(b=>a.includes(b)||l.includes(b)||s.includes(b)),C=u&&f&&"pending"===c;return C&&console.log("Found pending deactivation request:",o),C}),console.log("Final check result - Has pending deactivation request:",this.hasPendingDeactivationRequest),this.cdr.detectChanges()},error:n=>{console.error("Error fetching user requests:",n),this.cdr.detectChanges()}});this.unsubscribe.push(e)}showTransferDialog(){this.ref=this.dialogService.open(Je,{header:"ar"===this.lang?"\u0646\u0642\u0644 \u0627\u0644\u062d\u0633\u0627\u0628":"Transfer Account",width:"650px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0}),this.ref.onClose.subscribe(e=>{e&&window.location.reload()})}showDeactivateDialog(e){this.ref=this.dialogService.open(we,{width:"650px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0,data:{deactivationType:e,insighter_status:this.profile.insighter_status,company_status:this.profile.company?.status}}),this.ref.onClose.subscribe(n=>{n&&window.location.reload()})}showDeleteDialog(){this.ref=this.dialogService.open(Ge,{width:"650px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0}),this.ref.onClose.subscribe(e=>{e&&window.location.reload()})}hasRole(e){return e.some(n=>this.roles.includes(n))}ngOnDestroy(){this.ref&&this.ref.close()}static \u0275fac=function(n){return new(n||i)(t.rXU(t.zZn),t.rXU(R.p),t.rXU(T.o3),t.rXU(et.J),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:i,selectors:[["app-general-settings"]],features:[t.Jv_([T.o3]),t.Vt3],decls:9,vars:15,consts:[[1,"p-24px"],[4,"ngIf"],[3,"role",4,"ngIf"],["class","border border-1 border-gray-300 rounded-2 mb-10 bg-white",4,"ngIf"],["class","delete-section border-1 border-light-danger w-100 mb-10 bg-white",4,"ngIf"],["class","delete-section border-1 border-light-danger w-100 bg-white",4,"ngIf"],[3,"role"],[1,"border","border-1","border-gray-300","rounded-2","mb-10","bg-white"],[1,"col-12"],[1,"action-section","border-1","border-light","w-100"],[1,"fs-2","fw-bolder","mb-2"],[1,"text-gray-600","fw-semibold","fs-6","mb-6","d-block"],[1,"action-footer","bg-light"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"delete-section","border-1","border-light-danger","w-100","mb-10","bg-white"],[1,"warning-text",3,"innerHTML"],[1,"action-footer","bg-light-danger"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"delete-section","border-1","border-light-danger","w-100","bg-white"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["class","pending-request",4,"ngIf"],[1,"pending-request"],[1,"bi","bi-hourglass-split","me-2"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.DNE(1,gn,1,0,"app-reset-password",1)(2,_n,2,1,"ng-container",1)(3,fn,1,3,"app-activate-account",2)(4,hn,14,9,"div",3)(5,bn,11,9,"div",4)(6,Cn,11,9,"div",4)(7,yn,10,8,"div",5),t.nI1(8,"async"),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngIf",!(null!=o.profile&&o.profile.login_social)),t.R7$(),t.Y8G("ngIf",o.hasRole(t.lJ4(9,P))&&"inactive"===o.profile.insighter_status),t.R7$(),t.Y8G("ngIf",!o.isActive&&o.isPrimaryKey),t.R7$(),t.Y8G("ngIf",o.hasRole(t.lJ4(10,P))&&o.isActive),t.R7$(),t.Y8G("ngIf",o.hasRole(t.lJ4(11,un))&&o.isActive&&!o.hasRole(t.lJ4(12,P))),t.R7$(),t.Y8G("ngIf",o.hasRole(t.lJ4(13,P))),t.R7$(),t.Y8G("ngIf",!o.hasRole(t.lJ4(14,ot))&&!t.bMT(8,7,o.isClient$)))},dependencies:[_.bT,an,pn,_.Jj,y.D9],styles:[".delete-section[_ngcontent-%COMP%]{border-radius:6px}.p-24px[_ngcontent-%COMP%]{padding:24px}.border-light-danger[_ngcontent-%COMP%]{border:1px solid #fcdee2}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 16px}.warning-text[_ngcontent-%COMP%]{color:#4b5563;margin-bottom:24px;line-height:1.5}.project-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:#fafafa;border:1px solid #eaeaea;border-radius:6px}.project-icon[_ngcontent-%COMP%]{margin-right:16px}.placeholder-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#eaeaea;border-radius:4px}.project-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:0}.last-updated[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:4px 0 0}.action-footer[_ngcontent-%COMP%]{padding:12px 24px;display:flex;justify-content:flex-end}.delete-button[_ngcontent-%COMP%]{background:#dc2626;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.delete-button[_ngcontent-%COMP%]:hover{background:#b91c1c}.pending-request[_ngcontent-%COMP%]{display:flex;align-items:center;color:#856404;font-weight:500;padding:8px 16px}.pending-request[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:.5}50%{opacity:1}to{opacity:.5}}.payment-card-illustration[_ngcontent-%COMP%]{max-width:300px;height:auto}@media screen and (max-width: 576px){.payment-card-illustration[_ngcontent-%COMP%]{max-width:200px}}"]})}return i})();var In=g(4077),En=g(9998),Sn=g(1579),it=g(9851),at=g(4799),Mn=g(288);const Rn=()=>["insighter"],On=()=>["company"],An=(i,r)=>({"primary-card":i,"secondary-card":r});function Pn(i,r){1&i&&(t.j41(0,"div",10)(1,"div",11)(2,"span",12),t.EFF(3,"Loading..."),t.k0s()()())}function wn(i,r){if(1&i&&(t.j41(0,"div",13),t.EFF(1),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.paymentAccountError," ")}}function kn(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",10),t.nrm(1,"i",14),t.j41(2,"h4",15),t.EFF(3),t.k0s(),t.j41(4,"p",16),t.EFF(5),t.k0s(),t.j41(6,"button",17),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onAddPaymentMethod())}),t.nrm(7,"i",18),t.EFF(8),t.k0s()()}if(2&i){const e=t.XpG(2);t.R7$(3),t.JRh("ar"===e.lang?"\u0644\u0627 \u064a\u0648\u062c\u062f \u062d\u0633\u0627\u0628 \u0644\u062a\u0644\u0642\u064a \u0627\u0644\u062f\u0641\u0639\u0627\u062a":"No Payout Method Added"),t.R7$(2),t.JRh("ar"===e.lang?"":"Tell us how you would like to receive your payment."),t.R7$(3),t.SpI(" ","ar"===e.lang?"\u0625\u0636\u0627\u0641\u0629 \u062d\u0633\u0627\u0628":"Add Payment Method"," ")}}function Dn(i,r){1&i&&t.nrm(0,"img",55)}function Fn(i,r){1&i&&t.nrm(0,"img",56)}function Nn(i,r){if(1&i&&(t.j41(0,"h5",57),t.EFF(1),t.k0s()),2&i){const e=t.XpG(4);t.R7$(),t.SpI(" ","ar"===e.lang?"\u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0623\u0633\u0627\u0633\u064a":"Primary Account"," ")}}function Gn(i,r){if(1&i&&(t.j41(0,"h5",58),t.EFF(1),t.k0s()),2&i){const e=t.XpG(4);t.R7$(),t.SpI(" ","ar"===e.lang?"\u062d\u0633\u0627\u0628 \u062b\u0627\u0646\u0648\u064a":"Secondary Account"," ")}}function $n(i,r){if(1&i&&(t.j41(0,"span",59),t.EFF(1),t.k0s()),2&i){const e=t.XpG(4);t.R7$(),t.SpI(" ","ar"===e.lang?"\u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644":"INCOMPLETE"," ")}}function jn(i,r){if(1&i&&(t.j41(0,"span",60),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit,n=t.XpG(3);t.R7$(),t.SpI(" ",n.getStatusText(e).toUpperCase()," ")}}function Ln(i,r){if(1&i&&(t.j41(0,"span",61),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit,n=t.XpG(3);t.Y8G("ngClass",n.getStatusBadgeClass(e)),t.R7$(),t.SpI(" ",n.getStatusText(e).toUpperCase()," ")}}function Un(i,r){if(1&i&&(t.j41(0,"div",35),t.nrm(1,"img",75),t.j41(2,"span",76),t.EFF(3),t.k0s()()),2&i){const e=t.XpG(2).$implicit,n=t.XpG(3);t.R7$(),t.Y8G("src",n.getCountryFlagPath(e.bank_country.name),t.B4B)("alt",e.bank_country.name),t.R7$(2),t.JRh(e.bank_country.name)}}function Vn(i,r){if(1&i&&(t.j41(0,"div",77)(1,"div",78),t.EFF(2),t.k0s(),t.j41(3,"div",79),t.EFF(4),t.k0s()()),2&i){const e=t.XpG(2).$implicit,n=t.XpG(3);t.R7$(2),t.JRh("ar"===n.lang?"\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643":"Bank Name"),t.R7$(2),t.JRh(e.bank_name)}}function Yn(i,r){if(1&i){const e=t.RV6();t.j41(0,"button",80),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2).$implicit,a=t.XpG(3);return t.Njj(a.copyToClipboard(o.bank_iban))}),t.j41(1,"i",81),t.nrm(2,"span",82)(3,"span",83),t.k0s()()}if(2&i){const e=t.XpG(5);t.Y8G("pTooltip","ar"===e.lang?"\u0646\u0633\u062e IBAN":"Copy IBAN")}}function Bn(i,r){if(1&i&&(t.j41(0,"div",62)(1,"div",63)(2,"div",64)(3,"div",65),t.EFF(4),t.k0s()(),t.j41(5,"div",66)(6,"div",67),t.EFF(7),t.k0s(),t.DNE(8,Un,4,3,"div",68),t.k0s()(),t.DNE(9,Vn,5,2,"div",69),t.j41(10,"div",70)(11,"div",71),t.EFF(12,"IBAN"),t.k0s(),t.j41(13,"div",72)(14,"span",73),t.EFF(15),t.k0s(),t.DNE(16,Yn,4,1,"button",74),t.k0s()()()),2&i){const e=t.XpG().$implicit,n=t.XpG(3);t.R7$(4),t.JRh("ar"===n.lang?"\u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628":"Account Holder"),t.R7$(3),t.JRh(e.account_name||("ar"===n.lang?"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f":"Not Available")),t.R7$(),t.Y8G("ngIf",e.bank_country),t.R7$(),t.Y8G("ngIf",e.bank_name),t.R7$(6),t.JRh(n.formatIban(e.bank_iban)||("ar"===n.lang?"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f":"Not Available")),t.R7$(),t.Y8G("ngIf",e.bank_iban)}}function Hn(i,r){if(1&i&&(t.j41(0,"div",62)(1,"div",84),t.nrm(2,"i",85),t.j41(3,"span",86),t.EFF(4),t.k0s()()()),2&i){const e=t.XpG().$implicit,n=t.XpG(3);t.R7$(4),t.JRh(n.getProviderStatusExplanation(e))}}function Xn(i,r){if(1&i){const e=t.RV6();t.j41(0,"button",87),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onEditManual())}),t.nrm(1,"i",88),t.EFF(2),t.k0s()}if(2&i){const e=t.XpG().$implicit,n=t.XpG(3);t.R7$(2),t.SpI(" ",n.isManualAccountComplete(e)?"ar"===n.lang?"\u062a\u0639\u062f\u064a\u0644":"Edit":"ar"===n.lang?"\u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u0625\u0639\u062f\u0627\u062f":"Complete Setup"," ")}}function zn(i,r){if(1&i&&(t.j41(0,"span"),t.nrm(1,"i",91),t.EFF(2),t.k0s()),2&i){const e=t.XpG(5);t.R7$(2),t.SpI(" ","ar"===e.lang?"\u062a\u0639\u064a\u064a\u0646 \u0623\u0633\u0627\u0633\u064a":"Set Primary"," ")}}function Wn(i,r){1&i&&t.nrm(0,"span",92)}function Zn(i,r){if(1&i){const e=t.RV6();t.j41(0,"button",89),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.onSetAsPrimary(o))}),t.DNE(1,zn,3,1,"span",9)(2,Wn,1,0,"span",90),t.k0s()}if(2&i){const e=t.XpG(4);t.Y8G("disabled",e.switchingAccount),t.R7$(),t.Y8G("ngIf",!e.switchingAccount),t.R7$(),t.Y8G("ngIf",e.switchingAccount)}}function Jn(i,r){if(1&i&&(t.j41(0,"span",35),t.nrm(1,"i",94),t.j41(2,"span",95),t.EFF(3),t.k0s()()),2&i){const e=t.XpG(5);t.R7$(3),t.JRh("ar"===e.lang?"\u062d\u0630\u0641":"Delete")}}function qn(i,r){1&i&&t.nrm(0,"span",92)}function Kn(i,r){if(1&i){const e=t.RV6();t.j41(0,"button",93),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.onDeleteMethod(o))}),t.DNE(1,Jn,4,1,"span",68)(2,qn,1,0,"span",90),t.k0s()}if(2&i){const e=t.XpG().$implicit,n=t.XpG(3);t.Y8G("disabled",n.deletingAccount[e.type+"_"+e.primary]),t.R7$(),t.Y8G("ngIf",!n.deletingAccount[e.type+"_"+e.primary]),t.R7$(),t.Y8G("ngIf",n.deletingAccount[e.type+"_"+e.primary])}}function Qn(i,r){if(1&i&&(t.j41(0,"div",21)(1,"div",33)(2,"div",34)(3,"div",35)(4,"div",36),t.DNE(5,Dn,1,0,"img",37)(6,Fn,1,0,"img",38),t.k0s(),t.j41(7,"div")(8,"div",39),t.DNE(9,Nn,2,1,"h5",40)(10,Gn,2,1,"h5",41),t.k0s(),t.j41(11,"div",42),t.nrm(12,"i",43),t.j41(13,"span",44),t.EFF(14),t.k0s()()()(),t.j41(15,"div",45),t.DNE(16,$n,2,1,"span",46)(17,jn,2,1,"span",47)(18,Ln,2,2,"span",48),t.k0s()(),t.nrm(19,"hr",49),t.DNE(20,Bn,17,6,"div",50)(21,Hn,5,1,"div",50),t.j41(22,"div",51),t.DNE(23,Xn,3,1,"button",52)(24,Zn,3,3,"button",53)(25,Kn,3,3,"button",54),t.k0s()()()),2&i){const e=r.$implicit,n=t.XpG(3);t.R7$(),t.Y8G("ngClass",t.l_i(15,An,e.primary,!e.primary)),t.R7$(4),t.Y8G("ngIf","manual"===e.type),t.R7$(),t.Y8G("ngIf","provider"===e.type),t.R7$(3),t.Y8G("ngIf",e.primary),t.R7$(),t.Y8G("ngIf",!e.primary),t.R7$(2),t.Y8G("ngClass",n.getAccountTypeIcon(e.type)),t.R7$(2),t.JRh(n.getAccountTypeText(e.type)),t.R7$(2),t.Y8G("ngIf","manual"===e.type&&!n.isManualAccountComplete(e)),t.R7$(),t.Y8G("ngIf",e.primary&&("manual"!==e.type||n.isManualAccountComplete(e))),t.R7$(),t.Y8G("ngIf",!e.primary&&"active"===e.status&&("manual"!==e.type||n.isManualAccountComplete(e))),t.R7$(2),t.Y8G("ngIf","manual"===e.type),t.R7$(),t.Y8G("ngIf","provider"===e.type),t.R7$(2),t.Y8G("ngIf","manual"===e.type),t.R7$(),t.Y8G("ngIf",!e.primary&&"active"===e.status),t.R7$(),t.Y8G("ngIf",!e.primary)}}function to(i,r){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"div",19),t.DNE(2,Qn,26,18,"div",20),t.j41(3,"div",21)(4,"div",22),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onAddPaymentMethod())}),t.j41(5,"div",23)(6,"div",24),t.qSk(),t.j41(7,"svg",25),t.nrm(8,"path",26)(9,"path",27)(10,"path",28)(11,"path",29)(12,"path",30)(13,"path",31),t.k0s()(),t.joV(),t.j41(14,"h5",32),t.EFF(15),t.k0s(),t.j41(16,"p",15),t.EFF(17),t.k0s()()()()()()}if(2&i){const e=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",e.getVisiblePaymentMethods()),t.R7$(13),t.SpI(" ","ar"===e.lang?"\u0623\u0636\u0641 \u062d\u0633\u0627\u0628 \u0622\u062e\u0631":"Add a new payout method"," "),t.R7$(2),t.SpI(" ","ar"===e.lang?"":"Add a payout method to receive payments"," ")}}function eo(i,r){if(1&i&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"span",6),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.DNE(11,Pn,4,0,"div",7)(12,wn,2,1,"div",8)(13,kn,9,3,"div",7)(14,to,18,3,"div",9),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.SpI(" ",t.bMT(7,6,"PAYMENT_ACCOUNT.TITLE")," "),t.R7$(3),t.SpI(" ",t.bMT(10,8,"PAYMENT_ACCOUNT.DESCRIPTION")," "),t.R7$(2),t.Y8G("ngIf",e.paymentAccountLoading),t.R7$(),t.Y8G("ngIf",!e.paymentAccountLoading&&e.paymentAccountError),t.R7$(),t.Y8G("ngIf",!e.paymentAccountLoading&&e.hasNoPaymentMethods()),t.R7$(),t.Y8G("ngIf",!e.paymentAccountLoading&&!e.hasNoPaymentMethods())}}let no=(()=>{class i extends x.${getProfileService;cdr;paymentService;router;profile;roles;isActive=!0;paymentMethods=[];paymentAccountLoading=!1;paymentAccountError=null;switchingAccount=!1;deletingAccount={};constructor(e,n,o,a,s){super(e),this.getProfileService=n,this.cdr=o,this.paymentService=a,this.router=s}ngOnInit(){this.getProfile(),this.loadPaymentAccountDetails()}getProfile(){const e=this.getProfileService.getProfile().subscribe(n=>{switch(this.profile=n,this.roles=n.roles,!0){case this.hasRole(["insighter"]):this.isActive="active"===n.insighter_status;break;case this.hasRole(["company"]):this.isActive="active"===n.company?.status;break;default:this.isActive=!1}this.cdr.detectChanges()});this.unsubscribe.push(e)}loadPaymentAccountDetails(){if(!this.isActive||!this.hasRole(["insighter"])&&!this.hasRole(["company"]))return;this.paymentAccountLoading=!0,this.paymentAccountError=null;const e=this.paymentService.getPaymentAccountDetails().subscribe({next:n=>{this.paymentMethods=n.data||[],this.paymentAccountLoading=!1,this.cdr.detectChanges()},error:n=>{404===n.status?this.paymentMethods=[]:this.paymentAccountError="ar"===this.lang?"\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u062d\u0633\u0627\u0628 \u0627\u0644\u062f\u0641\u0639":"Failed to load payment account details",this.paymentAccountLoading=!1,this.cdr.detectChanges()}});this.unsubscribe.push(e)}getVisiblePaymentMethods(){return this.paymentMethods.filter(e=>"manual"===e.type?"active"===e.status||null!==e.account_name||null!==e.bank_iban:"provider"===e.type&&("active"===e.status||null!==e.details_submitted_at))}getPrimaryMethod(){return this.paymentMethods.find(e=>e.primary)||null}getActiveNonPrimaryMethods(){return this.paymentMethods.filter(e=>!e.primary&&"active"===e.status)}getCountryFlagPath(e){return e?"assets/media/flags/"+e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,"")+".svg":"assets/media/flags/default.svg"}refreshPaymentAccountDetails(){this.loadPaymentAccountDetails()}navigateToSetupPayment(){this.router.navigate(["/app/setup-payment-info"])}hasRole(e){return e.some(n=>this.roles.includes(n))}onSetAsPrimary(e){G().fire({title:"ar"===this.lang?"\u062a\u0639\u064a\u064a\u0646 \u0643\u0637\u0631\u064a\u0642\u0629 \u062f\u0641\u0639 \u0623\u0633\u0627\u0633\u064a\u0629":"Set as Primary Payment Method",text:"ar"===this.lang?"\u0647\u0644 \u062a\u0631\u064a\u062f \u062a\u0639\u064a\u064a\u0646 \u0647\u0630\u0647 \u0643\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629\u061f":"Do you want to set this as your primary payment method?",icon:"question",showCancelButton:!0,confirmButtonText:"ar"===this.lang?"\u0646\u0639\u0645":"Yes",cancelButtonText:"ar"===this.lang?"\u0625\u0644\u063a\u0627\u0621":"Cancel",confirmButtonColor:"#17c1e8",cancelButtonColor:"#d33"}).then(n=>{n.isConfirmed&&this.setPrimaryMethod(e.type)})}onEditManual(){this.router.navigate(["/app/setup-payment-info/manual-account"],{queryParams:{edit:"true"}})}onDeleteMethod(e){const n=this.getAccountTypeText(e.type);G().fire({title:"ar"===this.lang?"\u062d\u0630\u0641 \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639":"Delete Payment Method",text:"ar"===this.lang?`\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 ${n}\u061f`:`Are you sure you want to delete ${n}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"ar"===this.lang?"\u0646\u0639\u0645\u060c \u0627\u062d\u0630\u0641":"Yes, delete",cancelButtonText:"ar"===this.lang?"\u0625\u0644\u063a\u0627\u0621":"Cancel",confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d"}).then(o=>{o.isConfirmed&&this.deletePaymentMethod(e)})}deletePaymentMethod(e){const n=`${e.type}_${e.primary}`;this.deletingAccount[n]=!0,this.cdr.detectChanges();const a=("manual"===e.type?this.paymentService.deleteManualAccount():this.paymentService.deleteStripeAccount()).subscribe({next:()=>{this.deletingAccount[n]=!1,this.showSuccess("ar"===this.lang?"\u0646\u062c\u062d":"Success","ar"===this.lang?"\u062a\u0645 \u062d\u0630\u0641 \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639 \u0628\u0646\u062c\u0627\u062d":"Payment method deleted successfully"),this.loadPaymentAccountDetails()},error:s=>{this.deletingAccount[n]=!1,this.cdr.detectChanges(),this.handleServerErrors(s)}});this.unsubscribe.push(a)}setPrimaryMethod(e){this.switchingAccount=!0,this.cdr.detectChanges();const n=this.paymentService.setPrimaryPaymentMethod(e).subscribe({next:()=>{this.switchingAccount=!1,this.showSuccess("ar"===this.lang?"\u0646\u062c\u062d":"Success","ar"===this.lang?"\u062a\u0645 \u062a\u0639\u064a\u064a\u0646 \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629 \u0628\u0646\u062c\u0627\u062d":"Primary payment method set successfully"),this.loadPaymentAccountDetails()},error:o=>{this.switchingAccount=!1,this.cdr.detectChanges(),this.handleServerErrors(o)}});this.unsubscribe.push(n)}canShowProviderCard(e){return"provider"===e.type&&("active"===e.status||null!==e.details_submitted_at)}getStatusBadgeClass(e){if("provider"===e.type){if(!e.details_submitted_at)return"badge-light-danger";if(e.details_submitted_at&&!e.charges_enable_at)return"badge-light-warning";if(e.charges_enable_at)return"badge-light-success"}return"active"===e.status?"badge-light-success":"badge-light-warning"}getStatusText(e){if("provider"===e.type){if(!e.details_submitted_at)return"ar"===this.lang?"\u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644":"Incomplete";if(e.details_submitted_at&&!e.charges_enable_at)return"ar"===this.lang?"\u0642\u064a\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629":"Under Review";if(e.charges_enable_at)return"ar"===this.lang?"\u0646\u0634\u0637":"Active"}return"active"===e.status?"ar"===this.lang?"\u0646\u0634\u0637":"Active":"ar"===this.lang?"\u063a\u064a\u0631 \u0646\u0634\u0637":"Inactive"}getAccountTypeText(e){return"provider"===e?"ar"===this.lang?"\u0645\u0632\u0648\u062f \u0627\u0644\u062e\u062f\u0645\u0629":"Provider":"ar"===this.lang?"\u062d\u0633\u0627\u0628 \u0628\u0646\u0643\u064a":"Bank Account"}getAccountTypeIcon(e){return"provider"===e?"bi bi-credit-card":"bi bi-bank"}maskIban(e){return e?e.length<=8?e:`${e.substring(0,4)} XXXX XXXX XXXX ${e.substring(e.length-4)}`:"XXXX XXXX XXXX XXXX XXXX"}getProviderStatusExplanation(e){return"provider"!==e.type?"":e.details_submitted_at?e.details_submitted_at&&!e.charges_enable_at?"ar"===this.lang?"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0646\u0645\u0648\u0630\u062c \u0648\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629 \u0645\u0646 \u0642\u0628\u0644 \u0645\u0632\u0648\u062f \u0627\u0644\u062f\u0641\u0639":"Form submitted and under review by payment provider":e.charges_enable_at?"ar"===this.lang?"\u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0643\u062a\u0645\u0644 \u0648\u0645\u064f\u0641\u0639\u0644 \u0644\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645":"Account is complete and activated for use":"":"ar"===this.lang?"\u064a\u062c\u0628 \u0625\u0643\u0645\u0627\u0644 \u0625\u0639\u062f\u0627\u062f \u0627\u0644\u062d\u0633\u0627\u0628 \u0644\u062f\u0649 \u0645\u0632\u0648\u062f \u0627\u0644\u062f\u0641\u0639":"Account setup with payment provider needs to be completed"}shouldShowFormSubmittedBadge(e){return"provider"===e.type&&e.details_submitted_at}getProviderStatusIcon(e){return"provider"!==e.type?"":e.details_submitted_at?e.details_submitted_at&&!e.charges_enable_at?"bi bi-clock":e.charges_enable_at?"bi bi-check-circle":"bi bi-exclamation-circle":"bi bi-exclamation-circle"}hasNoPaymentMethods(){return 0===this.getVisiblePaymentMethods().length}onAddPaymentMethod(){this.router.navigate(["/app/setup-payment-info"])}isManualAccountComplete(e){return"manual"===e.type&&null!=e.bank_iban&&""!==e.bank_iban}formatIban(e){return e?e.replace(/(.{4})/g,"$1 ").trim():"Not Available"}copyToClipboard(e){navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{this.showSuccess("ar"===this.lang?"\u062a\u0645 \u0627\u0644\u0646\u0633\u062e":"Copied","ar"===this.lang?"\u062a\u0645 \u0646\u0633\u062e IBAN \u0628\u0646\u062c\u0627\u062d":"IBAN copied to clipboard")}).catch(()=>{this.fallbackCopyToClipboard(e)}):this.fallbackCopyToClipboard(e)}fallbackCopyToClipboard(e){const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy"),this.showSuccess("ar"===this.lang?"\u062a\u0645 \u0627\u0644\u0646\u0633\u062e":"Copied","ar"===this.lang?"\u062a\u0645 \u0646\u0633\u062e IBAN \u0628\u0646\u062c\u0627\u062d":"IBAN copied to clipboard")}catch{this.showError("ar"===this.lang?"\u062e\u0637\u0623":"Error","ar"===this.lang?"\u0641\u0634\u0644 \u0641\u064a \u0646\u0633\u062e \u0627\u0644\u0646\u0635":"Failed to copy text")}finally{document.body.removeChild(n)}}handleServerErrors(e){if(e.error&&e.error.errors){const n=e.error.errors;for(const o in n)n.hasOwnProperty(o)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[o].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||i)(t.rXU(t.zZn),t.rXU(R.p),t.rXU(t.gRc),t.rXU(Mn.W),t.rXU(E.Ix))};static \u0275cmp=t.VBU({type:i,selectors:[["app-payment-settings"]],features:[t.Vt3],decls:1,vars:3,consts:[["class","mb-10 bg-white",4,"ngIf"],[1,"mb-10","bg-white"],[1,"col-12"],[1,"w-100"],[1,"p-24px"],[1,"fs-2","fw-bolder","mb-2","d-flex","flex-column"],[1,"text-gray-600","fw-semibold","fs-6"],["class","text-center py-10",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-10"],["role","status",1,"spinner-border","spinner-border-sm","text-info"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"bi","bi-credit-card","fs-1","text-muted","mb-4","d-block",2,"font-size","4rem !important"],[1,"text-muted","mb-4"],[1,"text-muted","mb-5"],[1,"btn","btn-info",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"payment-methods-grid"],["class","payment-method-wrapper",4,"ngFor","ngForOf"],[1,"payment-method-wrapper"],[1,"add-payment-method-card","card","border","rounded-3","p-5","text-center",3,"click"],[1,"add-payment-content"],[1,"add-payment-icon","mb-4"],["width","64","height","64","viewBox","0 0 64 64","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M2 48.6667C2 49.5507 2.35119 50.3986 2.97631 51.0237C3.60143 51.6488 4.44928 52 5.33333 52H52.6667L62 42.6667V15.3333C62 14.4493 61.6488 13.6014 61.0237 12.9763C60.3986 12.3512 59.5507 12 58.6667 12H5.33333C4.44928 12 3.60143 12.3512 2.97631 12.9763C2.35119 13.6014 2 14.4493 2 15.3333V48.6667Z","fill","white"],["d","M2 18.6667H62V27.3333H2V18.6667Z","fill","#29B6F6"],["d","M43.3307 52.3333H5.33073C4.3586 52.3322 3.42661 51.9456 2.73921 51.2582C2.05182 50.5708 1.66516 49.6388 1.66406 48.6667V15.3333C1.66516 14.3612 2.05182 13.4292 2.73921 12.7418C3.42661 12.0544 4.3586 11.6678 5.33073 11.6667H58.6641C59.6362 11.6678 60.5682 12.0544 61.2556 12.7418C61.943 13.4292 62.3296 14.3612 62.3307 15.3333V33.3333C62.3307 33.4217 62.2956 33.5065 62.2331 33.569C62.1706 33.6315 62.0858 33.6667 61.9974 33.6667C61.909 33.6667 61.8242 33.6315 61.7617 33.569C61.6992 33.5065 61.6641 33.4217 61.6641 33.3333V15.3333C61.6632 14.538 61.3468 13.7754 60.7844 13.213C60.222 12.6506 59.4594 12.3342 58.6641 12.3333H5.33073C4.53536 12.3342 3.77282 12.6506 3.2104 13.213C2.64799 13.7754 2.33163 14.538 2.33073 15.3333V48.6667C2.33163 49.462 2.64799 50.2246 3.2104 50.787C3.77282 51.3494 4.53536 51.6658 5.33073 51.6667H43.3307C43.4191 51.6667 43.5039 51.7018 43.5664 51.7643C43.6289 51.8268 43.6641 51.9116 43.6641 52C43.6641 52.0884 43.6289 52.1732 43.5664 52.2357C43.5039 52.2982 43.4191 52.3333 43.3307 52.3333Z","fill","#C1C1C1"],["d","M15.9974 45.6667H5.9974C5.90899 45.6667 5.82421 45.6315 5.76169 45.569C5.69918 45.5065 5.66406 45.4217 5.66406 45.3333V42.6667C5.66406 42.5783 5.69918 42.4935 5.76169 42.431C5.82421 42.3684 5.90899 42.3333 5.9974 42.3333H15.9974C16.0858 42.3333 16.1706 42.3684 16.2331 42.431C16.2956 42.4935 16.3307 42.5783 16.3307 42.6667V45.3333C16.3307 45.4217 16.2956 45.5065 16.2331 45.569C16.1706 45.6315 16.0858 45.6667 15.9974 45.6667ZM6.33073 45H15.6641V43H6.33073V45Z","fill","#C1C1C1"],["d","M33.9974 45.6667H19.9974C19.909 45.6667 19.8242 45.6315 19.7617 45.569C19.6992 45.5065 19.6641 45.4217 19.6641 45.3333V42.6667C19.6641 42.5783 19.6992 42.4935 19.7617 42.431C19.8242 42.3684 19.909 42.3333 19.9974 42.3333H33.9974C34.0858 42.3333 34.1706 42.3684 34.2331 42.431C34.2956 42.4935 34.3307 42.5783 34.3307 42.6667V45.3333C34.3307 45.4217 34.2956 45.5065 34.2331 45.569C34.1706 45.6315 34.0858 45.6667 33.9974 45.6667ZM20.3307 45H33.6641V43H20.3307V45Z","fill","#C1C1C1"],["d","M52.6641 32.6667C47.1501 32.6667 42.6641 37.1527 42.6641 42.6667C42.6641 48.1807 47.1501 52.6667 52.6641 52.6667C58.1781 52.6667 62.6641 48.1807 62.6641 42.6667C62.6641 37.1527 58.1781 32.6667 52.6641 32.6667ZM59.3307 43.3333H53.3307V49.3333C53.3307 49.5101 53.2605 49.6797 53.1355 49.8047C53.0104 49.9298 52.8409 50 52.6641 50C52.4873 50 52.3177 49.9298 52.1927 49.8047C52.0676 49.6797 51.9974 49.5101 51.9974 49.3333V43.3333H45.9974C45.8206 43.3333 45.651 43.2631 45.526 43.1381C45.401 43.013 45.3307 42.8435 45.3307 42.6667C45.3307 42.4899 45.401 42.3203 45.526 42.1953C45.651 42.0702 45.8206 42 45.9974 42H51.9974V36C51.9974 35.8232 52.0676 35.6536 52.1927 35.5286C52.3177 35.4036 52.4873 35.3333 52.6641 35.3333C52.8409 35.3333 53.0104 35.4036 53.1355 35.5286C53.2605 35.6536 53.3307 35.8232 53.3307 36V42H59.3307C59.5075 42 59.6771 42.0702 59.8021 42.1953C59.9272 42.3203 59.9974 42.4899 59.9974 42.6667C59.9974 42.8435 59.9272 43.013 59.8021 43.1381C59.6771 43.2631 59.5075 43.3333 59.3307 43.3333Z","fill","#29B6F6"],[1,"fw-bold","text-gray-800","mb-2"],[1,"payment-method-card","card","border","rounded-3","p-4",3,"ngClass"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"d-flex","align-items-center"],[1,"payment-logo-container","me-3"],["src","/assets/media/logos/custom-2.svg","alt","Bank Account","class","payment-logo",4,"ngIf"],["src","https://logos-world.net/wp-content/uploads/2022/12/Stripe-Emblem.png","alt","Stripe","class","payment-logo",4,"ngIf"],[1,"d-flex","align-items-center","mb-1"],["class","mb-0 text-info fw-bold",4,"ngIf"],["class","mb-0 text-muted fw-bold",4,"ngIf"],[1,"d-flex","align-items-center","text-info"],[1,"me-2",3,"ngClass"],[1,"fw-semibold"],[1,"d-flex","align-items-center","gap-2"],["class","badge badge-light-warning","style","font-size: 0.8rem; padding: 0.5rem 1rem;",4,"ngIf"],["class","badge badge-light-success","style","font-size: 0.8rem; padding: 0.5rem 1rem;",4,"ngIf"],["class","badge","style","font-size: 0.8rem; padding: 0.5rem 1rem;",3,"ngClass",4,"ngIf"],[1,"text-info","mb-0",2,"height","1px","opacity","0.3"],["class","account-details-section",4,"ngIf"],[1,"d-flex","justify-content-end","gap-2","mt-4"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],["class","btn btn-sm btn-info",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-outline-danger delete-btn-custom d-flex align-items-center",3,"disabled","click",4,"ngIf"],["src","/assets/media/logos/custom-2.svg","alt","Bank Account",1,"payment-logo"],["src","https://logos-world.net/wp-content/uploads/2022/12/Stripe-Emblem.png","alt","Stripe",1,"payment-logo"],[1,"mb-0","text-info","fw-bold"],[1,"mb-0","text-muted","fw-bold"],[1,"badge","badge-light-warning",2,"font-size","0.8rem","padding","0.5rem 1rem"],[1,"badge","badge-light-success",2,"font-size","0.8rem","padding","0.5rem 1rem"],[1,"badge",2,"font-size","0.8rem","padding","0.5rem 1rem",3,"ngClass"],[1,"account-details-section"],[1,"account-name-section","mb-3"],[1,"d-flex","justify-content-between","align-items-start"],[1,"account-name-label"],[1,"d-flex","align-items-center","justify-content-between"],[1,"account-name-value"],["class","d-flex align-items-center",4,"ngIf"],["class","bank-name-section mb-3",4,"ngIf"],[1,"iban-section"],[1,"iban-label"],[1,"iban-value"],[1,"iban-text"],["type","button","class","copy-btn","tooltipPosition","top",3,"pTooltip","click",4,"ngIf"],[1,"country-flag","me-2",2,"width","24px","height","16px","object-fit","cover",3,"src","alt"],[1,"fw-semibold","text-dark"],[1,"bank-name-section","mb-3"],[1,"bank-name-label"],[1,"bank-name-value"],["type","button","tooltipPosition","top",1,"copy-btn",3,"click","pTooltip"],[1,"ki-duotone","ki-copy","fs-6"],[1,"path1"],[1,"path2"],[1,"provider-info"],[1,"bi","bi-info-circle","text-info","me-2"],[1,"text-muted"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fas","fa-edit","me-1"],[1,"btn","btn-sm","btn-info",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],[1,"fas","fa-star","me-1"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"btn","btn-sm","btn-outline-danger","delete-btn-custom","d-flex","align-items-center",3,"click","disabled"],[1,"pi","pi-trash","delete-icon-custom",2,"font-size","14px","margin-inline-end","6px"],[1,"delete-text-custom"]],template:function(n,o){1&n&&t.DNE(0,eo,15,10,"div",0),2&n&&t.Y8G("ngIf",o.isActive&&(o.hasRole(t.lJ4(1,Rn))||o.hasRole(t.lJ4(2,On))))},dependencies:[_.YU,_.Sq,_.bT,j.m,y.D9],styles:[".p-24px[_ngcontent-%COMP%]{padding:24px}@media (max-width: 768px){.p-24px[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 576px){.p-24px[_ngcontent-%COMP%]{padding:12px}}.payment-methods-grid[_ngcontent-%COMP%]{display:grid;gap:24px;margin-top:2rem}@media (min-width: 1920px){.payment-methods-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1024px) and (max-width: 1919px){.payment-methods-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 769px) and (max-width: 1023px){.payment-methods-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}}@media (max-width: 768px){.payment-methods-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.payment-method-wrapper[_ngcontent-%COMP%]{width:100%}.payment-method-card[_ngcontent-%COMP%]{border:1.5px solid #d1d5db!important;border-radius:12px!important;background-color:#fff;transition:all .2s ease;box-shadow:none!important;width:100%;height:100%;min-height:280px;display:flex;flex-direction:column}.payment-method-card.primary-card[_ngcontent-%COMP%]{border-color:#0978b9!important;background-color:#f8fbff;background-image:url(https://res.cloudinary.com/dsiku9ipv/image/upload/v1755797462/237149957_689f919e-0ac3-4999-ad29-dfbf8a20382f_cm8fwh.webp);background-position:100%;background-size:140%;background-repeat:no-repeat}.payment-method-card.primary-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0978b926!important;transform:translateY(-1px)}.payment-method-card.secondary-card[_ngcontent-%COMP%]{background-color:#fff}.payment-method-card.secondary-card[_ngcontent-%COMP%]:hover{border-color:#0978b9!important;box-shadow:0 2px 8px #0000000d!important;transform:translateY(-1px)}.add-payment-method-card[_ngcontent-%COMP%]{border:2px dashed #d1d5db!important;border-radius:12px!important;background-color:#fff;transition:all .2s ease;box-shadow:none!important;cursor:pointer;height:100%;min-height:280px;display:flex;align-items:center;justify-content:center}.add-payment-method-card[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#0978b9!important;transform:translateY(-1px)}.add-payment-method-card[_ngcontent-%COMP%]:hover   .bi-plus-circle[_ngcontent-%COMP%]{transform:scale(1.1);color:#0978b9!important}.add-payment-content[_ngcontent-%COMP%]{text-align:center}.add-payment-icon[_ngcontent-%COMP%]   .bi-plus-circle[_ngcontent-%COMP%]{transition:transform .2s ease}.payment-logo-container[_ngcontent-%COMP%]{width:48px;height:48px;background-color:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 2px #0000000d!important;border:1px solid #e9ecef}.payment-logo[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}hr.text-info[_ngcontent-%COMP%]{border-top:1px solid #0978B9!important;opacity:.3}.badge[_ngcontent-%COMP%]{padding:.375rem .75rem;font-weight:500;border-radius:6px;font-size:.75rem}.badge.badge-light-info[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#0978b9;border:1px solid #bbdefb}.badge.badge-light-success[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32;border:1px solid #c8e6c9;font-weight:600}.badge.badge-light-warning[_ngcontent-%COMP%]{background-color:#fff8e1;color:#f57c00;border:1px solid #ffe0b2}.badge.badge-light-danger[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ffcdd2}.btn.btn-info[_ngcontent-%COMP%]{background-color:#0978b9;border-color:#0978b9;color:#fff}.btn.btn-info[_ngcontent-%COMP%]:hover{background-color:#0052a3;border-color:#0052a3}.btn.btn-light-info[_ngcontent-%COMP%]{background-color:#ebf3fe;border-color:#ebf3fe;color:#0978b9}.btn.btn-light-info[_ngcontent-%COMP%]:hover{background-color:#d4e8fc;border-color:#d4e8fc}.btn.btn-light-danger[_ngcontent-%COMP%]{background-color:#ffebee;border-color:#ffebee;color:#f44336}.btn.btn-light-danger[_ngcontent-%COMP%]:hover{background-color:#ffcdd2;border-color:#ffcdd2}.alert.alert-light-info[_ngcontent-%COMP%]{background-color:#e3f6fc;border:1px solid #b3e5fc;color:#0277bd}.bi-credit-card[_ngcontent-%COMP%]{opacity:.5}.account-details-section[_ngcontent-%COMP%]{margin-top:1.5rem;flex-grow:1}.account-details-section[_ngcontent-%COMP%]   .account-name-section[_ngcontent-%COMP%]   .account-name-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.account-details-section[_ngcontent-%COMP%]   .account-name-section[_ngcontent-%COMP%]   .account-name-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.account-details-section[_ngcontent-%COMP%]   .bank-name-section[_ngcontent-%COMP%]   .bank-name-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.account-details-section[_ngcontent-%COMP%]   .bank-name-section[_ngcontent-%COMP%]   .bank-name-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-value[_ngcontent-%COMP%]   .iban-text[_ngcontent-%COMP%]{font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.95rem;font-weight:500;color:#2c3e50;letter-spacing:1px;background-color:#f8f9fa;padding:8px 12px;border-radius:6px;border:1px solid #e9ecef;flex-grow:1}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-value[_ngcontent-%COMP%]   .copy-btn[_ngcontent-%COMP%]{background:none;border:none;color:#0978b9;cursor:pointer;padding:6px;border-radius:4px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-value[_ngcontent-%COMP%]   .copy-btn[_ngcontent-%COMP%]:hover{background-color:#0978b91a;transform:scale(1.1)}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-value[_ngcontent-%COMP%]   .copy-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.account-details-section[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:6px;padding:12px 16px;border:1px solid #e9ecef}.account-details-section[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.account-details-section[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#495057}.provider-info[_ngcontent-%COMP%]{background-color:#f8fbff;border-radius:6px;padding:12px 16px;border:1px solid #e3f2fd;font-size:.85rem}.delete-btn-custom[_ngcontent-%COMP%]:hover, .delete-btn-custom[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#dc3545!important;border-color:#dc3545!important}.delete-btn-custom[_ngcontent-%COMP%]:hover   .delete-icon-custom[_ngcontent-%COMP%], .delete-btn-custom[_ngcontent-%COMP%]:focus   .delete-icon-custom[_ngcontent-%COMP%], .delete-btn-custom[_ngcontent-%COMP%]:hover   .delete-text-custom[_ngcontent-%COMP%], .delete-btn-custom[_ngcontent-%COMP%]:focus   .delete-text-custom[_ngcontent-%COMP%]{color:#fff!important}@media (max-width: 768px){.payment-method-card[_ngcontent-%COMP%]{margin-bottom:1rem}.detail-box[_ngcontent-%COMP%]{margin-bottom:.75rem}.payment-logo-container[_ngcontent-%COMP%]{width:40px;height:40px}.payment-logo[_ngcontent-%COMP%]{width:28px;height:28px}.add-payment-method-card[_ngcontent-%COMP%]{padding:3rem!important}}.text-info[_ngcontent-%COMP%]{color:#0978b9!important}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.country-flag[_ngcontent-%COMP%]{border-radius:2px;border:1px solid #e9ecef}"]})}return i})();var oo=g(5964),io=g(2029);function ao(i,r){if(1&i){const e=t.RV6();t.j41(0,"li",8)(1,"a",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchTab("general-settings"))}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(),t.AVh("active","general-settings"===e.activeTab),t.R7$(),t.SpI(" ",t.bMT(3,3,"INSIGHTER.DASHBOARD.NAV.ACCOUNT_SETTINGS")," ")}}function ro(i,r){if(1&i){const e=t.RV6();t.j41(0,"li",8)(1,"a",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchTab("payment-settings"))}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(),t.AVh("active","payment-settings"===e.activeTab),t.R7$(),t.SpI(" ",t.bMT(3,3,"INSIGHTER.DASHBOARD.NAV.PAYMENT_SETTINGS_HEADER")," ")}}function so(i,r){if(1&i){const e=t.RV6();t.j41(0,"li",8)(1,"a",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchTab("consulting-schedule"))}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(),t.AVh("active","consulting-schedule"===e.activeTab),t.R7$(),t.SpI(" ",t.bMT(3,3,"INSIGHTER.DASHBOARD.NAV.MY_CONSULTING_SCHEDULE")," ")}}let co=(()=>{class i extends x.${router;profileService;activeTab="general-settings";isInsighter$;isCompany$;isClient$;isCompanyInsighter$;routerSubscription;constructor(e,n,o){super(e),this.router=n,this.profileService=o,this.isInsighter$=this.profileService.isInsighter(),this.isCompany$=this.profileService.isCompany(),this.isClient$=this.profileService.isClient(),this.isCompanyInsighter$=this.profileService.isCompanyInsighter()}ngOnInit(){this.updateActiveTabFromRoute(this.router.url),this.routerSubscription=this.router.events.pipe((0,oo.p)(e=>e instanceof E.wF)).subscribe(e=>{this.updateActiveTabFromRoute(e.url)})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe(),super.ngOnDestroy()}getSettingsSubtitle(){switch(this.activeTab){case"general-settings":return"ar"===this.lang?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629 \u0648\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0628.":"Manage personal information and account settings.";case"payment-settings":return"ar"===this.lang?"\u062a\u0643\u0648\u064a\u0646 \u0637\u0631\u0642 \u0627\u0644\u062f\u0641\u0639 \u0648\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0641\u0648\u062a\u0631\u0629.":"Configure payment methods and billing settings.";case"consulting-schedule":return"ar"===this.lang?"\u0625\u062f\u0627\u0631\u0629 \u062c\u062f\u0648\u0644\u0629 \u0627\u0644\u0627\u0633\u062a\u0634\u0627\u0631\u0627\u062a \u0648\u0623\u0648\u0642\u0627\u062a \u0627\u0644\u062a\u0648\u0641\u0631.":"Manage consultation scheduling and availability.";default:return"ar"===this.lang?"\u0625\u062f\u0627\u0631\u0629 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0628 \u0648\u0627\u0644\u062a\u0641\u0636\u064a\u0644\u0627\u062a.":"Manage account settings and preferences."}}updateActiveTabFromRoute(e){e.includes("general-settings")?this.activeTab="general-settings":e.includes("payment-settings")?this.activeTab="payment-settings":e.includes("consulting-schedule")&&(this.activeTab="consulting-schedule")}switchTab(e){this.activeTab=e,this.router.navigate([`/app/insighter-dashboard/account-settings/${e}`])}static \u0275fac=function(n){return new(n||i)(t.rXU(t.zZn),t.rXU(E.Ix),t.rXU(R.p))};static \u0275cmp=t.VBU({type:i,selectors:[["app-settings-tabs"]],features:[t.Vt3],decls:17,vars:20,consts:[[3,"titleEn","titleAr","lang","subtitle","showTabs"],["slot","icon",1,"ki-duotone","ki-gear","fs-2x","text-info"],[1,"path1"],[1,"path2"],["slot","tabs"],["class","nav-item",4,"ngIf"],[1,"py-1","bg-white","rounded-2"],[1,"tab-content"],[1,"nav-item"],[1,"nav-link","text-active-primary","pb-4",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"app-page-header",0)(1,"i",1),t.nrm(2,"span",2)(3,"span",3),t.k0s(),t.qex(4,4),t.DNE(5,ao,4,5,"li",5),t.nI1(6,"async"),t.DNE(7,ro,4,5,"li",5),t.nI1(8,"async"),t.nI1(9,"async"),t.DNE(10,so,4,5,"li",5),t.nI1(11,"async"),t.nI1(12,"async"),t.nI1(13,"async"),t.bVm(),t.k0s(),t.j41(14,"div",6)(15,"div",7),t.nrm(16,"router-outlet"),t.k0s()()),2&n&&(t.Y8G("titleEn","Settings")("titleAr","\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a")("lang",o.lang)("subtitle",o.getSettingsSubtitle())("showTabs",!0),t.R7$(5),t.Y8G("ngIf",!t.bMT(6,8,o.isClient$)),t.R7$(2),t.Y8G("ngIf",t.bMT(8,10,o.isInsighter$)||t.bMT(9,12,o.isCompany$)),t.R7$(3),t.Y8G("ngIf",t.bMT(11,14,o.isInsighter$)||t.bMT(12,16,o.isCompany$)||t.bMT(13,18,o.isCompanyInsighter$)))},dependencies:[_.bT,E.n3,io.y,_.Jj,y.D9],styles:[".filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]{display:flex;gap:.5rem}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:500;color:#7e8299;background-color:transparent;border:1px solid transparent;transition:all .3s ease;display:flex;align-items:center;white-space:nowrap;cursor:pointer;text-decoration:none}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#181c32;background-color:#f5f8fa}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#0978b9!important;background-color:#f1fafe!important;font-weight:600!important;border-color:transparent}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:hover{color:#0978b9!important;background-color:#f1faff!important}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.tab-content[_ngcontent-%COMP%]{min-height:400px}@media (max-width: 768px){.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]{flex-wrap:wrap}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.875rem}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}}"]})}return i})();var lo=g(1985),po=g(3992);const uo=()=>({width:"450px"}),F=()=>({direction:"ltr"});function go(i,r){if(1&i){const e=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG().index,a=t.XpG(2).index,s=t.XpG();return t.Njj(s.removeTimeSlot(a,o))}),t.nrm(1,"i",36),t.k0s()}}function mo(i,r){1&i&&(t.j41(0,"div",37)(1,"div",38)(2,"small",39),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"CONSULTING_SCHEDULE.PERFECT_HOUR_ERROR")," "))}function _o(i,r){1&i&&(t.j41(0,"div",37)(1,"div",38)(2,"small",39),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"CONSULTING_SCHEDULE.INVALID_RANGE_ERROR")," "))}function fo(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"div",25)(2,"div",26),t.nrm(3,"p-calendar",27),t.j41(4,"span",28),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.nrm(7,"p-calendar",29),t.k0s(),t.j41(8,"div",30)(9,"span",31),t.EFF(10,"$"),t.k0s(),t.j41(11,"input",32),t.bIt("input",function(o){const a=t.eBV(e).index,s=t.XpG(2).index,c=t.XpG();return t.Njj(c.limitRateValueTo999(s,a,o))}),t.k0s()(),t.DNE(12,go,2,0,"button",33),t.k0s(),t.DNE(13,mo,5,3,"div",34)(14,_o,5,3,"div",34),t.k0s()}if(2&i){const e=r.$implicit,n=r.index,o=t.XpG(2).index,a=t.XpG();t.Y8G("formGroupName",n),t.R7$(3),t.Aen(t.lJ4(19,F)),t.Y8G("timeOnly",!0)("showTime",!0)("readonlyInput",!0),t.R7$(2),t.JRh(t.bMT(6,17,"CONSULTING_SCHEDULE.TO")),t.R7$(2),t.Aen(t.lJ4(20,F)),t.Y8G("timeOnly",!0)("showTime",!0)("showSeconds",!1)("stepMinute",60)("readonlyInput",!0),t.R7$(5),t.Y8G("ngIf",a.getTimesFormArray(o).length>1),t.R7$(),t.Y8G("ngIf",null==e.errors?null:e.errors.perfectHour),t.R7$(),t.Y8G("ngIf",null==e.errors?null:e.errors.invalidTimeRange)}}function ho(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",20),t.DNE(1,fo,15,21,"div",21),t.j41(2,"div",22)(3,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG().index,a=t.XpG();return t.Njj(a.addTimeSlot(o))}),t.EFF(4," + "),t.k0s()()()}if(2&i){const e=t.XpG().index,n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.getTimesFormArray(e).controls)}}function bo(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",15)(1,"div",16)(2,"p-checkbox",17),t.bIt("onChange",function(){const o=t.eBV(e).index,a=t.XpG();return t.Njj(a.onDayToggle(o))}),t.k0s(),t.j41(3,"label",18),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.DNE(6,ho,5,1,"div",19),t.k0s()}if(2&i){let e;const n=r.$implicit,o=r.index,a=t.XpG();t.Y8G("formGroupName",o),t.R7$(2),t.Y8G("binary",!0)("inputId","day-"+o),t.R7$(),t.Y8G("for","day-"+o),t.R7$(),t.SpI(" ",t.bMT(5,6,a.weekDays[o].label||"CONSULTING_SCHEDULE.DAYS.MONDAY")," "),t.R7$(2),t.Y8G("ngIf",null==(e=n.get("active"))?null:e.value)}}function Co(i,r){1&i&&(t.j41(0,"div",37)(1,"div",38)(2,"small",39),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"CONSULTING_SCHEDULE.PERFECT_HOUR_ERROR")," "))}function vo(i,r){1&i&&(t.j41(0,"div",37)(1,"div",38)(2,"small",39),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"CONSULTING_SCHEDULE.INVALID_RANGE_ERROR")," "))}function xo(i,r){if(1&i&&(t.j41(0,"div",37)(1,"div",38)(2,"small",45),t.EFF(3),t.k0s()()()),2&i){const e=t.XpG(3);t.R7$(3),t.SpI(" ","ar"===e.lang?"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u064a\u0648\u0645 \u0627\u0633\u062a\u062b\u0646\u0627\u0621 \u0628\u0646\u0641\u0633 \u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0648\u0627\u0644\u0648\u0642\u062a":"Cannot add duplicate exception days at the same time"," ")}}function yo(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",42)(1,"div",43),t.nrm(2,"p-calendar",44),t.j41(3,"div",26),t.nrm(4,"p-calendar",27),t.j41(5,"span",28),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.nrm(8,"p-calendar",29),t.k0s(),t.j41(9,"button",35),t.bIt("click",function(){const o=t.eBV(e).index,a=t.XpG(2);return t.Njj(a.removeException(o))}),t.nrm(10,"i",36),t.k0s()(),t.DNE(11,Co,5,3,"div",34)(12,vo,5,3,"div",34)(13,xo,4,1,"div",34),t.k0s()}if(2&i){const e=r.$implicit;t.Y8G("formGroupName",r.index),t.R7$(2),t.Y8G("readonlyInput",!0),t.R7$(2),t.Aen(t.lJ4(20,F)),t.Y8G("timeOnly",!0)("showTime",!0)("readonlyInput",!0),t.R7$(2),t.JRh(t.bMT(7,18,"CONSULTING_SCHEDULE.TO")),t.R7$(2),t.Aen(t.lJ4(21,F)),t.Y8G("timeOnly",!0)("showTime",!0)("showSeconds",!1)("stepMinute",60)("readonlyInput",!0),t.R7$(3),t.Y8G("ngIf",null==e.errors?null:e.errors.perfectHour),t.R7$(),t.Y8G("ngIf",null==e.errors?null:e.errors.invalidTimeRange),t.R7$(),t.Y8G("ngIf",null==e.errors?null:e.errors.duplicateException)}}function To(i,r){if(1&i&&(t.j41(0,"div",40),t.DNE(1,yo,14,22,"div",41),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.exceptionsFormArray.controls)}}function Io(i,r){1&i&&(t.j41(0,"div",46),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CONSULTING_SCHEDULE.NO_EXCEPTIONS_DESC")," "))}function Eo(i,r){1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.JRh(t.bMT(2,1,"CONSULTING_SCHEDULE.SAVE")))}function So(i,r){1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.JRh(t.bMT(2,1,"CONSULTING_SCHEDULE.SAVING")))}function Mo(i,r){1&i&&(t.j41(0,"div",47)(1,"span"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&i&&(t.R7$(2),t.JRh(t.bMT(3,1,"COMMON.LOADING")))}let Ro=(()=>{class i extends x.${fb;consultingScheduleService;router;confirmationService;loading=(0,t.vPA)(!1);saving=(0,t.vPA)(!1);availability=(0,t.vPA)([]);availabilityObject=(0,t.vPA)({});exceptions=(0,t.vPA)([]);formDirty=(0,t.vPA)(!1);destroy$=new nt.B;formSubscription=null;scheduleForm;weekDays=[{key:"monday",label:"CONSULTING_SCHEDULE.DAYS.MONDAY"},{key:"tuesday",label:"CONSULTING_SCHEDULE.DAYS.TUESDAY"},{key:"wednesday",label:"CONSULTING_SCHEDULE.DAYS.WEDNESDAY"},{key:"thursday",label:"CONSULTING_SCHEDULE.DAYS.THURSDAY"},{key:"friday",label:"CONSULTING_SCHEDULE.DAYS.FRIDAY"},{key:"saturday",label:"CONSULTING_SCHEDULE.DAYS.SATURDAY"},{key:"sunday",label:"CONSULTING_SCHEDULE.DAYS.SUNDAY"}];constructor(e,n,o,a,s){super(s),this.fb=e,this.consultingScheduleService=n,this.router=o,this.confirmationService=a,this.initializeForm()}isRtl(){return"rtl"===document.documentElement.getAttribute("dir")}perfectHourValidator(e){const n=e,o=n.get("start_time")?.value,a=n.get("end_time")?.value;if(!o||!a)return null;const s=new Date(o),c=new Date(a);if(s.getMinutes()!==c.getMinutes())return{perfectHour:{message:"Start time and end time minutes must match",startMinutes:s.getMinutes(),endMinutes:c.getMinutes()}};if(c<=s)return{invalidTimeRange:{message:"End time must be after start time"}};const l=(c.getTime()-s.getTime())/6e4;return 60!==l?{perfectHour:{message:"ar"===this.lang?"\u064a\u062c\u0628 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0627\u0644\u0645\u062f\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629 \u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629 \u0628\u0627\u0644\u0636\u0628\u0637":"Time span must be exactly 60 minutes (1 hour)",timeDiffMinutes:l}}:null}synchronizeEndTimeMinutes(e){const n=e.get("start_time"),o=e.get("end_time");if(!n||!o||!n.value)return;const a=new Date(n.value);let s=o.value?new Date(o.value):new Date;s.setMinutes(a.getMinutes()),s<=a&&(s=new Date(a),s.setHours(s.getHours()+1)),o.setValue(s)}ngOnInit(){this.initializeWithDefaultDays(),this.loadScheduleData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.formSubscription&&this.formSubscription.unsubscribe()}setupFormChangeTracking(){this.formSubscription&&this.formSubscription.unsubscribe(),this.formSubscription=this.scheduleForm.valueChanges.pipe((0,Y.Q)(this.destroy$)).subscribe(()=>{this.formDirty()||this.formDirty.set(!0)})}canDeactivate(){return!this.formDirty()||new lo.c(e=>{this.confirmationService.confirm({header:"ar"===this.lang?"\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u063a\u064a\u0631 \u0645\u062d\u0641\u0648\u0638\u0629":"Unsaved Changes",message:"ar"===this.lang?"\u0644\u062f\u064a\u0643 \u062a\u063a\u064a\u064a\u0631\u0627\u062a \u063a\u064a\u0631 \u0645\u062d\u0641\u0648\u0638\u0629. \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0623\u0645 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629 \u0628\u062f\u0648\u0646 \u062d\u0641\u0638\u061f":"You have unsaved changes. Do you want to save the changes or continue without saving?",icon:"pi pi-exclamation-triangle",acceptLabel:"ar"===this.lang?"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a":"Save Changes",rejectLabel:"ar"===this.lang?"\u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629 \u0628\u062f\u0648\u0646 \u062d\u0641\u0638":"Continue Redirecting",accept:()=>{this.removeDuplicateExceptions(),this.onSave(),e.next(!0),e.complete()},reject:()=>{e.next(!0),e.complete()}})})}onBeforeUnload(e){this.formDirty()&&(e.preventDefault(),e.returnValue="")}limitRateValueTo999(e,n,o){const a=o.target;let s=parseInt(a.value,10);s>1e4&&(s=1e4,a.value=s.toString(),this.availabilityFormArray.at(e).get("times").at(n).get("rate")?.setValue(s,{emitEvent:!1}))}initializeForm(){this.scheduleForm=this.fb.group({availability:this.fb.array([]),exceptions:this.fb.array([],{validators:this.duplicateExceptionValidator.bind(this)})})}duplicateExceptionValidator(e){const n=e;if(!n||0===n.length)return null;const o={},a=new Set,s=this.exceptions();for(const p of s){const u="string"==typeof p.exception_date?p.exception_date.split("T")[0]:"";a.add(`${u}_${p.start_time}_${p.end_time}`)}for(let p=0;p<n.length;p++){const u=n.at(p),m=u.get("exception_date")?.value,f=u.get("start_time")?.value,h=u.get("end_time")?.value,C=u.get("isNew")?.value;if(!m||!f||!h)continue;const N=`${m instanceof Date?`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}-${String(m.getDate()).padStart(2,"0")}`:"string"==typeof m?m.split("T")[0]:""}_${f instanceof Date?`${f.getHours().toString().padStart(2,"0")}:${f.getMinutes().toString().padStart(2,"0")}`:""}_${h instanceof Date?`${h.getHours().toString().padStart(2,"0")}:${h.getMinutes().toString().padStart(2,"0")}`:""}`;if(C&&a.has(N))return n.at(p).setErrors({duplicateException:!0}),{duplicateExceptions:{[p]:{duplicateException:!0}}};o[N]||(o[N]=[]),o[N].push(p)}const c={};let l=!1;for(const p in o)if(o[p].length>1)for(let u=1;u<o[p].length;u++){const m=o[p][u];c[m]={duplicateException:!0},n.at(m).setErrors({duplicateException:!0}),l=!0}return l?{duplicateExceptions:c}:null}get availabilityFormArray(){return this.scheduleForm.get("availability")}get exceptionsFormArray(){return this.scheduleForm.get("exceptions")}loadScheduleData(){this.loading.set(!0),this.consultingScheduleService.getScheduleAvailability().subscribe({next:e=>{if(Array.isArray(e.data.availability))this.availability.set(e.data.availability);else{this.availabilityObject.set(e.data.availability);const n=this.convertAvailabilityObjectToArray(e.data.availability);this.availability.set(n)}console.log("API Response:",e),console.log("Availability exceptions:",e.data.availability_exceptions),this.exceptions.set(e.data.availability_exceptions||[]),this.buildForm(),this.loading.set(!1)},error:e=>{console.error("Error loading schedule:",e),this.loading.set(!1)}})}convertAvailabilityObjectToArray(e){return e?this.weekDays.map(o=>{const a=o.key,s=e[a]||{day:a,active:!1,times:[]};return{day:a,active:s.active,times:s.times||[]}}):[]}buildForm(){this.availabilityFormArray.clear(),this.exceptionsFormArray.clear(),this.availability().forEach(e=>{const n=this.createDayFormGroup(e);this.availabilityFormArray.push(n)}),this.exceptions().forEach(e=>{const n=this.createExceptionFormGroup(e);this.exceptionsFormArray.push(n)}),this.formDirty.set(!1),this.setupFormChangeTracking()}createDayFormGroup(e){const n=this.fb.array(e.times.map(o=>this.createTimeSlotFormGroup(o)));return this.fb.group({day:[e.day],active:[e.active],times:n})}createTimeSlotFormGroup(e){const n=this.fb.group({start_time:[this.parseTimeString(e.start_time),d.k0.required],end_time:[this.parseTimeString(e.end_time),d.k0.required],rate:[e.rate||0]},{validators:this.perfectHourValidator.bind(this)});return n.get("start_time")?.valueChanges.subscribe(()=>{this.synchronizeEndTimeMinutes(n)}),n}createExceptionFormGroup(e,n=!1){let o=null;e.exception_date&&(o="string"==typeof e.exception_date?new Date(e.exception_date):e.exception_date);const a=this.fb.group({exception_date:[o,d.k0.required],start_time:[this.parseTimeString(e.start_time),d.k0.required],end_time:[this.parseTimeString(e.end_time),d.k0.required],rate:[0],isNew:[n]},{validators:this.perfectHourValidator.bind(this)});return a.get("start_time")?.valueChanges.subscribe(()=>{this.synchronizeEndTimeMinutes(a)}),a}parseTimeString(e){if(!e)return null;const[n,o]=e.split(":"),a=new Date;return a.setHours(parseInt(n,10),parseInt(o,10),0,0),a}formatTimeString(e){return e?"string"==typeof e?e:`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`:""}splitTimeRangeIntoHours(e,n){const o=[],[a,s]=e.split(":").map(Number),[c,l]=n.split(":").map(Number),p=new Date;p.setHours(a,s,0,0);const u=new Date;u.setHours(c,l,0,0);const m=new Date(p);for(;m<u;){const f=this.formatTimeString(m);m.setHours(m.getHours()+1);const h=this.formatTimeString(m>u?u:m);f!==h&&o.push({start_time:f,end_time:h,rate:0})}return o}onDayToggle(e){const n=this.availabilityFormArray.at(e),o=n.get("active")?.value,a=n.get("times");if(o){if(0===a.length){const s=this.createTimeSlotFormGroup({start_time:"09:00",end_time:"10:00",rate:50});a.push(s)}}else a.clear()}addTimeSlot(e){const o=this.availabilityFormArray.at(e).get("times");let a="09:00",s="10:00",c=50;if(o.length>0){const p=o.at(o.length-1),u=p.get("end_time")?.value,m=p.get("rate")?.value;if(u){a=this.formatTimeString(u);const f=new Date(u),h=new Date(f);h.setHours(h.getHours()+1),s=this.formatTimeString(h)}null!=m&&(c=m)}const l=this.createTimeSlotFormGroup({start_time:a,end_time:s,rate:c});o.push(l)}removeTimeSlot(e,n){this.availabilityFormArray.at(e).get("times").removeAt(n)}formatRateValue(e,n){const c=this.availabilityFormArray.at(e).get("times").at(n).get("rate");if(c&&null!=c.value){const l=parseFloat(c.value);isNaN(l)||c.setValue(l,{emitEvent:!1})}}formatRateValueOnInput(e,n,o){const a=o.target,s=a.value;if(s.match(/^0[1-9]/)){const u=this.availabilityFormArray.at(e).get("times").at(n).get("rate");if(u){const m=parseFloat(s);u.setValue(m,{emitEvent:!0}),setTimeout(()=>{a.setSelectionRange(a.value.length,a.value.length)},0)}}}getTimesFormArray(e){return this.availabilityFormArray.at(e).get("times")}checkNewExceptionAgainstBackend(e,n,o){const a=this.exceptions(),p=`${e instanceof Date?`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`:"string"==typeof e?e.split("T")[0]:""}_${n instanceof Date?`${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`:"string"==typeof n?n:""}_${o instanceof Date?`${o.getHours().toString().padStart(2,"0")}:${o.getMinutes().toString().padStart(2,"0")}`:"string"==typeof o?o:""}`;for(const u of a)if(p===`${"string"==typeof u.exception_date?u.exception_date.split("T")[0]:""}_${u.start_time}_${u.end_time}`)return!0;return!1}addException(){const e=this.createExceptionFormGroup({exception_date:"",start_time:"09:00",end_time:"10:00",rate:0},!0);this.exceptionsFormArray.push(e)}removeException(e){this.exceptionsFormArray.removeAt(e)}removeDuplicateExceptions(){this.exceptionsFormArray.updateValueAndValidity();const e={},n=[],o=new Set,a=this.exceptions();for(const s of a){const c="string"==typeof s.exception_date?s.exception_date.split("T")[0]:"";o.add(`${c}_${s.start_time}_${s.end_time}`)}for(let s=0;s<this.exceptionsFormArray.length;s++){const c=this.exceptionsFormArray.at(s),l=c.get("exception_date")?.value,p=c.get("start_time")?.value,u=c.get("end_time")?.value,m=c.get("isNew")?.value;if(!l||!p||!u)continue;const b=`${l instanceof Date?`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`:"string"==typeof l?l.split("T")[0]:""}_${p instanceof Date?`${p.getHours().toString().padStart(2,"0")}:${p.getMinutes().toString().padStart(2,"0")}`:""}_${u instanceof Date?`${u.getHours().toString().padStart(2,"0")}:${u.getMinutes().toString().padStart(2,"0")}`:""}`;m&&o.has(b)?n.push(s):(e[b]||(e[b]=[]),e[b].push(s))}for(const s in e)if(e[s].length>1){const l=[],p=[];if(e[s].forEach(u=>{this.exceptionsFormArray.at(u).get("isNew")?.value?p.push(u):l.push(u)}),l.length>0){if(n.push(...p),l.length>1)for(let u=1;u<l.length;u++)n.push(l[u])}else for(let u=1;u<p.length;u++)n.push(p[u])}n.sort((s,c)=>c-s),n.forEach(s=>{this.exceptionsFormArray.removeAt(s)}),console.log(`Removed ${n.length} duplicate exceptions`)}onSave(){if(this.removeDuplicateExceptions(),this.scheduleForm.valid){this.saving.set(!0);const n=this.processFormData(this.scheduleForm.value);this.consultingScheduleService.updateScheduleAvailability(n).subscribe({next:o=>{this.showSuccess("Success","en"===this.lang?"Schedule updated successfully":"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062c\u062f\u0648\u0644 \u0628\u0646\u062c\u0627\u062d"),this.formDirty.set(!1),this.saving.set(!1)},error:o=>{console.error("Error saving schedule:",o),this.handleServerErrors(o),this.saving.set(!1)}})}else"en"===this.lang?this.showError("Error","Please fill in all required fields"):this.showError("\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629")}handleServerErrors(e){if(e.error&&e.error.errors){const n=e.error.errors;for(const o in n)if(n.hasOwnProperty(o)){const a=n[o];Array.isArray(a)?this.showError("Error",a.join(", ")):this.showError("Error",a)}}else e.error&&e.error.message?this.showError("Error",e.error.message):this.showError("en"===this.lang?"Failed to save schedule":"\u0641\u0634\u0644 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062c\u062f\u0648\u0644")}processFormData(e){const n={availability:[],availability_exceptions:[]};return e.availability&&e.availability.forEach(o=>{const a={day:o.day,active:o.active,times:[]};if(o.active&&o.times&&o.times.length>0){const s=[];o.times.forEach(c=>{const l=this.formatTimeString(c.start_time),p=this.formatTimeString(c.end_time);l&&p&&s.push({start_time:l,end_time:p,rate:c.rate||0})}),a.times=s}n.availability.push(a)}),e.exceptions&&(n.availability_exceptions=e.exceptions.map(o=>{let a;return a=o.exception_date instanceof Date?`${o.exception_date.getFullYear()}-${String(o.exception_date.getMonth()+1).padStart(2,"0")}-${String(o.exception_date.getDate()).padStart(2,"0")}`:"string"==typeof o.exception_date?o.exception_date.split("T")[0]:o.exception_date,{exception_date:a,start_time:this.formatTimeString(o.start_time),end_time:this.formatTimeString(o.end_time)}})),n}initializeWithDefaultDays(){this.availability.set([{day:"monday",active:!1,times:[]},{day:"tuesday",active:!1,times:[]},{day:"wednesday",active:!1,times:[]},{day:"thursday",active:!1,times:[]},{day:"friday",active:!1,times:[]},{day:"saturday",active:!1,times:[]},{day:"sunday",active:!1,times:[]}]),this.exceptions.set([]),this.buildForm()}static \u0275fac=function(n){return new(n||i)(t.rXU(d.ok),t.rXU(po.L),t.rXU(E.Ix),t.rXU(k.td),t.rXU(t.zZn))};static \u0275cmp=t.VBU({type:i,selectors:[["app-consulting-schedule"]],hostBindings:function(n,o){1&n&&t.bIt("beforeunload",function(s){return o.onBeforeUnload(s)},!1,t.tSv)},features:[t.Jv_([k.td]),t.Vt3],decls:24,vars:21,consts:[[1,"p-24px"],[1,"schedule-container"],[3,"ngSubmit","formGroup"],[1,"sections-row"],[1,"section","available-days-section"],["formArrayName","availability"],["class","day-row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"section","exception-days-section"],["formArrayName","exceptions",4,"ngIf"],["type","button",1,"btn-add-exception",3,"click"],["class","no-exceptions",4,"ngIf"],["type","submit",1,"btn-save",3,"disabled"],[4,"ngIf"],["class","loading",4,"ngIf"],["appendTo","body","acceptButtonStyleClass","btn btn-sm btn-primary rounded mx-2","rejectButtonStyleClass","btn btn-sm btn-light-danger rounded","styleClass","custom-confirm-dialog",3,"baseZIndex"],[1,"day-row",3,"formGroupName"],[1,"day-checkbox"],["formControlName","active",3,"onChange","binary","inputId"],[3,"for"],["class","time-slots","formArrayName","times",4,"ngIf"],["formArrayName","times",1,"time-slots"],["class","time-slot-container",3,"formGroupName",4,"ngFor","ngForOf"],[1,"add-time-slot-row"],["type","button",1,"btn-add",3,"click"],[1,"time-slot-container",3,"formGroupName"],[1,"time-slot"],[1,"time-inputs"],["formControlName","start_time","hourFormat","24","placeholder","Start Time","dir","ltr","appendTo","body",3,"timeOnly","showTime","readonlyInput"],[1,"time-separator"],["formControlName","end_time","hourFormat","24","placeholder","End Time","dir","ltr","appendTo","body",3,"timeOnly","showTime","showSeconds","stepMinute","readonlyInput"],[1,"rate-input"],[1,"currency-symbol"],["type","number","formControlName","rate","placeholder","Rate","max","999","min","0","step","10",1,"rate-field","no-validation-border",3,"input"],["type","button","class","btn-remove",3,"click",4,"ngIf"],["class","validation-error-row",4,"ngIf"],["type","button",1,"btn-remove",3,"click"],[1,"pi","pi-trash"],[1,"validation-error-row"],[1,"validation-error"],[1,"error-message"],["formArrayName","exceptions"],["class","exception-container",3,"formGroupName",4,"ngFor","ngForOf"],[1,"exception-container",3,"formGroupName"],[1,"exception-row"],["formControlName","exception_date","dateFormat","yy-mm-dd","placeholder","Select Date","styleClass","date-calendar","appendTo","body",3,"readonlyInput"],[1,"error-message",2,"color","#f44336"],[1,"no-exceptions"],[1,"loading"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"form",2),t.bIt("ngSubmit",function(){return o.onSave()}),t.j41(3,"div",3)(4,"div",4)(5,"h3"),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",5),t.DNE(9,bo,7,8,"div",6),t.k0s()(),t.j41(10,"div",7)(11,"h3"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.DNE(14,To,2,1,"div",8),t.j41(15,"button",9),t.bIt("click",function(){return o.addException()}),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.DNE(18,Io,3,3,"div",10),t.k0s()(),t.j41(19,"button",11),t.DNE(20,Eo,3,3,"span",12)(21,So,3,3,"span",12),t.k0s()(),t.DNE(22,Mo,4,3,"div",13),t.k0s()(),t.nrm(23,"p-confirmDialog",14)),2&n&&(t.R7$(2),t.Y8G("formGroup",o.scheduleForm),t.R7$(4),t.JRh(t.bMT(7,14,"CONSULTING_SCHEDULE.AVAILABLE_DAYS")),t.R7$(3),t.Y8G("ngForOf",o.availabilityFormArray.controls),t.R7$(3),t.JRh(t.bMT(13,16,"CONSULTING_SCHEDULE.EXCEPTION_DAYS")),t.R7$(2),t.Y8G("ngIf",o.exceptionsFormArray.length>0),t.R7$(2),t.SpI(" ",t.bMT(17,18,"CONSULTING_SCHEDULE.ADD_EXCEPTION")," "),t.R7$(2),t.Y8G("ngIf",0===o.exceptionsFormArray.length),t.R7$(),t.Y8G("disabled",o.saving()||!o.scheduleForm.valid),t.R7$(),t.Y8G("ngIf",!o.saving()),t.R7$(),t.Y8G("ngIf",o.saving()),t.R7$(),t.Y8G("ngIf",o.loading()),t.R7$(),t.Aen(t.lJ4(20,uo)),t.Y8G("baseZIndex",1e4))},dependencies:[_.Sq,_.bT,d.qT,d.me,d.Q0,d.BC,d.cb,d.VZ,d.zX,d.j4,d.JD,d.$R,d.v8,L.Sc,it.Vv,at.T,y.D9],styles:[".schedule-container[_ngcontent-%COMP%]{margin:0 auto;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:#fff;border-radius:10px;padding:24px}.schedule-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center}.schedule-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:.5rem}.schedule-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6c757d}.sections-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}@media (max-width: 1500px){.sections-row[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.section[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:16px;background:#fff}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:#333}.available-days-section[_ngcontent-%COMP%]{flex:1.5}.exception-days-section[_ngcontent-%COMP%]{flex:1}.day-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:12px;padding:8px;border-bottom:1px solid #f0f0f0}.day-row[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.day-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:120px}.day-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:8px;font-size:14px;color:#333;cursor:pointer}.time-slots[_ngcontent-%COMP%]{flex:1}.time-slot-container[_ngcontent-%COMP%]{margin-bottom:8px}.time-slot-container[_ngcontent-%COMP%]:last-child{margin-bottom:0}.time-slot[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.exception-container[_ngcontent-%COMP%]{margin-bottom:12px}.exception-container[_ngcontent-%COMP%]:last-child{margin-bottom:0}.exception-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px;background:#f9f9f9;border-radius:4px}.time-input[_ngcontent-%COMP%], .date-input[_ngcontent-%COMP%]{padding:6px 8px;font-size:13px;border:1px solid #ddd;border-radius:4px;background:#fff;font-family:inherit}.time-input[_ngcontent-%COMP%]:focus, .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2;box-shadow:0 0 0 2px #1976d21a}.time-input[_ngcontent-%COMP%]{width:85px;min-width:85px}.date-input[_ngcontent-%COMP%]{width:160px;min-width:160px}.time-separator[_ngcontent-%COMP%]{font-size:13px;color:#666;white-space:nowrap;font-weight:500}.btn-add[_ngcontent-%COMP%], .btn-remove[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #ddd;border-radius:4px;padding:6px 10px;font-size:12px;color:#666;cursor:pointer;min-width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-add[_ngcontent-%COMP%]:disabled, .btn-remove[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-add[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;border-color:#bbdefb;font-weight:700;font-size:14px}.btn-remove[_ngcontent-%COMP%]{background:#ffebee;color:#d32f2f;border-color:#ffcdd2}.validation-error-row[_ngcontent-%COMP%]{margin-top:4px;width:100%}.validation-error[_ngcontent-%COMP%]{padding:4px 8px;background-color:#ffebee;border:1px solid #ffcdd2;border-radius:4px}.validation-error[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:12px;font-weight:500;display:block}.btn-save[_ngcontent-%COMP%]{background:#1976d2;border:none;border-radius:6px;padding:10px 20px;font-size:15px;color:#fff;cursor:pointer;font-weight:500}.btn-save[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.no-exceptions[_ngcontent-%COMP%]{font-size:13px;color:#666;font-style:italic;text-align:center;padding:16px}.loading[_ngcontent-%COMP%]{position:fixed;inset:0;background:#fffc;display:flex;align-items:center;justify-content:center;font-size:14px;color:#333}  .p-checkbox .p-checkbox-box{width:18px;height:18px;border:1px solid #ddd;border-radius:3px}  .p-checkbox .p-checkbox-box.p-highlight{background:#1976d2;border-color:#1976d2}  .date-calendar .p-calendar .p-inputtext{border-radius:6px;padding:8px 12px;font-size:14px;border:1px solid #ddd}  .date-calendar .p-calendar .p-inputtext:focus{border-color:#1976d2;box-shadow:0 0 0 2px #1976d21a}  .date-calendar .p-calendar .p-datepicker-trigger{background:#1976d2;border:1px solid #1976d2;border-radius:0 6px 6px 0;color:#fff}  .date-calendar .p-calendar .p-datepicker-trigger:hover{background:#1565c0;border-color:#1565c0}  .p-calendar .p-inputtext{border-radius:6px;padding:6px 10px;font-size:13px;border:1px solid #ddd}  .p-calendar .p-inputtext:focus{border-color:#1976d2;box-shadow:0 0 0 2px #1976d21a}@media (max-width: 768px){.day-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.day-checkbox[_ngcontent-%COMP%]{margin-right:0;margin-bottom:8px}.time-slot[_ngcontent-%COMP%], .exception-row[_ngcontent-%COMP%]{flex-wrap:wrap;gap:8px}.time-separator[_ngcontent-%COMP%]{order:2}.time-input[_ngcontent-%COMP%]{width:80px;min-width:80px}.date-input[_ngcontent-%COMP%]{width:140px;min-width:140px}}.rate-input[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;margin-left:10px}@media (max-width: 768px){.rate-input[_ngcontent-%COMP%]{margin-left:0;margin-top:8px}}@media (max-width: 480px){.rate-input[_ngcontent-%COMP%]{margin-top:6px}}.rate-input[_ngcontent-%COMP%]   .currency-symbol[_ngcontent-%COMP%]{position:absolute;left:8px;z-index:1;color:#6c757d;font-weight:500}.rate-input[_ngcontent-%COMP%]   .rate-field[_ngcontent-%COMP%]{padding:8px 12px 8px 24px;border:1px solid #cbd5e1;border-radius:4px;font-size:14px;width:110px;height:40px;box-sizing:border-box;box-shadow:0 0 #0000,0 0 #0000,0 1px 2px #1212170d!important}@media (max-width: 768px){.rate-input[_ngcontent-%COMP%]   .rate-field[_ngcontent-%COMP%]{width:90px;height:36px}}@media (max-width: 480px){.rate-input[_ngcontent-%COMP%]   .rate-field[_ngcontent-%COMP%]{width:100px;height:34px;font-size:13px}}.rate-input[_ngcontent-%COMP%]   .rate-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.rate-input[_ngcontent-%COMP%]   .rate-field[_ngcontent-%COMP%]:invalid{border-color:#dc3545}.rate-input[_ngcontent-%COMP%]   .rate-field.no-validation-border[_ngcontent-%COMP%]:invalid, .rate-input[_ngcontent-%COMP%]   .rate-field.no-validation-border.ng-invalid[_ngcontent-%COMP%]{border-color:#ddd}.time-slot[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:10px}@media (max-width: 768px){.time-slot[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}}.time-inputs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}@media (max-width: 768px){.time-inputs[_ngcontent-%COMP%]{flex-wrap:wrap;gap:8px}}@media (max-width: 480px){.time-inputs[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:4px;justify-content:flex-start}}.time-inputs[_ngcontent-%COMP%]   .time-separator[_ngcontent-%COMP%]{margin:0 8px;font-weight:500;color:#6c757d}@media (max-width: 768px){.time-inputs[_ngcontent-%COMP%]   .time-separator[_ngcontent-%COMP%]{margin:0 4px}}@media (max-width: 480px){.time-inputs[_ngcontent-%COMP%]   .time-separator[_ngcontent-%COMP%]{display:none}}.time-inputs[_ngcontent-%COMP%]     .p-calendar .p-inputtext{width:85px!important;height:40px!important;box-sizing:border-box!important}@media (max-width: 768px){.time-inputs[_ngcontent-%COMP%]     .p-calendar .p-inputtext{width:70px!important;height:36px!important}}@media (max-width: 480px){.time-inputs[_ngcontent-%COMP%]     .p-calendar .p-inputtext{width:65px!important;height:34px!important;font-size:12px!important}}.exception-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:10px}@media (max-width: 768px){.exception-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}}.exception-row[_ngcontent-%COMP%]     .p-calendar .p-inputtext{width:60px!important;height:40px!important;box-sizing:border-box!important}@media (max-width: 768px){.exception-row[_ngcontent-%COMP%]     .p-calendar .p-inputtext{width:70px!important;height:36px!important}}.exception-row[_ngcontent-%COMP%]     .p-calendar.date-calendar .p-inputtext{width:120px!important}@media (max-width: 768px){.exception-row[_ngcontent-%COMP%]     .p-calendar.date-calendar .p-inputtext{width:140px!important}}.validation-error-row[_ngcontent-%COMP%]{margin-top:5px;width:100%}.validation-error-row[_ngcontent-%COMP%]   .validation-error[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:12px}@media (max-width: 768px){.validation-error-row[_ngcontent-%COMP%]   .validation-error[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:11px}}.btn-remove[_ngcontent-%COMP%]{background:#ffebee;color:#d32f2f;border-color:#ffcdd2;border-radius:4px;padding:6px 8px;cursor:pointer}@media (max-width: 768px){.btn-remove[_ngcontent-%COMP%]{padding:4px 6px;font-size:12px}}.btn-remove[_ngcontent-%COMP%]:hover{background:#ffd0d7}.btn-add[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;border-color:#bbdefb;border-radius:4px;padding:6px 12px;cursor:pointer;font-size:16px}@media (max-width: 768px){.btn-add[_ngcontent-%COMP%]{padding:4px 8px;font-size:14px}}.btn-add[_ngcontent-%COMP%]:hover{background:#c4e2f7}.btn-add-exception[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #ddd;border-radius:4px;padding:5px 10px;font-size:14px;color:#333;cursor:pointer;margin-bottom:12px;margin-top:12px}@media (max-width: 768px){.btn-add-exception[_ngcontent-%COMP%]{padding:6px 12px;font-size:14px}}.btn-add-exception[_ngcontent-%COMP%]:hover{background:#d7d7d7}.btn-save[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;border-radius:4px;padding:12px 24px;cursor:pointer;font-size:16px;margin-top:20px}@media (max-width: 768px){.btn-save[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px;margin-top:15px}}.btn-save[_ngcontent-%COMP%]:hover{background:#0056b3}.btn-save[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed}.schedule-container[_ngcontent-%COMP%]{overflow-x:auto}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]{padding:15px}}@media (max-width: 480px){.schedule-container[_ngcontent-%COMP%]{padding:10px}}.schedule-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:30px}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px}}.schedule-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;color:#333;font-size:24px}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}}.schedule-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:0;font-size:14px}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}.schedule-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{border:1px solid #e9ecef;border-radius:8px;padding:20px;min-width:0;overflow-x:auto}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{padding:15px}}@media (max-width: 480px){.schedule-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{padding:12px}}.schedule-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:#333;font-size:18px}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:15px}}.schedule-container[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]{margin-bottom:20px}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]{margin-bottom:15px}}.schedule-container[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:15px}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-checkbox[_ngcontent-%COMP%]{margin-bottom:10px}}.schedule-container[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:14px}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px}}.schedule-container[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .time-slots[_ngcontent-%COMP%]{margin-left:10px}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .time-slots[_ngcontent-%COMP%]{margin-left:20px}}@media (max-width: 480px){.schedule-container[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .time-slots[_ngcontent-%COMP%]{margin-left:15px}}.schedule-container[_ngcontent-%COMP%]   .add-time-slot-row[_ngcontent-%COMP%]{margin-top:10px}.schedule-container[_ngcontent-%COMP%]   .exception-container[_ngcontent-%COMP%]{margin-bottom:20px}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .exception-container[_ngcontent-%COMP%]{margin-bottom:15px}}.schedule-container[_ngcontent-%COMP%]   .no-exceptions[_ngcontent-%COMP%]{color:#6c757d;font-style:italic;text-align:center;padding:20px;font-size:14px}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .no-exceptions[_ngcontent-%COMP%]{padding:15px;font-size:13px}}.schedule-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:fixed;inset:0;background:#fffc;display:flex;align-items:center;justify-content:center;z-index:1000}.schedule-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;color:#333}@media (max-width: 768px){.schedule-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}}"]})}return i})();var Oo=g(3354);const Ao=[{path:"",component:co,children:[{path:"",redirectTo:"general-settings",pathMatch:"full"},{path:"company-account",component:re,canActivate:[In.R],data:{roles:["insighter"]}},{path:"general-settings",component:Tn},{path:"payment-settings",component:no},{path:"consulting-schedule",component:Ro}]}];let Po=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=t.$C({type:i});static \u0275inj=t.G2t({imports:[_.MD,E.iI.forChild(Ao),X.E,d.YN,j.S,d.X1,W.P,T.k_,En.MB,Sn.d,L.q4,me,it.rO,at.F,Z.o,J.kr,q.R,Oo.f]})}return i})()}}]);