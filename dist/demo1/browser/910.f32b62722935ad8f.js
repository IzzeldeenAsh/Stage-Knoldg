"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[910],{910:(T,y,l)=>{l.r(y),l.d(y,{WalletModule:()=>ht});var o=l(177),g=l(2791),v=l(1413),_=l(6977),u=l(5098),t=l(4438),C=l(1400),f=l(4582),c=l(5779),w=l(1141),h=l(6781),m=l(6627),p=l(9820),R=l(2029);const x=["walletChart"],F=["chartContainer"],$=()=>({width:"60vw"}),S=i=>({active:i}),j=(i,s,e,a)=>({"pi-arrow-up text-success":i,"pi-arrow-down text-danger":s,"me-1":e,"ms-1":a}),M=(i,s)=>({"pi-arrow-up text-success":i,"pi-arrow-down text-danger":s});function E(i,s){if(1&i&&t.nrm(0,"p-chart",42,1),2&i){const e=t.XpG(2);t.Y8G("data",e.chartData)("options",e.chartOptions)}}function I(i,s){if(1&i&&(t.j41(0,"div",40,0),t.DNE(2,E,2,2,"p-chart",41),t.k0s()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.chartData)}}function O(i,s){if(1&i){const e=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){const n=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.setPeriod(n.value))}),t.EFF(1),t.k0s()}if(2&i){const e=s.$implicit,a=t.XpG();t.Y8G("ngClass",t.eq3(2,S,a.selectedPeriod===e.value)),t.R7$(),t.SpI(" ","ar"===a.lang?e.labelAr:e.label," ")}}function P(i,s){if(1&i&&(t.j41(0,"tr")(1,"th",44),t.EFF(2),t.k0s(),t.j41(3,"th",45),t.EFF(4),t.k0s(),t.j41(5,"th",46),t.EFF(6),t.k0s(),t.j41(7,"th",46),t.EFF(8),t.k0s(),t.j41(9,"th",47),t.EFF(10),t.k0s(),t.j41(11,"th",48),t.EFF(12),t.k0s()()),2&i){const e=t.XpG();t.R7$(),t.xc7("text-align","ar"===e.lang?"right":"left"),t.R7$(),t.JRh(e.getTranslation("service")),t.R7$(),t.xc7("text-align","ar"===e.lang?"right":"left"),t.R7$(),t.JRh(e.getTranslation("date")),t.R7$(),t.xc7("text-align","ar"===e.lang?"right":"left"),t.R7$(),t.JRh(e.getTranslation("transaction")),t.R7$(),t.xc7("text-align","ar"===e.lang?"right":"left"),t.R7$(),t.JRh(e.getTranslation("type")),t.R7$(),t.xc7("text-align","ar"===e.lang?"right":"left"),t.R7$(),t.JRh(e.getTranslation("amount")),t.R7$(2),t.JRh(e.getTranslation("details"))}}function z(i,s){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"span",49),t.EFF(3),t.k0s()(),t.j41(4,"td")(5,"span",50),t.EFF(6),t.k0s()(),t.j41(7,"td")(8,"span",51),t.nrm(9,"i",52),t.EFF(10),t.k0s()(),t.j41(11,"td")(12,"span",53),t.EFF(13),t.nI1(14,"titlecase"),t.k0s()(),t.j41(15,"td")(16,"div",54)(17,"span"),t.EFF(18),t.k0s()()(),t.j41(19,"td",55)(20,"button",56),t.bIt("click",function(){const n=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.showTransactionDetails(n))}),t.nrm(21,"i",57),t.k0s()()()}if(2&i){const e=s.$implicit,a=t.XpG();t.R7$(),t.xc7("text-align","ar"===a.lang?"right":"left"),t.BMQ("data-label",a.getTranslation("service")),t.R7$(2),t.JRh(a.formatService((null==e.order?null:e.order.service)||e.type)),t.R7$(),t.xc7("text-align","ar"===a.lang?"right":"left"),t.BMQ("data-label",a.getTranslation("date")),t.R7$(2),t.JRh(a.formatDate(e.date)),t.R7$(),t.xc7("text-align","ar"===a.lang?"right":"left"),t.BMQ("data-label",a.getTranslation("transaction")),t.R7$(),t.Y8G("ngClass","deposit"===e.transaction?"badge-light-success":"badge-light-danger"),t.R7$(),t.Y8G("ngClass",t.ziG(28,j,"deposit"===e.transaction,"deposit"!==e.transaction,"ar"!==a.lang,"ar"===a.lang)),t.R7$(),t.SpI(" ",a.getTransactionType(e)," "),t.R7$(),t.xc7("text-align","ar"===a.lang?"right":"left"),t.BMQ("data-label",a.getTranslation("type")),t.R7$(2),t.SpI(" ",t.bMT(14,26,e.type)," "),t.R7$(2),t.xc7("text-align","ar"===a.lang?"right":"left"),t.BMQ("data-label",a.getTranslation("amount")),t.R7$(2),t.HbH("badge "+("deposit"===e.transaction?"badge-light-success":"badge-light-danger")+" fs-base px-2 py-1"),t.R7$(),t.SpI(" ",a.formatAmount(e.amount)," "),t.R7$(),t.BMQ("data-label",a.getTranslation("details")),t.R7$(),t.Y8G("title",a.getTranslation("viewDetails"))}}function B(i,s){if(1&i&&(t.j41(0,"tr")(1,"td",58)(2,"span",50),t.EFF(3),t.k0s()()()),2&i){const e=t.XpG();t.R7$(3),t.JRh(e.getTranslation("noTransactions"))}}function A(i,s){if(1&i){const e=t.RV6();t.j41(0,"div",59)(1,"div",50),t.EFF(2),t.k0s(),t.j41(3,"p-paginator",60),t.bIt("onPageChange",function(n){t.eBV(e);const r=t.XpG();return t.Njj(r.onPageChange(n))}),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.SjE(" ",e.getTranslation("showingPage")," ",e.currentPage," ",e.getTranslation("of")," ",e.Math.ceil(e.totalRecords/e.pageSize)," ",e.getTranslation("pages")," "),t.R7$(),t.Y8G("rows",e.pageSize)("totalRecords",e.totalRecords)("first",(e.currentPage-1)*e.pageSize)}}function G(i,s){if(1&i&&(t.j41(0,"div",71)(1,"div",72)(2,"span",73),t.EFF(3),t.k0s(),t.j41(4,"span",74),t.EFF(5),t.k0s()()()),2&i){const e=t.XpG(2);t.R7$(3),t.JRh(e.formatOriginalAmount(e.selectedTransaction.order.amount)),t.R7$(2),t.Lme("",e.selectedTransaction.order.insighter_profit_rate," ",e.getTranslation("insighterProfit"),"")}}function W(i,s){if(1&i&&(t.j41(0,"span",82),t.EFF(1),t.k0s()),2&i){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.getUserInitials(null==e.selectedTransaction.order?null:e.selectedTransaction.order.user)," ")}}function N(i,s){if(1&i&&(t.j41(0,"div",50)(1,"a",83),t.nrm(2,"i",84),t.EFF(3),t.k0s()()),2&i){const e=t.XpG(3);t.R7$(),t.Y8G("href","mailto:"+(null==e.selectedTransaction.order||null==e.selectedTransaction.order.user?null:e.selectedTransaction.order.user.email),t.B4B)("title",e.getTranslation("sendEmail")),t.R7$(2),t.SpI(" ",null==e.selectedTransaction.order||null==e.selectedTransaction.order.user?null:e.selectedTransaction.order.user.email," ")}}function H(i,s){if(1&i&&(t.j41(0,"div",50)(1,"span",85),t.EFF(2),t.k0s()()),2&i){const e=t.XpG(3);t.R7$(2),t.JRh(e.getTranslation("emailNotAvailable"))}}function J(i,s){if(1&i){const e=t.RV6();t.j41(0,"div",75)(1,"h5",64),t.EFF(2),t.k0s(),t.j41(3,"div",14)(4,"div",76)(5,"div",77),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.redirectToProfile(null==n.selectedTransaction.order?null:n.selectedTransaction.order.user))}),t.DNE(6,W,2,1,"span",78),t.k0s()(),t.j41(7,"div",16)(8,"div",79)(9,"h6",80),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.redirectToProfile(null==n.selectedTransaction.order?null:n.selectedTransaction.order.user))}),t.EFF(10),t.k0s()(),t.DNE(11,N,4,3,"div",81)(12,H,3,1,"div",81),t.k0s()()()}if(2&i){const e=t.XpG(2);t.R7$(2),t.JRh("deposit"===e.selectedTransaction.transaction?"Client Information":"Insighter Information"),t.R7$(3),t.xc7("background-image",null!=e.selectedTransaction.order&&null!=e.selectedTransaction.order.user&&e.selectedTransaction.order.user.profile_photo_url?"url("+(null==e.selectedTransaction.order||null==e.selectedTransaction.order.user?null:e.selectedTransaction.order.user.profile_photo_url)+")":"none")("background-color",null!=e.selectedTransaction.order&&null!=e.selectedTransaction.order.user&&e.selectedTransaction.order.user.profile_photo_url?"transparent":"#4f28ed"),t.Y8G("title",e.getTranslation("viewProfile")),t.R7$(),t.Y8G("ngIf",!(null!=e.selectedTransaction.order&&null!=e.selectedTransaction.order.user&&e.selectedTransaction.order.user.profile_photo_url)),t.R7$(3),t.Y8G("title",e.getTranslation("viewProfile")),t.R7$(),t.SpI(" ",null==e.selectedTransaction.order||null==e.selectedTransaction.order.user?null:e.selectedTransaction.order.user.name," "),t.R7$(),t.Y8G("ngIf",null==e.selectedTransaction.order||null==e.selectedTransaction.order.user?null:e.selectedTransaction.order.user.email),t.R7$(),t.Y8G("ngIf",!(null!=e.selectedTransaction.order&&null!=e.selectedTransaction.order.user&&e.selectedTransaction.order.user.email))}}function L(i,s){if(1&i&&(t.j41(0,"div",62)(1,"div",63)(2,"h5",64),t.EFF(3),t.k0s(),t.j41(4,"div",86)(5,"div",87)(6,"span",88),t.EFF(7),t.k0s(),t.j41(8,"span",49),t.EFF(9),t.k0s()(),t.j41(10,"div",87)(11,"span",88),t.EFF(12),t.k0s(),t.j41(13,"span",49),t.EFF(14),t.k0s()()(),t.j41(15,"div",86)(16,"div",87)(17,"span",88),t.EFF(18),t.k0s(),t.j41(19,"span",49),t.EFF(20),t.k0s()(),t.j41(21,"div",87)(22,"span",88),t.EFF(23),t.k0s(),t.j41(24,"span",51),t.EFF(25),t.k0s()()()()()),2&i){const e=t.XpG(2);t.R7$(3),t.JRh(e.getTranslation("orderInformation")),t.R7$(4),t.JRh(e.getTranslation("orderNumber")),t.R7$(2),t.JRh(e.selectedTransaction.order.order_no),t.R7$(3),t.JRh(e.getTranslation("invoiceNumber")),t.R7$(2),t.JRh(e.selectedTransaction.order.invoice_no),t.R7$(4),t.JRh(e.getTranslation("service")),t.R7$(2),t.JRh(e.formatService((null==e.selectedTransaction.order?null:e.selectedTransaction.order.service)||e.selectedTransaction.type)),t.R7$(3),t.JRh(e.getTranslation("status")),t.R7$(),t.Y8G("ngClass",e.getStatusBadgeClass(e.selectedTransaction.order.status)),t.R7$(),t.JRh(e.formatStatus(e.selectedTransaction.order.status))}}function Y(i,s){if(1&i&&(t.j41(0,"div",101)(1,"div",14),t.nrm(2,"img",102),t.j41(3,"span"),t.EFF(4),t.k0s()(),t.j41(5,"span",103),t.EFF(6),t.k0s()()),2&i){const e=s.$implicit,a=t.XpG(7);t.R7$(2),t.Y8G("src",a.getFileIcon(e.file_extension),t.B4B)("alt",e.file_extension),t.R7$(2),t.Lme("",e.file_name,".",e.file_extension,""),t.R7$(2),t.SpI("$",e.price,"")}}function X(i,s){if(1&i&&(t.j41(0,"div",99),t.DNE(1,Y,7,5,"div",100),t.k0s()),2&i){const e=s.$implicit;t.R7$(),t.Y8G("ngForOf",e)}}function U(i,s){if(1&i&&(t.j41(0,"div",97),t.DNE(1,X,2,1,"div",98),t.k0s()),2&i){const e=t.XpG(5);t.R7$(),t.Y8G("ngForOf",e.selectedTransaction.order.orderable.knowledge_documents)}}function V(i,s){if(1&i&&(t.j41(0,"div",93)(1,"div",94)(2,"span",95),t.EFF(3),t.nI1(4,"titlecase"),t.k0s(),t.j41(5,"span",49),t.EFF(6),t.k0s()(),t.DNE(7,U,2,1,"div",96),t.k0s()),2&i){const e=s.$implicit,a=t.XpG(4);t.R7$(3),t.JRh(t.bMT(4,3,e.type)),t.R7$(3),t.JRh(e.title),t.R7$(),t.Y8G("ngIf",a.selectedTransaction.order.orderable.knowledge_documents)}}function Q(i,s){if(1&i&&(t.j41(0,"div",64)(1,"div",91),t.DNE(2,V,8,5,"div",92),t.k0s()()),2&i){const e=t.XpG(3);t.R7$(2),t.Y8G("ngForOf",e.selectedTransaction.order.orderable.knowledge)}}function K(i,s){if(1&i&&(t.j41(0,"div",93)(1,"span",88),t.EFF(2),t.k0s(),t.j41(3,"p",106),t.EFF(4),t.k0s()()),2&i){const e=t.XpG(4);t.R7$(2),t.JRh(e.getTranslation("meetingDescription")),t.R7$(2),t.JRh(e.selectedTransaction.order.orderable.meeting_booking.description)}}function Z(i,s){if(1&i&&(t.j41(0,"div",104)(1,"h6",93),t.EFF(2),t.k0s(),t.j41(3,"div",91)(4,"div",86)(5,"div",87)(6,"span",88),t.EFF(7),t.k0s(),t.j41(8,"span",49),t.EFF(9),t.k0s()(),t.j41(10,"div",87)(11,"span",88),t.EFF(12),t.k0s(),t.j41(13,"span",51),t.EFF(14),t.k0s()()(),t.j41(15,"div",86)(16,"div",87)(17,"span",88),t.EFF(18),t.k0s(),t.j41(19,"span",49),t.EFF(20),t.k0s()(),t.j41(21,"div",87)(22,"span",88),t.EFF(23),t.k0s(),t.j41(24,"span",49),t.EFF(25),t.k0s()()(),t.DNE(26,K,5,2,"div",105),t.k0s()()),2&i){const e=t.XpG(3);t.R7$(2),t.JRh(e.getTranslation("meetingDetails")),t.R7$(5),t.JRh(e.getTranslation("meetingTitle")),t.R7$(2),t.JRh(e.selectedTransaction.order.orderable.meeting_booking.title),t.R7$(3),t.JRh(e.getTranslation("meetingStatus")),t.R7$(),t.Y8G("ngClass",e.getStatusBadgeClass(e.selectedTransaction.order.orderable.meeting_booking.status)),t.R7$(),t.JRh(e.formatStatus(e.selectedTransaction.order.orderable.meeting_booking.status)),t.R7$(4),t.JRh(e.getTranslation("meetingDate")),t.R7$(2),t.JRh(e.formatMeetingDate(e.selectedTransaction.order.orderable.meeting_booking.date)),t.R7$(3),t.JRh(e.getTranslation("meetingTime")),t.R7$(2),t.Lme("",e.selectedTransaction.order.orderable.meeting_booking.start_time," - ",e.selectedTransaction.order.orderable.meeting_booking.end_time,""),t.R7$(),t.Y8G("ngIf",e.selectedTransaction.order.orderable.meeting_booking.description)}}function q(i,s){if(1&i&&(t.j41(0,"div",62)(1,"div",63)(2,"h5",64),t.EFF(3),t.k0s(),t.DNE(4,Q,3,1,"div",89)(5,Z,27,12,"div",90),t.k0s()()),2&i){const e=t.XpG(2);t.R7$(3),t.JRh(e.getTranslation("knowledgeItems")),t.R7$(),t.Y8G("ngIf",e.selectedTransaction.order.orderable.knowledge),t.R7$(),t.Y8G("ngIf",e.selectedTransaction.order.orderable.meeting_booking)}}function tt(i,s){if(1&i&&(t.qex(0),t.j41(1,"div",61)(2,"div",62)(3,"div",63)(4,"h5",64),t.EFF(5),t.k0s(),t.j41(6,"div",65)(7,"div")(8,"span",66),t.EFF(9),t.k0s(),t.j41(10,"span"),t.nrm(11,"i",67),t.EFF(12),t.k0s()(),t.j41(13,"div",21)(14,"span",66),t.EFF(15),t.k0s(),t.j41(16,"h3"),t.EFF(17),t.k0s(),t.DNE(18,G,6,3,"div",68),t.k0s()()()(),t.j41(19,"div",62),t.DNE(20,J,13,11,"div",69)(21,L,26,10,"div",70)(22,q,6,3,"div",70),t.k0s()(),t.bVm()),2&i){const e=t.XpG();t.R7$(5),t.JRh(e.getTranslation("transactionDetails")),t.R7$(4),t.JRh(e.getTranslation("transaction")),t.R7$(),t.HbH("badge "+("deposit"===e.selectedTransaction.transaction?"badge-light-success":"badge-light-danger")+" fs-base"),t.R7$(),t.Y8G("ngClass",t.l_i(14,M,"deposit"===e.selectedTransaction.transaction,"deposit"!==e.selectedTransaction.transaction)),t.R7$(),t.SpI("",e.getTransactionType(e.selectedTransaction)," "),t.R7$(3),t.JRh(e.getTranslation("amount")),t.R7$(),t.HbH(e.getAmountClass(e.selectedTransaction)),t.R7$(),t.SpI(" ",e.formatAmount(e.selectedTransaction.amount)," "),t.R7$(),t.Y8G("ngIf","deposit"===e.selectedTransaction.transaction&&(null==e.selectedTransaction.order?null:e.selectedTransaction.order.insighter_profit_rate)&&(null==e.selectedTransaction.order?null:e.selectedTransaction.order.amount)),t.R7$(2),t.Y8G("ngIf",null==e.selectedTransaction.order?null:e.selectedTransaction.order.user),t.R7$(),t.Y8G("ngIf",e.selectedTransaction.order),t.R7$(),t.Y8G("ngIf",e.selectedTransaction.order.orderable)}}function et(i,s){if(1&i){const e=t.RV6();t.j41(0,"button",107),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.showDetailsDialog=!1)}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("label",e.getTranslation("close"))}}let at=(()=>{class i extends u.${walletService;destroy$=new v.B;resizeTimeout=null;resizeObserver;chartContainer;walletChart;set chartContainerRef(e){e?(this.chartContainer=e,this.initResizeObserver(),this.scheduleChartRefresh(0)):(this.chartContainer=void 0,this.teardownResizeObserver())}walletBalance=0;transactions=[];totalRecords=0;loading=!1;currentPage=1;pageSize=10;selectedTransaction=null;showDetailsDialog=!1;chartData;chartOptions;selectedPeriod="monthly";periodOptions=[{label:"Weekly",labelAr:"\u0623\u0633\u0628\u0648\u0639\u064a",value:"weekly"},{label:"Monthly",labelAr:"\u0634\u0647\u0631\u064a",value:"monthly"},{label:"Yearly",labelAr:"\u0633\u0646\u0648\u064a",value:"yearly"}];chartApiData=[];useApiData=!0;hasRealData=!1;get tableColumns(){return[{field:"service",header:"ar"===this.lang?"\u0627\u0644\u062e\u062f\u0645\u0629":"Service"},{field:"date",header:"ar"===this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date"},{field:"transactionType",header:"ar"===this.lang?"\u0627\u0644\u0646\u0648\u0639":"Type"},{field:"operationType",header:"ar"===this.lang?"\u0627\u0644\u0639\u0645\u0644\u064a\u0629":"Operation"},{field:"amount",header:"ar"===this.lang?"\u0627\u0644\u0645\u0628\u0644\u063a":"Amount"},{field:"actions",header:"ar"===this.lang?"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644":"Details"}]}constructor(e,a){super(e),this.walletService=a}ngAfterViewInit(){this.initResizeObserver(),this.scheduleChartRefresh()}ngOnInit(){this.loadWalletData(),this.loadTransactions(),this.loadChartData()}ngOnDestroy(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.teardownResizeObserver(),this.destroy$.next(),this.destroy$.complete(),super.ngOnDestroy()}loadWalletData(){this.walletService.getBalance().pipe((0,_.Q)(this.destroy$)).subscribe({next:e=>{this.walletBalance=e},error:e=>{this.handleServerErrors(e)}})}loadTransactions(){this.loading=!0,this.walletService.getTransactions(this.currentPage,this.pageSize,this.selectedPeriod).pipe((0,_.Q)(this.destroy$)).subscribe({next:e=>{this.transactions=e.data,this.totalRecords=e.meta.total,this.loading=!1},error:e=>{this.loading=!1,this.handleServerErrors(e)}})}loadChartData(){this.walletService.getChartData(this.selectedPeriod).pipe((0,_.Q)(this.destroy$)).subscribe({next:e=>{this.chartApiData=e.data,this.hasRealData=this.chartApiData.length>0,this.hasRealData&&this.initializeChart()},error:e=>{this.handleServerErrors(e),this.hasRealData=!1,this.chartApiData=[]}})}onWindowResize(){this.scheduleChartRefresh()}scheduleChartRefresh(e=150){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{const a=this.walletChart;a&&(a.chart&&(a.chart.canvas.style.width="100%",a.chart.resize(),a.chart.update("none")),"function"==typeof a.reinit&&a.reinit())},e)}initResizeObserver(){if(typeof window>"u"||!window.ResizeObserver||!this.chartContainer?.nativeElement)return;this.teardownResizeObserver();const e=window.ResizeObserver;this.resizeObserver=new e(()=>{this.scheduleChartRefresh(100)}),this.resizeObserver.observe(this.chartContainer.nativeElement)}teardownResizeObserver(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}onPageChange(e){this.currentPage=(e.page||0)+1,this.loadTransactions()}formatService(e){return e?"book_meeting"===e?"ar"===this.lang?"\u062d\u062c\u0632 \u0627\u062c\u062a\u0645\u0627\u0639":"Book Meeting":"income_meeting"===e?"ar"===this.lang?"\u062f\u062e\u0644 \u0645\u0646 \u0627\u062c\u062a\u0645\u0627\u0639":"Meeting Income":"income_knowledge"===e?"ar"===this.lang?"\u062f\u062e\u0644 \u0645\u0646 \u0627\u0644\u0645\u0639\u0631\u0641\u0629":"Knowledge Income":"purchase_knowledge"===e?"ar"===this.lang?"\u0634\u0631\u0627\u0621 \u0627\u0644\u0645\u0639\u0631\u0641\u0629":"Knowledge Purchase":e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "):""}formatOperationType(e){if(!e)return"";const n={book_meeting:{en:"Book Meeting",ar:"\u062d\u062c\u0632 \u0627\u062c\u062a\u0645\u0627\u0639"},income_meeting:{en:"Meeting Income",ar:"\u062f\u062e\u0644 \u0627\u062c\u062a\u0645\u0627\u0639"},income_knowledge:{en:"Knowledge Income",ar:"\u062f\u062e\u0644 \u0645\u0639\u0631\u0641\u0629"},purchase_knowledge:{en:"Knowledge Purchase",ar:"\u0634\u0631\u0627\u0621 \u0645\u0639\u0631\u0641\u0629"},wallet_topup:{en:"Wallet Top-up",ar:"\u0634\u062d\u0646 \u0627\u0644\u0645\u062d\u0641\u0638\u0629"},refund:{en:"Refund",ar:"\u0627\u0633\u062a\u0631\u062f\u0627\u062f"},commission:{en:"Commission",ar:"\u0639\u0645\u0648\u0644\u0629"},bonus:{en:"Bonus",ar:"\u0645\u0643\u0627\u0641\u0623\u0629"}}[e];return n?"ar"===this.lang?n.ar:n.en:e.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}getTransactionType(e){return"ar"===this.lang?"deposit"===e.transaction?"\u0625\u064a\u062f\u0627\u0639":"\u0633\u062d\u0628":"deposit"===e.transaction?"Deposit":"Withdraw"}getTransactionSeverity(e){return"deposit"===e.transaction?"success":"danger"}get Math(){return Math}getAmountClass(e){return"deposit"===e.transaction?"text-success":"text-danger"}formatAmount(e){const n=e>=0?"":")";return`${e>=0?"":"("}$${Math.abs(e).toFixed(2)}${n}`}formatOriginalAmount(e){return null==e?"$0.00":`$${e.toFixed(2)}`}showTransactionDetails(e){this.selectedTransaction=e,this.showDetailsDialog=!0}getFileIcon(e){return e?`assets/media/svg/new-files/${e.toLowerCase()}.svg`:"assets/media/svg/new-files/doc.svg"}formatMeetingDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""}getLatestTransactionAmount(){return this.transactions.length>0?this.transactions[0].amount:0}getLatestTransactionType(){return this.transactions.length>0?this.transactions[0].transaction:""}getUserInitials(e){return e?((e.first_name?.charAt(0)||e.name?.charAt(0)||"")+(e.last_name?.charAt(0)||e.name?.split(" ")[1]?.charAt(0)||"")).toUpperCase():""}getRoleBadgeClass(e){switch(e?.toLowerCase()){case"insighter":return"badge-light-success";case"company":case"client":return"badge-light-info";case"admin":return"badge-light-warning";default:return"badge-light-secondary"}}formatRole(e){if(!e)return"";if("ar"===this.lang)switch(e.toLowerCase()){case"insighter":return"\u062e\u0628\u064a\u0631";case"company":return"\u0634\u0631\u0643\u0629";case"client":return"\u0639\u0645\u064a\u0644";case"admin":return"\u0645\u062f\u064a\u0631";default:return e}return e.charAt(0).toUpperCase()+e.slice(1)}getStatusBadgeClass(e){if(!e)return"badge-light-secondary";switch(e.toLowerCase()){case"paid":case"completed":return"badge-light-success";case"pending":case"processing":return"badge-light-warning";case"cancelled":case"failed":return"badge-light-danger";case"postponed":return"badge-light-info";default:return"badge-light-secondary"}}formatStatus(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}redirectToProfile(e){e?.uuid&&window.open(`https://knoldg.com/en/profile/${e.uuid}?entity=insighter`,"_blank")}getPeriodLabel(){const e=(new Date).getFullYear();return"weekly"===this.selectedPeriod?"ar"===this.lang?"\u0627\u0644\u0623\u0633\u0628\u0648\u0639 \u0627\u0644\u062d\u0627\u0644\u064a":"Current Week":"monthly"===this.selectedPeriod?"ar"===this.lang?`\u0645\u0639\u0627\u0645\u0644\u0627\u062a ${e}`:`${e} Transactions`:""}getTranslation(e){const a={currentWalletBalance:{en:"Balance",ar:"\u0627\u0644\u0631\u0635\u064a\u062f"},transactionsHistory:{en:"Transactions",ar:"\u0627\u0644\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629"},transactionsSubtitle:{en:"Track money coming in and going out from this area.",ar:"\u062a\u062a\u0628\u0639 \u0627\u0644\u0623\u0645\u0648\u0627\u0644 \u0627\u0644\u0648\u0627\u0631\u062f\u0629 \u0648\u0627\u0644\u0635\u0627\u062f\u0631\u0629 \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u0645\u0646\u0637\u0642\u0629."},service:{en:"Transactions",ar:"\u0627\u0644\u062d\u0631\u0643\u0629"},date:{en:"Date",ar:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"},transaction:{en:"Description ",ar:"\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629"},type:{en:"Type",ar:"\u0627\u0644\u0646\u0648\u0639"},transactionType:{en:"Type",ar:"\u0627\u0644\u0646\u0648\u0639"},operationType:{en:"Operation",ar:"\u0627\u0644\u0639\u0645\u0644\u064a\u0629"},amount:{en:"Amount",ar:"\u0627\u0644\u0645\u0628\u0644\u063a"},amountAfterFees:{en:"After Tax",ar:"\u0628\u0639\u062f \u0627\u0644\u0636\u0631\u0627\u0626\u0628"},originalAmount:{en:"Original Amount",ar:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0623\u0635\u0644\u064a"},profitRate:{en:"Profit Rate",ar:"\u0646\u0633\u0628\u0629 \u0627\u0644\u0631\u0628\u062d"},insighterProfit:{en:"Insighter Profit",ar:"\u0631\u0628\u062d \u0627\u0644\u062e\u0628\u064a\u0631"},details:{en:"Details",ar:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"},deposit:{en:"Deposit",ar:"\u0625\u064a\u062f\u0627\u0639"},withdraw:{en:"Withdraw",ar:"\u0633\u062d\u0628"},noTransactions:{en:"No transactions found",ar:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0645\u0639\u0627\u0645\u0644\u0627\u062a"},showingPage:{en:"Showing page",ar:"\u0639\u0631\u0636 \u0627\u0644\u0635\u0641\u062d\u0629"},of:{en:"of",ar:"\u0645\u0646"},pages:{en:"pages",ar:"\u0635\u0641\u062d\u0627\u062a"},transactionDetails:{en:"Transaction Details",ar:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629"},orderInformation:{en:"Order Information",ar:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0637\u0644\u0628"},orderNumber:{en:"Order Number",ar:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"},invoiceNumber:{en:"Invoice Number",ar:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"},status:{en:"Status",ar:"\u0627\u0644\u062d\u0627\u0644\u0629"},knowledgeItems:{en:"Knowledge Items",ar:"\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0645\u0639\u0631\u0641\u0629"},meetingDetails:{en:"Meeting Details",ar:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639"},meetingTitle:{en:"Meeting Title",ar:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639"},meetingStatus:{en:"Meeting Status",ar:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639"},meetingDate:{en:"Meeting Date",ar:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639"},meetingTime:{en:"Meeting Time",ar:"\u0648\u0642\u062a \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639"},meetingDescription:{en:"Description",ar:"\u0627\u0644\u0648\u0635\u0641"},close:{en:"Close",ar:"\u0625\u063a\u0644\u0627\u0642"},viewDetails:{en:"View Details",ar:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"},balance:{en:"Balance",ar:"\u0627\u0644\u0631\u0635\u064a\u062f"},userInformation:{en:"User Information",ar:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"},sendEmail:{en:"Send Email",ar:"\u0625\u0631\u0633\u0627\u0644 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"},viewProfile:{en:"View Profile",ar:"\u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a"},emailNotAvailable:{en:"Email not available",ar:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631"}};return a[e]?a[e]["ar"===this.lang?"ar":"en"]:e}getWalletSubtitle(){return"ar"===this.lang?"\u0627\u0639\u0631\u0636 \u0631\u0635\u064a\u062f\u0643 \u0627\u0644\u062d\u0627\u0644\u064a \u0648\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"View your current balance and transaction history"}handleServerErrors(e){if(e.error&&e.error.errors){const a=e.error.errors;for(const n in a)a.hasOwnProperty(n)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",a[n].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}generateSampleChartData(){const e=new Date,a=[];for(let n=29;n>=0;n--){const r=new Date(e);r.setDate(r.getDate()-n);const d=5e3+3e3*Math.random(),b=2e3+2e3*Math.random(),k=Math.round(d+1e3*Math.sin(.2*n)),D=Math.round(b+800*Math.cos(.15*n));a.push({date:r.toISOString().split("T")[0],deposits:k,balance:k-D+3e3,withdrawals:D})}this.chartApiData=a}initializeChart(){if(console.log("Initializing chart with data:",this.chartApiData),!this.chartApiData||0===this.chartApiData.length)return void console.log("No data available for chart");const e=this.chartApiData.map(n=>n.date),a=(n,r,d)=>{const b=n.createLinearGradient(0,0,0,400);return b.addColorStop(0,r),b.addColorStop(1,d),b};this.chartData={labels:e,datasets:[{label:"ar"===this.lang?"\u0627\u0644\u0625\u064a\u062f\u0627\u0639\u0627\u062a":"Deposits",data:this.chartApiData.map(n=>n.deposits),borderColor:"#10b981",backgroundColor:n=>{const r=n.chart,{ctx:d}=r;return a(d,"rgba(16, 185, 129, 0.2)","rgba(16, 185, 129, 0)")},borderWidth:2,fill:!0,tension:.4,pointBackgroundColor:"#10b981",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6,pointHoverBackgroundColor:"#10b981",pointHoverBorderColor:"#ffffff",pointHoverBorderWidth:3},{label:"ar"===this.lang?"\u0627\u0644\u0633\u062d\u0648\u0628\u0627\u062a":"Withdrawals",data:this.chartApiData.map(n=>n.withdrawals),borderColor:"#ef4444",backgroundColor:n=>{const r=n.chart,{ctx:d}=r;return a(d,"rgba(239, 68, 68, 0.1)","rgba(239, 68, 68, 0)")},borderWidth:2,fill:!0,tension:.4,pointBackgroundColor:"#ef4444",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6,pointHoverBackgroundColor:"#ef4444",pointHoverBorderColor:"#ffffff",pointHoverBorderWidth:3}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,onHover:(n,r,d)=>{r.length>0?this.updateHoverAnnotation(d,r[0].index):this.clearHoverAnnotation(d)},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#ffffff",titleColor:"#1f2937",bodyColor:"#1f2937",borderColor:"#e5e7eb",borderWidth:1,cornerRadius:8,displayColors:!0,usePointStyle:!0,padding:12,titleFont:{size:12,weight:"600"},bodyFont:{size:11},callbacks:{title:n=>{const d=this.chartApiData[n[0].dataIndex].date;return"weekly"===this.selectedPeriod?{Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday",Sun:"Sunday"}[d]||d:"monthly"===this.selectedPeriod?{Jan:"January",Feb:"February",Mar:"March",Apr:"April",May:"May",Jun:"June",Jul:"July",Aug:"August",Sep:"September",Oct:"October",Nov:"November",Dec:"December"}[d]||d:"yearly"===this.selectedPeriod?`Year ${d}`:d},label:n=>`${n.dataset.label}: $${n.parsed.y.toLocaleString()}`}},annotation:{annotations:this.createVerticalAnnotations()}},scales:{x:{type:"category",grid:{color:"#f3f4f6",lineWidth:1,drawBorder:!1},ticks:{color:"#6b7280",font:{size:11},autoSkip:"monthly"!==this.selectedPeriod,maxTicksLimit:"monthly"===this.selectedPeriod?12:"weekly"===this.selectedPeriod?7:void 0}},y:{grid:{color:"#f3f4f6",lineWidth:1,drawBorder:!1},ticks:{color:"#6b7280",font:{size:11},callback:function(n,r,d){return 0===r||r===d.length-1?"$"+n.toLocaleString():""}}}},interaction:{intersect:!1,mode:"index"}},this.scheduleChartRefresh()}setPeriod(e){this.selectedPeriod=e,this.currentPage=1,this.loadTransactions(),this.loadChartData()}createVerticalAnnotations(){if(!this.chartApiData||0===this.chartApiData.length)return{};const e={};return this.chartApiData.forEach((a,n)=>{e[`verticalLine${n}`]={type:"line",scaleID:"x",value:n,borderColor:"rgba(209, 213, 219, 0)",borderWidth:1,borderDash:[3,3],label:{display:!1}}}),e}updateHoverAnnotation(e,a){if(!e||!e.options.plugins.annotation)return;const n=e.options.plugins.annotation.annotations;Object.keys(n).forEach(d=>{d.startsWith("verticalLine")&&(n[d].borderColor="rgba(209, 213, 219, 0)")});const r=n[`verticalLine${a}`];r&&(r.borderColor="#6b7280",r.borderWidth=2),e.update("none")}clearHoverAnnotation(e){if(!e||!e.options.plugins.annotation)return;const a=e.options.plugins.annotation.annotations;Object.keys(a).forEach(n=>{n.startsWith("verticalLine")&&(a[n].borderColor="rgba(209, 213, 219, 0)",a[n].borderWidth=1)}),e.update("none")}getChartLegendData(){if(!this.chartApiData||0===this.chartApiData.length)return[{label:"ar"===this.lang?"\u0627\u0644\u062f\u062e\u0644":"Income",value:"$0",color:"#6366f1"},{label:"ar"===this.lang?"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062a":"Expenditure",value:"$0",color:"#0ea5e9"}];const e=this.chartApiData.reduce((n,r)=>n+r.deposits,0),a=this.chartApiData.reduce((n,r)=>n+r.withdrawals,0);return[{label:"ar"===this.lang?"\u0627\u0644\u062f\u062e\u0644":"Income",value:`$${e.toLocaleString()}`,color:"#6366f1"},{label:"ar"===this.lang?"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062a":"Expenditure",value:`$${a.toLocaleString()}`,color:"#0ea5e9"}]}static \u0275fac=function(a){return new(a||i)(t.rXU(t.zZn),t.rXU(C.F))};static \u0275cmp=t.VBU({type:i,selectors:[["app-wallet"]],viewQuery:function(a,n){if(1&a&&(t.GBs(x,5),t.GBs(F,5)),2&a){let r;t.mGM(r=t.lsd())&&(n.walletChart=r.first),t.mGM(r=t.lsd())&&(n.chartContainerRef=r.first)}},hostBindings:function(a,n){1&a&&t.bIt("resize",function(){return n.onWindowResize()},!1,t.tSv)},features:[t.Vt3],decls:44,vars:26,consts:[["chartContainer",""],["walletChart",""],[3,"titleEn","titleAr","subtitle","lang"],["slot","icon"],[1,"ki-duotone","ki-wallet","fs-2x","text-info"],[1,"path1"],[1,"path2"],[1,"path3"],[1,"path4"],[1,"path5"],[1,"d-flex","flex-column","pb-lg-10","pe-10","overflow-hidden"],[1,"card","mb-5","light-wallet-gradient-bg"],[1,"card-header","border-0","pt-5"],[1,"d-flex","justify-content-between","align-items-start","w-100"],[1,"d-flex","align-items-center"],[1,"ki-outline","ki-dollar","text-gray-700","fs-2tx","me-4"],[1,"flex-grow-1"],[1,"d-flex","align-items-center","justify-content-between","gap-5"],[1,"fw-bold","fs-3x","lh-1","ls-n2",2,"color","#4f28ed","padding-top","20px"],[1,"m-0"],[1,"fw-semibold","fs-6","text-gray-500"],[1,"text-end"],[1,"fw-bold","fs-4","text-gray-700"],[1,"card-body"],["class","chart-container ",4,"ngIf"],[1,"card"],[1,"d-flex","justify-content-between","align-items-center","w-100"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bold","fs-3","mb-1"],[1,"nested-tab-nav"],["type","button","class","nested-tab-button",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card-body","py-3",2,"margin-top","20px"],["styleClass","p-datatable-gridlines","responsiveLayout","stack",3,"value","loading","paginator","breakpoint"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","d-flex justify-content-between align-items-center mt-4",4,"ngIf"],["appendTo","body","styleClass","p-fluid",3,"visibleChange","visible","modal","draggable","resizable","header"],[4,"ngIf"],["pTemplate","footer"],[1,"chart-container"],["type","line","class","wallet-chart",3,"data","options",4,"ngIf"],["type","line",1,"wallet-chart",3,"data","options"],["type","button",1,"nested-tab-button",3,"click","ngClass"],[2,"width","20%"],[2,"width","17%"],[2,"width","15%"],[2,"width","12%"],[2,"width","20%","text-align","center"],[1,"fw-semibold"],[1,"text-muted"],[1,"badge","fs-base",3,"ngClass"],[1,"pi",3,"ngClass"],[1,"badge","badge-light-info","fs-base"],[1,"d-flex","flex-column","align-items-start"],[1,"text-center"],["type","button",1,"btn","btn-sm","btn-icon","btn-light-primary",3,"click","title"],[1,"ki-outline","ki-eye","fs-4"],["colspan","6",1,"text-center","py-5"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["styleClass","p-paginator-sm",3,"onPageChange","rows","totalRecords","first"],[1,"grid"],[1,"col-12","mb-5"],[1,"bg-light","rounded","p-4"],[1,"mb-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-2","text-muted","d-block"],[1,"pi","me-2",3,"ngClass"],["class","mt-2",4,"ngIf"],["class","bg-light rounded p-4 mb-4",4,"ngIf"],["class","col-12 mb-5",4,"ngIf"],[1,"mt-2"],[1,"d-flex","align-items-center","gap-2"],[1,"text-muted","text-decoration-line-through"],[1,"badge","badge-light-success"],[1,"bg-light","rounded","p-4","mb-4"],[1,"symbol","symbol-50px","me-3"],[1,"symbol-label","cursor-pointer",3,"click","title"],["class","text-white fw-bold fs-4",4,"ngIf"],[1,"mb-1"],[1,"mb-0","cursor-pointer","text-info",3,"click","title"],["class","text-muted",4,"ngIf"],[1,"text-white","fw-bold","fs-4"],[1,"text-info","text-decoration-none","fw-semibold","d-flex","align-items-center",3,"href","title"],[1,"ki-outline","ki-sms","fs-5","me-2"],[1,"text-muted","fs-7"],[1,"row","mb-3"],[1,"col-6"],[1,"mb-1","text-muted","d-block"],["class","mb-4",4,"ngIf"],["class","mb-4 mt-4",4,"ngIf"],[1,"border","rounded","p-3"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[1,"d-flex","align-items-center","mb-2"],[1,"badge","badge-light-info","fs-base","me-2"],["class","ms-4",4,"ngIf"],[1,"ms-4"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],["class","d-flex align-items-center justify-content-between py-2 border-bottom",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between","py-2","border-bottom"],[1,"me-2",2,"width","24px","height","24px",3,"src","alt"],[1,"fw-semibold","text-info"],[1,"mb-4","mt-4"],["class","mb-3",4,"ngIf"],[1,"fw-semibold","mb-0"],["pButton","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"]],template:function(a,n){1&a&&(t.j41(0,"app-page-header",2)(1,"div",3)(2,"i",4),t.nrm(3,"span",5)(4,"span",6)(5,"span",7)(6,"span",8)(7,"span",9),t.k0s()()(),t.j41(8,"div",10)(9,"div",11)(10,"div",12)(11,"div",13)(12,"div",14),t.nrm(13,"i",15),t.j41(14,"div",16)(15,"div",17)(16,"span",18),t.EFF(17),t.nI1(18,"currency"),t.k0s()(),t.j41(19,"div",19)(20,"span",20),t.EFF(21),t.k0s()()()(),t.j41(22,"div",21)(23,"span",22),t.EFF(24),t.k0s()()()(),t.j41(25,"div",23),t.DNE(26,I,3,1,"div",24),t.k0s()(),t.j41(27,"div",25)(28,"div",12)(29,"div",26)(30,"h3",27)(31,"span",28),t.EFF(32),t.k0s()(),t.j41(33,"div",29),t.DNE(34,O,2,4,"button",30),t.k0s()()(),t.j41(35,"div",31)(36,"p-table",32),t.DNE(37,P,13,16,"ng-template",33)(38,z,22,33,"ng-template",34)(39,B,4,1,"ng-template",35),t.k0s(),t.DNE(40,A,4,8,"div",36),t.k0s()()(),t.j41(41,"p-dialog",37),t.mxI("visibleChange",function(d){return t.DH7(n.showDetailsDialog,d)||(n.showDetailsDialog=d),d}),t.DNE(42,tt,23,17,"ng-container",38)(43,et,1,1,"ng-template",39),t.k0s()),2&a&&(t.Y8G("titleEn","My Wallet")("titleAr","\u0645\u062d\u0641\u0638\u062a\u064a")("subtitle",n.getWalletSubtitle())("lang",n.lang),t.R7$(17),t.JRh(t.bMT(18,23,n.walletBalance.toFixed(2))),t.R7$(4),t.JRh(n.getTranslation("currentWalletBalance")),t.R7$(3),t.JRh(n.getPeriodLabel()),t.R7$(2),t.Y8G("ngIf",n.hasRealData),t.R7$(6),t.JRh(n.getTranslation("transactionsHistory")),t.R7$(2),t.Y8G("ngForOf",n.periodOptions),t.R7$(2),t.Y8G("value",n.transactions)("loading",n.loading)("paginator",!1)("breakpoint","768px"),t.R7$(4),t.Y8G("ngIf",n.totalRecords>n.pageSize),t.R7$(),t.Aen(t.lJ4(25,$)),t.R50("visible",n.showDetailsDialog),t.Y8G("modal",!0)("draggable",!1)("resizable",!1)("header",n.getTranslation("transactionDetails")),t.R7$(),t.Y8G("ngIf",n.selectedTransaction))},dependencies:[o.YU,o.Sq,o.bT,f.XI,c.Ei,w._f,h.l,m.m,p.X,R.y,o.PV,o.oe],styles:[".card[_ngcontent-%COMP%]{border:1px solid #e9ecef;border-radius:.75rem;box-shadow:0 .125rem .25rem #00000013;overflow:hidden}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem;overflow-x:auto}.bg-light[_ngcontent-%COMP%]{background-color:#f8f9fa!important}.text-success[_ngcontent-%COMP%]{color:#28a745!important}.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.card.light-wallet-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#eceefd)!important;color:#4f28ed!important;border:1px solid #ddd!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem!important;overflow-x:hidden}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]{margin-top:1rem;border-radius:.5rem;overflow:hidden;position:relative;width:100%;height:120px}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .p-chart{width:100%!important;height:100%!important;display:block}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .p-chart canvas{width:100%!important;height:100%!important;max-width:100%!important;cursor:pointer!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip{position:absolute!important;background:#fff!important;border:1px solid #e3e6f0!important;border-radius:8px!important;color:#333!important;padding:0!important;font-size:13px!important;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important;box-shadow:0 2px 8px #00000014!important;pointer-events:none!important;transition:opacity .2s ease!important;z-index:9999!important;width:auto!important;min-width:160px!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip .tooltip-content .tooltip-header{background:#f8f9fa!important;padding:6px 12px!important;border-radius:8px 8px 0 0!important;font-size:12px!important;font-weight:400!important;color:#6c757d!important;border-bottom:1px solid #e9ecef!important;text-align:center!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip .tooltip-content .tooltip-body{padding:8px 12px!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip .tooltip-content .tooltip-body .tooltip-row{display:flex!important;align-items:center!important;margin-bottom:4px!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip .tooltip-content .tooltip-body .tooltip-row:last-child{margin-bottom:0!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip .tooltip-content .tooltip-body .tooltip-row .tooltip-dot{width:6px!important;height:6px!important;border-radius:50%!important;margin-right:8px!important;flex-shrink:0!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip .tooltip-content .tooltip-body .tooltip-row .tooltip-dot.deposit{background:#2c3e50!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip .tooltip-content .tooltip-body .tooltip-row .tooltip-dot.withdraw{background:#17a2b8!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip .tooltip-content .tooltip-body .tooltip-row .tooltip-dot.balance{background:#6c757d!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip .tooltip-content .tooltip-body .tooltip-row .tooltip-label{flex:1!important;font-size:13px!important;font-weight:500!important;color:#333!important;margin-right:8px!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip .tooltip-content .tooltip-body .tooltip-row .tooltip-value{font-size:13px!important;font-weight:600!important;color:#333!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]   .wallet-chart[_ngcontent-%COMP%]     .chartjs-tooltip:before{display:none!important}.chart-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:100%;overflow:hidden}.chart-container[_ngcontent-%COMP%]     .wallet-chart .p-chart{width:100%!important;height:100%!important}.chart-container[_ngcontent-%COMP%]     .wallet-chart .p-chart canvas{width:100%!important;height:100%!important;cursor:crosshair!important}@media (max-width: 768px){.chart-container[_ngcontent-%COMP%]{height:300px!important}}.chart-legend[_ngcontent-%COMP%]   .legend-dot[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;border-radius:50%;display:flex;align-items:center;justify-content:center}.chart-legend[_ngcontent-%COMP%]   .legend-dot[_ngcontent-%COMP%]   .legend-dot-inner[_ngcontent-%COMP%]{width:6px;height:6px;background-color:#fff;border-radius:50%}  .chartjs-tooltip{position:absolute!important;background:#fffffff2!important;border:1px solid #e5e7eb!important;border-radius:8px!important;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f!important;padding:0!important;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important;pointer-events:none!important;transition:all .2s ease!important;z-index:1000!important;min-width:200px!important;-webkit-backdrop-filter:blur(8px)!important;backdrop-filter:blur(8px)!important}  .chartjs-tooltip-header{background:#f9fafb!important;color:#1f2937!important;font-size:12px!important;font-weight:600!important;padding:8px 12px!important;border-bottom:1px solid #e5e7eb!important;border-radius:8px 8px 0 0!important;text-align:center!important}  .chartjs-tooltip-body{padding:8px 12px!important}  .chartjs-tooltip-body .chartjs-tooltip-body-item{display:flex!important;align-items:center!important;margin-bottom:6px!important;font-size:11px!important}  .chartjs-tooltip-body .chartjs-tooltip-body-item:last-child{margin-bottom:0!important}  .chartjs-tooltip-body .chartjs-tooltip-body-item .chartjs-tooltip-color-box{width:8px!important;height:8px!important;border-radius:50%!important;margin-right:8px!important;border:2px solid white!important;box-shadow:0 0 0 1px #0000001a!important}  .p-datatable .p-datatable-wrapper{overflow-x:auto}@media screen and (max-width: 768px){  .p-datatable.p-datatable-gridlines .p-datatable-thead>tr>th{display:none!important}  .p-datatable.p-datatable-gridlines .p-datatable-tbody>tr>td{display:flex;width:100%!important;align-items:center;justify-content:space-between;padding:.75rem!important;border:none!important}  .p-datatable.p-datatable-gridlines .p-datatable-tbody>tr>td:before{content:attr(data-label);font-weight:600;margin-right:1rem;color:#495057}  .p-datatable.p-datatable-gridlines .p-datatable-tbody>tr>td:first-child{border-top:1px solid #dee2e6!important}  .p-datatable.p-datatable-gridlines .p-datatable-tbody>tr{border:1px solid #dee2e6;margin-bottom:1rem;border-radius:.375rem}}  .p-paginator{background:transparent;border:none;padding:0;display:flex;justify-content:space-between;align-items:center}  .p-paginator .p-paginator-pages .p-paginator-page{min-width:2.5rem;height:2.5rem;margin:0 .125rem;border:1px solid #dee2e6;border-radius:.375rem;color:#495057}  .p-paginator .p-paginator-pages .p-paginator-page:hover{background:#f8f9fa}  .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background:#50cd89;border-color:#50cd89;color:#fff}  .p-paginator .p-paginator-first,   .p-paginator .p-paginator-prev,   .p-paginator .p-paginator-next,   .p-paginator .p-paginator-last{min-width:2.5rem;height:2.5rem;border:1px solid #dee2e6;border-radius:.375rem;color:#495057}  .p-paginator .p-paginator-first:hover:not(:disabled),   .p-paginator .p-paginator-prev:hover:not(:disabled),   .p-paginator .p-paginator-next:hover:not(:disabled),   .p-paginator .p-paginator-last:hover:not(:disabled){background:#f8f9fa}  .p-paginator .p-paginator-rpp-options .p-dropdown{width:80px!important;min-width:80px!important}  .p-paginator .p-paginator-rpp-options .p-dropdown .p-dropdown-label{padding:.5rem .75rem!important;font-size:.875rem!important;text-align:center!important}  .p-paginator .p-paginator-rpp-options .p-dropdown .p-dropdown-trigger{width:2rem!important}.nested-tab-nav[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.35rem;background-color:#f1f5f9;border-radius:9999px}.nested-tab-button[_ngcontent-%COMP%]{border:0;border-radius:9999px;padding:.45rem 1.1rem;font-size:.78rem;font-weight:500;min-width:70px;background-color:transparent;color:#7e8299;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;line-height:1.2}.nested-tab-button[_ngcontent-%COMP%]:hover{color:#181c32;background-color:#0f172a0f}.nested-tab-button[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(9,120,185,.35);outline-offset:2px}.nested-tab-button.is-active[_ngcontent-%COMP%], .nested-tab-button.active[_ngcontent-%COMP%]{background-color:#fff;color:#0978b9;font-weight:600}@media (max-width: 768px){.nested-tab-nav[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;width:100%}.nested-tab-button[_ngcontent-%COMP%]{flex:1 1 45%;min-width:140px;text-align:center}}.symbol[_ngcontent-%COMP%]   .symbol-label[_ngcontent-%COMP%]{border-radius:50%!important;background-size:cover!important;background-position:center!important;background-repeat:no-repeat!important}"]})}return i})();var nt=l(935),it=l(491),rt=l(7515),ot=l(8542);let st=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=t.$C({type:i});static \u0275inj=t.G2t({imports:[o.MD,c.Gg]})}return i})();var lt=l(9417),dt=l(3955),ct=l(5901),pt=l(3354);const gt=[{path:"",component:at}];let ht=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=t.$C({type:i});static \u0275inj=t.G2t({imports:[o.MD,g.iI.forChild(gt),f.bG,nt.$,w.tm,h.P,it.D,rt.d,m.I,ot.S,st,lt.YN,dt.h,p.F,ct.xs,pt.f]})}return i})()},9820:(T,y,l)=>{l.d(y,{F:()=>f,X:()=>C});var o=l(4438),g=l(177),v=l(9763);v.t1.register(...v.$L);const _=v.t1,u=(c,w)=>({position:"relative",width:c,height:w}),t=(c,w)=>({width:c,height:w});let C=(()=>{class c{platformId;el;zone;type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(h){this._data=h,this.reinit()}get options(){return this._options}set options(h){this._options=h,this.reinit()}onDataSelect=new o.bkB;isBrowser=!1;initialized;_data;_options={};chart;constructor(h,m,p){this.platformId=h,this.el=m,this.zone=p}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(h){if(this.chart){const m=this.chart.getElementsAtEventForMode(h,"nearest",{intersect:!0},!1),p=this.chart.getElementsAtEventForMode(h,"dataset",{intersect:!0},!1);m&&m[0]&&p&&this.onDataSelect.emit({originalEvent:h,element:m[0],dataset:p})}}initChart(){if((0,g.UE)(this.platformId)){let h=this.options||{};h.responsive=this.responsive,h.responsive&&(this.height||this.width)&&(h.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new _(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(m){return new(m||c)(o.rXU(o.Agw),o.rXU(o.aKT),o.rXU(o.SKi))};static \u0275cmp=o.VBU({type:c,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:[o.Mj6.HasDecoratorInputTransform,"responsive","responsive",o.L39],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},features:[o.GFd],decls:2,vars:10,consts:[[3,"ngStyle"],["role","img",3,"click","ngStyle"]],template:function(m,p){1&m&&(o.j41(0,"div",0)(1,"canvas",1),o.bIt("click",function(x){return p.onCanvasClick(x)}),o.k0s()()),2&m&&(o.Y8G("ngStyle",o.l_i(4,u,p.responsive&&!p.width?null:p.width,p.responsive&&!p.height?null:p.height)),o.R7$(),o.Y8G("ngStyle",o.l_i(7,t,p.responsive&&!p.width?null:p.width,p.responsive&&!p.height?null:p.height)),o.BMQ("aria-label",p.ariaLabel)("aria-labelledby",p.ariaLabelledBy))},dependencies:[g.B3],encapsulation:2,changeDetection:0})}return c})(),f=(()=>{class c{static \u0275fac=function(m){return new(m||c)};static \u0275mod=o.$C({type:c});static \u0275inj=o.G2t({imports:[g.MD]})}return c})()},7515:(T,y,l)=>{l.d(y,{d:()=>_,p:()=>v});var o=l(177),g=l(4438);let v=(()=>{class u{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;static \u0275fac=function(f){return new(f||u)};static \u0275cmp=g.VBU({type:u,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},decls:3,vars:11,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(f,c){1&f&&(g.j41(0,"div",0),g.qSk(),g.j41(1,"svg",1),g.nrm(2,"circle",2),g.k0s()()),2&f&&(g.Y8G("ngStyle",c.style)("ngClass",c.styleClass),g.BMQ("aria-label",c.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),g.R7$(),g.xc7("animation-duration",c.animationDuration),g.BMQ("data-pc-section","root"),g.R7$(),g.BMQ("fill",c.fill)("stroke-width",c.strokeWidth))},dependencies:[o.YU,o.B3],styles:['@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0})}return u})(),_=(()=>{class u{static \u0275fac=function(f){return new(f||u)};static \u0275mod=g.$C({type:u});static \u0275inj=g.G2t({imports:[o.MD]})}return u})()}}]);